self.addEventListener("install",(e=>{console.log("Installing [Service Worker]",e),e.waitUntil(caches.open("static").then((e=>{console.log("[Service Worker] Precaching App Shell"),e.addAll(["/","/index.html","/favicon.ico"])})))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).then((t=>caches.open("dynamic").then((n=>(n.put(e.request.url,t.clone()),t))))))))})),self.addEventListener("sync",(e=>{console.log("[Service Worker] Syncing"),"sync-request"===e.tag&&e.waitUntil(readAllData("sync-requests").then((async e=>{const t=[];for(const n of e)t.push(fetch("https://simple-pwa-8a005.firebaseio.com/data.json",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({sunday:n.sunday})}));(await Promise.all(t)).map(((t,n)=>{t.ok&&deleteItemFromData("sync-requests",e[n].id)}))})))}));