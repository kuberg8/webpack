/*! For license information please see 557.ed9eb8bade6fc6f38e28.js.LICENSE.txt */
(self.webpackChunkmain=self.webpackChunkmain||[]).push([[557],{6124:(t,e,n)=>{"use strict";if(n(1934),n(5654),n(7694),n.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");function r(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}n.g._babelPolyfill=!0,r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&r(Array,t,Function.call.bind([][t]))}))},5654:function(t,e,n){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",c=e.regeneratorRuntime;if(c)t.exports=c;else{(c=e.regeneratorRuntime=t.exports).wrap=w;var u="suspendedStart",h="suspendedYield",f="executing",d="completed",p={},g={};g[s]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(D([])));v&&v!==r&&i.call(v,s)&&(g=v);var y=S.prototype=x.prototype=Object.create(g);k.prototype=y.constructor=S,S.constructor=k,S[a]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(y),t},c.awrap=function(t){return{__await:t}},C(M.prototype),M.prototype[l]=function(){return this},c.AsyncIterator=M,c.async=function(t,e,n,r){var i=new M(w(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},C(y),y[a]="Generator",y[s]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return l.type="throw",l.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],l=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function w(t,e,n,r){var i=e&&e.prototype instanceof x?e:x,o=Object.create(i.prototype),s=new T(r||[]);return o._invoke=function(t,e,n){var r=u;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var l=E(s,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var a=b(t,e,n);if("normal"===a.type){if(r=n.done?d:h,a.arg===p)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=d,n.method="throw",n.arg=a.arg)}}}(t,n,s),o}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function k(){}function S(){}function C(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function M(t){function n(e,r,o,s){var l=b(t[e],t,r);if("throw"!==l.type){var a=l.arg,c=a.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):Promise.resolve(c).then((function(t){a.value=t,o(a)}),s)}s(l.arg)}var r;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise((function(r,i){n(t,e,r,i)}))}return r=r?r.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function D(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}("object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:this)},7694:(t,e,n)=>{n(1761),t.exports=n(5645).RegExp.escape},4963:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},3365:(t,e,n)=>{var r=n(2032);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},7722:(t,e,n)=>{var r=n(6314)("unscopables"),i=Array.prototype;null==i[r]&&n(7728)(i,r,{}),t.exports=function(t){i[r][t]=!0}},6793:(t,e,n)=>{"use strict";var r=n(4496)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},3328:t=>{t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},7007:(t,e,n)=>{var r=n(5286);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},5216:(t,e,n)=>{"use strict";var r=n(508),i=n(2337),o=n(875);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),l=i(t,s),a=i(e,s),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?s:i(c,s))-a,s-l),h=1;for(a<l&&l<a+u&&(h=-1,a+=u-1,l+=u-1);u-- >0;)a in n?n[l]=n[a]:delete n[l],l+=h,a+=h;return n}},6852:(t,e,n)=>{"use strict";var r=n(508),i=n(2337),o=n(875);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,l=i(s>1?arguments[1]:void 0,n),a=s>2?arguments[2]:void 0,c=void 0===a?n:i(a,n);c>l;)e[l++]=t;return e}},9490:(t,e,n)=>{var r=n(3531);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},9315:(t,e,n)=>{var r=n(2110),i=n(875),o=n(2337);t.exports=function(t){return function(e,n,s){var l,a=r(e),c=i(a.length),u=o(s,c);if(t&&n!=n){for(;c>u;)if((l=a[u++])!=l)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===n)return t||u||0;return!t&&-1}}},50:(t,e,n)=>{var r=n(741),i=n(9797),o=n(508),s=n(875),l=n(6886);t.exports=function(t,e){var n=1==t,a=2==t,c=3==t,u=4==t,h=6==t,f=5==t||h,d=e||l;return function(e,l,p){for(var g,m,v=o(e),y=i(v),w=r(l,p,3),b=s(y.length),x=0,k=n?d(e,b):a?d(e,0):void 0;b>x;x++)if((f||x in y)&&(m=w(g=y[x],x,v),t))if(n)k[x]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:k.push(g)}else if(u)return!1;return h?-1:c||u?u:k}}},7628:(t,e,n)=>{var r=n(4963),i=n(508),o=n(9797),s=n(875);t.exports=function(t,e,n,l,a){r(e);var c=i(t),u=o(c),h=s(c.length),f=a?h-1:0,d=a?-1:1;if(n<2)for(;;){if(f in u){l=u[f],f+=d;break}if(f+=d,a?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;a?f>=0:h>f;f+=d)f in u&&(l=e(l,u[f],f,c));return l}},2736:(t,e,n)=>{var r=n(5286),i=n(4302),o=n(6314)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},6886:(t,e,n)=>{var r=n(2736);t.exports=function(t,e){return new(r(t))(e)}},4398:(t,e,n)=>{"use strict";var r=n(4963),i=n(5286),o=n(7242),s=[].slice,l={},a=function(t,e,n){if(!(e in l)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";l[e]=Function("F,a","return new F("+r.join(",")+")")}return l[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),l=function(){var r=n.concat(s.call(arguments));return this instanceof l?a(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(l.prototype=e.prototype),l}},1488:(t,e,n)=>{var r=n(2032),i=n(6314)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},2032:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9824:(t,e,n)=>{"use strict";var r=n(9275).f,i=n(2503),o=n(4408),s=n(741),l=n(3328),a=n(3531),c=n(2923),u=n(5436),h=n(2974),f=n(7057),d=n(4728).fastKey,p=n(1616),g=f?"_s":"size",m=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var u=t((function(t,r){l(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&a(r,n,t[c],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),f&&r(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))}),n?"entries":"values",!n,!0),h(e)}}},6132:(t,e,n)=>{var r=n(1488),i=n(9490);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},3657:(t,e,n)=>{"use strict";var r=n(4408),i=n(4728).getWeak,o=n(7007),s=n(5286),l=n(3328),a=n(3531),c=n(50),u=n(9181),h=n(1616),f=c(5),d=c(6),p=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return f(t.a,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,r){l(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&a(r,n,t[o],t)}));return r(c.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(h(this,e)).delete(t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(h(this,e)).has(t):n&&u(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},5795:(t,e,n)=>{"use strict";var r=n(3816),i=n(2985),o=n(7234),s=n(4408),l=n(4728),a=n(3531),c=n(3328),u=n(5286),h=n(4253),f=n(7462),d=n(2943),p=n(266);t.exports=function(t,e,n,g,m,v){var y=r[t],w=y,b=m?"set":"add",x=w&&w.prototype,k={},S=function(t){var e=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof w&&(v||x.forEach&&!h((function(){(new w).entries().next()})))){var C=new w,M=C[b](v?{}:-0,1)!=C,E=h((function(){C.has(1)})),A=f((function(t){new w(t)})),O=!v&&h((function(){for(var t=new w,e=5;e--;)t[b](e,e);return!t.has(-0)}));A||((w=e((function(e,n){c(e,w,t);var r=p(new y,e,w);return null!=n&&a(n,m,r[b],r),r}))).prototype=x,x.constructor=w),(E||O)&&(S("delete"),S("has"),m&&S("get")),(O||M)&&S(b),v&&x.clear&&delete x.clear}else w=g.getConstructor(e,t,m,b),s(w.prototype,n),l.NEED=!0;return d(w,t),k[t]=w,i(i.G+i.W+i.F*(w!=y),k),v||g.setStrong(w,t,m),w}},5645:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},2811:(t,e,n)=>{"use strict";var r=n(9275),i=n(681);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},741:(t,e,n)=>{var r=n(4963);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},3537:(t,e,n)=>{"use strict";var r=n(4253),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},870:(t,e,n)=>{"use strict";var r=n(7007),i=n(1689),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},1355:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},7057:(t,e,n)=>{t.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:(t,e,n)=>{var r=n(5286),i=n(3816).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},4430:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(t,e,n)=>{var r=n(7184),i=n(4548),o=n(4682);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,l=n(t),a=o.f,c=0;l.length>c;)a.call(t,s=l[c++])&&e.push(s);return e}},2985:(t,e,n)=>{var r=n(3816),i=n(5645),o=n(7728),s=n(7234),l=n(741),a=function(t,e,n){var c,u,h,f,d=t&a.F,p=t&a.G,g=t&a.S,m=t&a.P,v=t&a.B,y=p?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,w=p?i:i[e]||(i[e]={}),b=w.prototype||(w.prototype={});for(c in p&&(n=e),n)h=((u=!d&&y&&void 0!==y[c])?y:n)[c],f=v&&u?l(h,r):m&&"function"==typeof h?l(Function.call,h):h,y&&s(y,c,h,t&a.U),w[c]!=h&&o(w,c,f),m&&b[c]!=h&&(b[c]=h)};r.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},8852:(t,e,n)=>{var r=n(6314)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},4253:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},8082:(t,e,n)=>{"use strict";n(8269);var r=n(7234),i=n(7728),o=n(4253),s=n(1355),l=n(6314),a=n(1165),c=l("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=l(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e})):void 0;if(!d||!p||"replace"===t&&!u||"split"===t&&!h){var g=/./[f],m=n(s,f,""[t],(function(t,e,n,r,i){return e.exec===a?d&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,t,v),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},3218:(t,e,n)=>{"use strict";var r=n(7007);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3325:(t,e,n)=>{"use strict";var r=n(4302),i=n(5286),o=n(875),s=n(741),l=n(6314)("isConcatSpreadable");t.exports=function t(e,n,a,c,u,h,f,d){for(var p,g,m=u,v=0,y=!!f&&s(f,d,3);v<c;){if(v in a){if(p=y?y(a[v],v,n):a[v],g=!1,i(p)&&(g=void 0!==(g=p[l])?!!g:r(p)),g&&h>0)m=t(e,n,p,o(p.length),m,h-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=p}m++}v++}return m}},3531:(t,e,n)=>{var r=n(741),i=n(8851),o=n(6555),s=n(7007),l=n(875),a=n(9002),c={},u={},h=t.exports=function(t,e,n,h,f){var d,p,g,m,v=f?function(){return t}:a(t),y=r(n,h,e?2:1),w=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=l(t.length);d>w;w++)if((m=e?y(s(p=t[w])[0],p[1]):y(t[w]))===c||m===u)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=i(g,y,p.value,e))===c||m===u)return m};h.BREAK=c,h.RETURN=u},18:(t,e,n)=>{t.exports=n(3825)("native-function-to-string",Function.toString)},3816:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},9181:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},7728:(t,e,n)=>{var r=n(9275),i=n(681);t.exports=n(7057)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},639:(t,e,n)=>{var r=n(3816).document;t.exports=r&&r.documentElement},1734:(t,e,n)=>{t.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:(t,e,n)=>{var r=n(5286),i=n(7375).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},7242:t=>{t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},9797:(t,e,n)=>{var r=n(2032);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6555:(t,e,n)=>{var r=n(2803),i=n(6314)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},4302:(t,e,n)=>{var r=n(2032);t.exports=Array.isArray||function(t){return"Array"==r(t)}},8367:(t,e,n)=>{var r=n(5286),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},5286:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},5364:(t,e,n)=>{var r=n(5286),i=n(2032),o=n(6314)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},8851:(t,e,n)=>{var r=n(7007);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},9988:(t,e,n)=>{"use strict";var r=n(2503),i=n(681),o=n(2943),s={};n(7728)(s,n(6314)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},2923:(t,e,n)=>{"use strict";var r=n(4461),i=n(2985),o=n(7234),s=n(7728),l=n(2803),a=n(9988),c=n(2943),u=n(468),h=n(6314)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",g=function(){return this};t.exports=function(t,e,n,m,v,y,w){a(n,e,m);var b,x,k,S=function(t){if(!f&&t in A)return A[t];switch(t){case d:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",M=v==p,E=!1,A=t.prototype,O=A[h]||A["@@iterator"]||v&&A[v],T=O||S(v),D=v?M?S("entries"):T:void 0,P="Array"==e&&A.entries||O;if(P&&(k=u(P.call(new t)))!==Object.prototype&&k.next&&(c(k,C,!0),r||"function"==typeof k[h]||s(k,h,g)),M&&O&&O.name!==p&&(E=!0,T=function(){return O.call(this)}),r&&!w||!f&&!E&&A[h]||s(A,h,T),l[e]=T,l[C]=g,v)if(b={values:M?T:S(p),keys:y?T:S(d),entries:D},w)for(x in b)x in A||o(A,x,b[x]);else i(i.P+i.F*(f||E),e,b);return b}},7462:(t,e,n)=>{var r=n(6314)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},5436:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},2803:t=>{t.exports={}},4461:t=>{t.exports=!1},3086:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},4934:(t,e,n)=>{var r=n(1801),i=Math.pow,o=i(2,-52),s=i(2,-23),l=i(2,127)*(2-s),a=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<a?c*(i/a/s+1/o-1/o)*a*s:(n=(e=(1+s/o)*i)-(e-i))>l||n!=n?c*(1/0):c*n}},6206:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},8757:t=>{t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},1801:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},4728:(t,e,n)=>{var r=n(3953)("meta"),i=n(5286),o=n(9181),s=n(9275).f,l=0,a=Object.isExtensible||function(){return!0},c=!n(4253)((function(){return a(Object.preventExtensions({}))})),u=function(t){s(t,r,{value:{i:"O"+ ++l,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!a(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!a(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&a(t)&&!o(t,r)&&u(t),t}}},133:(t,e,n)=>{var r=n(8416),i=n(2985),o=n(3825)("metadata"),s=o.store||(o.store=new(n(147))),l=function(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:s,map:l,has:function(t,e,n){var r=l(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=l(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){l(n,r,!0).set(t,e)},keys:function(t,e){var n=l(t,e,!1),r=[];return n&&n.forEach((function(t,e){r.push(e)})),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},4351:(t,e,n)=>{var r=n(3816),i=n(4193).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,l=r.Promise,a="process"==n(2032)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(a&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(a)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(l&&l.resolve){var u=l.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},3499:(t,e,n)=>{"use strict";var r=n(4963);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},5345:(t,e,n)=>{"use strict";var r=n(7057),i=n(7184),o=n(4548),s=n(4682),l=n(508),a=n(9797),c=Object.assign;t.exports=!c||n(4253)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=l(t),c=arguments.length,u=1,h=o.f,f=s.f;c>u;)for(var d,p=a(arguments[u++]),g=h?i(p).concat(h(p)):i(p),m=g.length,v=0;m>v;)d=g[v++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:c},2503:(t,e,n)=>{var r=n(7007),i=n(5588),o=n(4430),s=n(9335)("IE_PROTO"),l=function(){},a=function(){var t,e=n(2457)("iframe"),r=o.length;for(e.style.display="none",n(639).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[o[r]];return a()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[s]=t):n=a(),void 0===e?n:i(n,e)}},9275:(t,e,n)=>{var r=n(7007),i=n(1734),o=n(1689),s=Object.defineProperty;e.f=n(7057)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},5588:(t,e,n)=>{var r=n(9275),i=n(7007),o=n(7184);t.exports=n(7057)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),l=s.length,a=0;l>a;)r.f(t,n=s[a++],e[n]);return t}},1670:(t,e,n)=>{"use strict";t.exports=n(4461)||!n(4253)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n(3816)[t]}))},8693:(t,e,n)=>{var r=n(4682),i=n(681),o=n(2110),s=n(1689),l=n(9181),a=n(1734),c=Object.getOwnPropertyDescriptor;e.f=n(7057)?c:function(t,e){if(t=o(t),e=s(e,!0),a)try{return c(t,e)}catch(t){}if(l(t,e))return i(!r.f.call(t,e),t[e])}},9327:(t,e,n)=>{var r=n(2110),i=n(616).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},616:(t,e,n)=>{var r=n(189),i=n(4430).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},4548:(t,e)=>{e.f=Object.getOwnPropertySymbols},468:(t,e,n)=>{var r=n(9181),i=n(508),o=n(9335)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},189:(t,e,n)=>{var r=n(9181),i=n(2110),o=n(9315)(!1),s=n(9335)("IE_PROTO");t.exports=function(t,e){var n,l=i(t),a=0,c=[];for(n in l)n!=s&&r(l,n)&&c.push(n);for(;e.length>a;)r(l,n=e[a++])&&(~o(c,n)||c.push(n));return c}},7184:(t,e,n)=>{var r=n(189),i=n(4430);t.exports=Object.keys||function(t){return r(t,i)}},4682:(t,e)=>{e.f={}.propertyIsEnumerable},3160:(t,e,n)=>{var r=n(2985),i=n(5645),o=n(4253);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},1131:(t,e,n)=>{var r=n(7057),i=n(7184),o=n(2110),s=n(4682).f;t.exports=function(t){return function(e){for(var n,l=o(e),a=i(l),c=a.length,u=0,h=[];c>u;)n=a[u++],r&&!s.call(l,n)||h.push(t?[n,l[n]]:l[n]);return h}}},7643:(t,e,n)=>{var r=n(616),i=n(4548),o=n(7007),s=n(3816).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},7743:(t,e,n)=>{var r=n(3816).parseFloat,i=n(9599).trim;t.exports=1/r(n(4644)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},5960:(t,e,n)=>{var r=n(3816).parseInt,i=n(9599).trim,o=n(4644),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(s.test(n)?16:10))}:r},188:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},94:(t,e,n)=>{var r=n(7007),i=n(5286),o=n(3499);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},681:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4408:(t,e,n)=>{var r=n(7234);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},7234:(t,e,n)=>{var r=n(3816),i=n(7728),o=n(9181),s=n(3953)("src"),l=n(18),a="toString",c=(""+l).split(a);n(5645).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,l){var a="function"==typeof n;a&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(a&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:l?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,a,(function(){return"function"==typeof this&&this[s]||l.call(this)}))},7787:(t,e,n)=>{"use strict";var r=n(1488),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},1165:(t,e,n)=>{"use strict";var r,i,o=n(3218),s=RegExp.prototype.exec,l=String.prototype.replace,a=s,c=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(a=function(t){var e,n,r,i,a=this;return u&&(n=new RegExp("^"+a.source+"$(?!\\s)",o.call(a))),c&&(e=a.lastIndex),r=s.call(a,t),c&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),u&&r&&r.length>1&&l.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=a},5496:t=>{t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},7195:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},1024:(t,e,n)=>{"use strict";var r=n(2985),i=n(4963),o=n(741),s=n(3531);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,l,a=arguments[1];return i(this),(e=void 0!==a)&&i(a),null==t?new this:(n=[],e?(r=0,l=o(a,arguments[2],2),s(t,!1,(function(t){n.push(l(t,r++))}))):s(t,!1,n.push,n),new this(n))}})}},4881:(t,e,n)=>{"use strict";var r=n(2985);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},7375:(t,e,n)=>{var r=n(5286),i=n(7007),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},2974:(t,e,n)=>{"use strict";var r=n(3816),i=n(9275),o=n(7057),s=n(6314)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},2943:(t,e,n)=>{var r=n(9275).f,i=n(9181),o=n(6314)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},9335:(t,e,n)=>{var r=n(3825)("keys"),i=n(3953);t.exports=function(t){return r[t]||(r[t]=i(t))}},3825:(t,e,n)=>{var r=n(5645),i=n(3816),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:(t,e,n)=>{var r=n(7007),i=n(4963),o=n(6314)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},7717:(t,e,n)=>{"use strict";var r=n(4253);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},4496:(t,e,n)=>{var r=n(1467),i=n(1355);t.exports=function(t){return function(e,n){var o,s,l=String(i(e)),a=r(n),c=l.length;return a<0||a>=c?t?"":void 0:(o=l.charCodeAt(a))<55296||o>56319||a+1===c||(s=l.charCodeAt(a+1))<56320||s>57343?t?l.charAt(a):o:t?l.slice(a,a+2):s-56320+(o-55296<<10)+65536}}},2094:(t,e,n)=>{var r=n(5364),i=n(1355);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},9395:(t,e,n)=>{var r=n(2985),i=n(4253),o=n(1355),s=/"/g,l=function(t,e,n,r){var i=String(o(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),l+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(l),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},5442:(t,e,n)=>{var r=n(875),i=n(8595),o=n(1355);t.exports=function(t,e,n,s){var l=String(o(t)),a=l.length,c=void 0===n?" ":String(n),u=r(e);if(u<=a||""==c)return l;var h=u-a,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),s?f+l:l+f}},8595:(t,e,n)=>{"use strict";var r=n(1467),i=n(1355);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},9599:(t,e,n)=>{var r=n(2985),i=n(1355),o=n(4253),s=n(4644),l="["+s+"]",a=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),u=function(t,e,n){var i={},l=o((function(){return!!s[t]()||"​"!="​"[t]()})),a=i[t]=l?e(h):s[t];n&&(i[n]=a),r(r.P+r.F*l,"String",i)},h=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},4644:t=>{t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},4193:(t,e,n)=>{var r,i,o,s=n(741),l=n(7242),a=n(639),c=n(2457),u=n(3816),h=u.process,f=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},w=function(t){y.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){l("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete v[t]},"process"==n(2032)(h)?r=function(t){h.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=s(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",w,!1)):r="onreadystatechange"in c("script")?function(t){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:d}},2337:(t,e,n)=>{var r=n(1467),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},4843:(t,e,n)=>{var r=n(1467),i=n(875);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},1467:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},2110:(t,e,n)=>{var r=n(9797),i=n(1355);t.exports=function(t){return r(i(t))}},875:(t,e,n)=>{var r=n(1467),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},508:(t,e,n)=>{var r=n(1355);t.exports=function(t){return Object(r(t))}},1689:(t,e,n)=>{var r=n(5286);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},8440:(t,e,n)=>{"use strict";if(n(7057)){var r=n(4461),i=n(3816),o=n(4253),s=n(2985),l=n(9383),a=n(1125),c=n(741),u=n(3328),h=n(681),f=n(7728),d=n(4408),p=n(1467),g=n(875),m=n(4843),v=n(2337),y=n(1689),w=n(9181),b=n(1488),x=n(5286),k=n(508),S=n(6555),C=n(2503),M=n(468),E=n(616).f,A=n(9002),O=n(3953),T=n(6314),D=n(50),P=n(9315),_=n(8364),L=n(6997),R=n(2803),N=n(7462),I=n(2974),B=n(6852),F=n(5216),z=n(9275),j=n(8693),V=z.f,W=j.f,H=i.RangeError,U=i.TypeError,$=i.Uint8Array,q="ArrayBuffer",K="SharedArrayBuffer",G="BYTES_PER_ELEMENT",Q=Array.prototype,Y=a.ArrayBuffer,X=a.DataView,J=D(0),Z=D(2),tt=D(3),et=D(4),nt=D(5),rt=D(6),it=P(!0),ot=P(!1),st=L.values,lt=L.keys,at=L.entries,ct=Q.lastIndexOf,ut=Q.reduce,ht=Q.reduceRight,ft=Q.join,dt=Q.sort,pt=Q.slice,gt=Q.toString,mt=Q.toLocaleString,vt=T("iterator"),yt=T("toStringTag"),wt=O("typed_constructor"),bt=O("def_constructor"),xt=l.CONSTR,kt=l.TYPED,St=l.VIEW,Ct="Wrong length!",Mt=D(1,(function(t,e){return Dt(_(t,t[bt]),e)})),Et=o((function(){return 1===new $(new Uint16Array([1]).buffer)[0]})),At=!!$&&!!$.prototype.set&&o((function(){new $(1).set({})})),Ot=function(t,e){var n=p(t);if(n<0||n%e)throw H("Wrong offset!");return n},Tt=function(t){if(x(t)&&kt in t)return t;throw U(t+" is not a typed array!")},Dt=function(t,e){if(!x(t)||!(wt in t))throw U("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return _t(_(t,t[bt]),e)},_t=function(t,e){for(var n=0,r=e.length,i=Dt(t,r);r>n;)i[n]=e[n++];return i},Lt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,r,i,o,s,l=k(t),a=arguments.length,u=a>1?arguments[1]:void 0,h=void 0!==u,f=A(l);if(null!=f&&!S(f)){for(s=f.call(l),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);l=r}for(h&&a>2&&(u=c(u,arguments[2],2)),e=0,n=g(l.length),i=Dt(this,n);n>e;e++)i[e]=h?u(l[e],e):l[e];return i},Nt=function(){for(var t=0,e=arguments.length,n=Dt(this,e);e>t;)n[t]=arguments[t++];return n},It=!!$&&o((function(){mt.call(new $(1))})),Bt=function(){return mt.apply(It?pt.call(Tt(this)):Tt(this),arguments)},Ft={copyWithin:function(t,e){return F.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return B.apply(Tt(this),arguments)},filter:function(t){return Pt(this,Z(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(Tt(this),arguments)},lastIndexOf:function(t){return ct.apply(Tt(this),arguments)},map:function(t){return Mt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ut.apply(Tt(this),arguments)},reduceRight:function(t){return ht.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=v(t,r);return new(_(n,n[bt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:v(e,r))-i))}},zt=function(t,e){return Pt(this,pt.call(Tt(this),t,e))},jt=function(t){Tt(this);var e=Ot(arguments[1],1),n=this.length,r=k(t),i=g(r.length),o=0;if(i+e>n)throw H(Ct);for(;o<i;)this[e+o]=r[o++]},Vt={entries:function(){return at.call(Tt(this))},keys:function(){return lt.call(Tt(this))},values:function(){return st.call(Tt(this))}},Wt=function(t,e){return x(t)&&t[kt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ht=function(t,e){return Wt(t,e=y(e,!0))?h(2,t[e]):W(t,e)},Ut=function(t,e,n){return!(Wt(t,e=y(e,!0))&&x(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};xt||(j.f=Ht,z.f=Ut),s(s.S+s.F*!xt,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Ut}),o((function(){gt.call({})}))&&(gt=mt=function(){return ft.call(this)});var $t=d({},Ft);d($t,Vt),f($t,vt,Vt.values),d($t,{slice:zt,set:jt,constructor:function(){},toString:gt,toLocaleString:Bt}),Lt($t,"buffer","b"),Lt($t,"byteOffset","o"),Lt($t,"byteLength","l"),Lt($t,"length","e"),V($t,yt,{get:function(){return this[kt]}}),t.exports=function(t,e,n,a){var c=t+((a=!!a)?"Clamped":"")+"Array",h="get"+t,d="set"+t,p=i[c],v=p||{},y=p&&M(p),w=!p||!l.ABV,k={},S=p&&p.prototype,A=function(t,n){V(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[h](n*e+r.o,Et)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;a&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,Et)}(this,n,t)},enumerable:!0})};w?(p=n((function(t,n,r,i){u(t,p,c,"_d");var o,s,l,a,h=0,d=0;if(x(n)){if(!(n instanceof Y||(a=b(n))==q||a==K))return kt in n?_t(p,n):Rt.call(p,n);o=n,d=Ot(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw H(Ct);if((s=v-d)<0)throw H(Ct)}else if((s=g(i)*e)+d>v)throw H(Ct);l=s/e}else l=m(n),o=new Y(s=l*e);for(f(t,"_d",{b:o,o:d,l:s,e:l,v:new X(o)});h<l;)A(t,h++)})),S=p.prototype=C($t),f(S,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&N((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return u(t,p,c),x(n)?n instanceof Y||(o=b(n))==q||o==K?void 0!==i?new v(n,Ot(r,e),i):void 0!==r?new v(n,Ot(r,e)):new v(n):kt in n?_t(p,n):Rt.call(p,n):new v(m(n))})),J(y!==Function.prototype?E(v).concat(E(y)):E(v),(function(t){t in p||f(p,t,v[t])})),p.prototype=S,r||(S.constructor=p));var O=S[vt],T=!!O&&("values"==O.name||null==O.name),D=Vt.values;f(p,wt,!0),f(S,kt,c),f(S,St,!0),f(S,bt,p),(a?new p(1)[yt]==c:yt in S)||V(S,yt,{get:function(){return c}}),k[c]=p,s(s.G+s.W+s.F*(p!=v),k),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){v.of.call(p,1)})),c,{from:Rt,of:Nt}),G in S||f(S,G,e),s(s.P,c,Ft),I(c),s(s.P+s.F*At,c,{set:jt}),s(s.P+s.F*!T,c,Vt),r||S.toString==gt||(S.toString=gt),s(s.P+s.F*o((function(){new p(1).slice()})),c,{slice:zt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Bt}),R[c]=T?O:D,r||T||f(S,vt,D)}}else t.exports=function(){}},1125:(t,e,n)=>{"use strict";var r=n(3816),i=n(7057),o=n(4461),s=n(9383),l=n(7728),a=n(4408),c=n(4253),u=n(3328),h=n(1467),f=n(875),d=n(4843),p=n(616).f,g=n(9275).f,m=n(6852),v=n(2943),y="ArrayBuffer",w="DataView",b="Wrong index!",x=r.ArrayBuffer,k=r.DataView,S=r.Math,C=r.RangeError,M=r.Infinity,E=x,A=S.abs,O=S.pow,T=S.floor,D=S.log,P=S.LN2,_="buffer",L="byteLength",R="byteOffset",N=i?"_b":_,I=i?"_l":L,B=i?"_o":R;function F(t,e,n){var r,i,o,s=new Array(n),l=8*n-e-1,a=(1<<l)-1,c=a>>1,u=23===e?O(2,-24)-O(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=A(t))!=t||t===M?(i=t!=t?1:0,r=a):(r=T(D(t)/P),t*(o=O(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?u/o:u*O(2,1-c))*o>=2&&(r++,o/=2),r+c>=a?(i=0,r=a):r+c>=1?(i=(t*o-1)*O(2,e),r+=c):(i=t*O(2,c-1)*O(2,e),r=0));e>=8;s[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,l+=e;l>0;s[h++]=255&r,r/=256,l-=8);return s[--h]|=128*f,s}function z(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,l=i-7,a=n-1,c=t[a--],u=127&c;for(c>>=7;l>0;u=256*u+t[a],a--,l-=8);for(r=u&(1<<-l)-1,u>>=-l,l+=e;l>0;r=256*r+t[a],a--,l-=8);if(0===u)u=1-s;else{if(u===o)return r?NaN:c?-M:M;r+=O(2,e),u-=s}return(c?-1:1)*r*O(2,u-e)}function j(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function V(t){return[255&t]}function W(t){return[255&t,t>>8&255]}function H(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return F(t,52,8)}function $(t){return F(t,23,4)}function q(t,e,n){g(t.prototype,e,{get:function(){return this[n]}})}function K(t,e,n,r){var i=d(+n);if(i+e>t[I])throw C(b);var o=t[N]._b,s=i+t[B],l=o.slice(s,s+e);return r?l:l.reverse()}function G(t,e,n,r,i,o){var s=d(+n);if(s+e>t[I])throw C(b);for(var l=t[N]._b,a=s+t[B],c=r(+i),u=0;u<e;u++)l[a+u]=c[o?u:e-u-1]}if(s.ABV){if(!c((function(){x(1)}))||!c((function(){new x(-1)}))||c((function(){return new x,new x(1.5),new x(NaN),x.name!=y}))){for(var Q,Y=(x=function(t){return u(this,x),new E(d(t))}).prototype=E.prototype,X=p(E),J=0;X.length>J;)(Q=X[J++])in x||l(x,Q,E[Q]);o||(Y.constructor=x)}var Z=new k(new x(2)),tt=k.prototype.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||a(k.prototype,{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else x=function(t){u(this,x,y);var e=d(t);this._b=m.call(new Array(e),0),this[I]=e},k=function(t,e,n){u(this,k,w),u(t,x,w);var r=t[I],i=h(e);if(i<0||i>r)throw C("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw C("Wrong length!");this[N]=t,this[B]=i,this[I]=n},i&&(q(x,L,"_l"),q(k,_,"_b"),q(k,L,"_l"),q(k,R,"_o")),a(k.prototype,{getInt8:function(t){return K(this,1,t)[0]<<24>>24},getUint8:function(t){return K(this,1,t)[0]},getInt16:function(t){var e=K(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=K(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return j(K(this,4,t,arguments[1]))},getUint32:function(t){return j(K(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return z(K(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return z(K(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){G(this,1,t,V,e)},setUint8:function(t,e){G(this,1,t,V,e)},setInt16:function(t,e){G(this,2,t,W,e,arguments[2])},setUint16:function(t,e){G(this,2,t,W,e,arguments[2])},setInt32:function(t,e){G(this,4,t,H,e,arguments[2])},setUint32:function(t,e){G(this,4,t,H,e,arguments[2])},setFloat32:function(t,e){G(this,4,t,$,e,arguments[2])},setFloat64:function(t,e){G(this,8,t,U,e,arguments[2])}});v(x,y),v(k,w),l(k.prototype,s.VIEW,!0),e.ArrayBuffer=x,e.DataView=k},9383:(t,e,n)=>{for(var r,i=n(3816),o=n(7728),s=n(3953),l=s("typed_array"),a=s("view"),c=!(!i.ArrayBuffer||!i.DataView),u=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,l,!0),o(r.prototype,a,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:l,VIEW:a}},3953:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},575:(t,e,n)=>{var r=n(3816).navigator;t.exports=r&&r.userAgent||""},1616:(t,e,n)=>{var r=n(5286);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},6074:(t,e,n)=>{var r=n(3816),i=n(5645),o=n(4461),s=n(8787),l=n(9275).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||l(e,t,{value:s.f(t)})}},8787:(t,e,n)=>{e.f=n(6314)},6314:(t,e,n)=>{var r=n(3825)("wks"),i=n(3953),o=n(3816).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},9002:(t,e,n)=>{var r=n(1488),i=n(6314)("iterator"),o=n(2803);t.exports=n(5645).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},1761:(t,e,n)=>{var r=n(2985),i=n(5496)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},2e3:(t,e,n)=>{var r=n(2985);r(r.P,"Array",{copyWithin:n(5216)}),n(7722)("copyWithin")},5745:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(4);r(r.P+r.F*!n(7717)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},8977:(t,e,n)=>{var r=n(2985);r(r.P,"Array",{fill:n(6852)}),n(7722)("fill")},8837:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(2);r(r.P+r.F*!n(7717)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},4899:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},2310:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(5),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},4336:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(0),o=n(7717)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},522:(t,e,n)=>{"use strict";var r=n(741),i=n(2985),o=n(508),s=n(8851),l=n(6555),a=n(875),c=n(2811),u=n(9002);i(i.S+i.F*!n(7462)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(f);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||d==Array&&l(y))for(n=new d(e=a(f.length));e>v;v++)c(n,v,m?g(f[v],v):f[v]);else for(h=y.call(f),n=new d;!(i=h.next()).done;v++)c(n,v,m?s(h,g,[i.value,v],!0):i.value);return n.length=v,n}})},3369:(t,e,n)=>{"use strict";var r=n(2985),i=n(9315)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(s||!n(7717)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},774:(t,e,n)=>{var r=n(2985);r(r.S,"Array",{isArray:n(4302)})},6997:(t,e,n)=>{"use strict";var r=n(7722),i=n(5436),o=n(2803),s=n(2110);t.exports=n(2923)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},7842:(t,e,n)=>{"use strict";var r=n(2985),i=n(2110),o=[].join;r(r.P+r.F*(n(9797)!=Object||!n(7717)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},9564:(t,e,n)=>{"use strict";var r=n(2985),i=n(2110),o=n(1467),s=n(875),l=[].lastIndexOf,a=!!l&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(a||!n(7717)(l)),"Array",{lastIndexOf:function(t){if(a)return l.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},1802:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(1);r(r.P+r.F*!n(7717)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},8295:(t,e,n)=>{"use strict";var r=n(2985),i=n(2811);r(r.S+r.F*n(4253)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},3750:(t,e,n)=>{"use strict";var r=n(2985),i=n(7628);r(r.P+r.F*!n(7717)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},3057:(t,e,n)=>{"use strict";var r=n(2985),i=n(7628);r(r.P+r.F*!n(7717)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},110:(t,e,n)=>{"use strict";var r=n(2985),i=n(639),o=n(2032),s=n(2337),l=n(875),a=[].slice;r(r.P+r.F*n(4253)((function(){i&&a.call(i)})),"Array",{slice:function(t,e){var n=l(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return a.call(this,t,e);for(var i=s(t,n),c=s(e,n),u=l(c-i),h=new Array(u),f=0;f<u;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},6773:(t,e,n)=>{"use strict";var r=n(2985),i=n(50)(3);r(r.P+r.F*!n(7717)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},75:(t,e,n)=>{"use strict";var r=n(2985),i=n(4963),o=n(508),s=n(4253),l=[].sort,a=[1,2,3];r(r.P+r.F*(s((function(){a.sort(void 0)}))||!s((function(){a.sort(null)}))||!n(7717)(l)),"Array",{sort:function(t){return void 0===t?l.call(o(this)):l.call(o(this),i(t))}})},1842:(t,e,n)=>{n(2974)("Array")},1822:(t,e,n)=>{var r=n(2985);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},1031:(t,e,n)=>{var r=n(2985),i=n(3537);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},9977:(t,e,n)=>{"use strict";var r=n(2985),i=n(508),o=n(1689);r(r.P+r.F*n(4253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},1560:(t,e,n)=>{var r=n(6314)("toPrimitive"),i=Date.prototype;r in i||n(7728)(i,r,n(870))},6331:(t,e,n)=>{var r=Date.prototype,i="Invalid Date",o=r.toString,s=r.getTime;new Date(NaN)+""!=i&&n(7234)(r,"toString",(function(){var t=s.call(this);return t==t?o.call(this):i}))},9730:(t,e,n)=>{var r=n(2985);r(r.P,"Function",{bind:n(4398)})},8377:(t,e,n)=>{"use strict";var r=n(5286),i=n(468),o=n(6314)("hasInstance"),s=Function.prototype;o in s||n(9275).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},6059:(t,e,n)=>{var r=n(9275).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(7057)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8416:(t,e,n)=>{"use strict";var r=n(9824),i=n(1616),o="Map";t.exports=n(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},6503:(t,e,n)=>{var r=n(2985),i=n(6206),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},6786:(t,e,n)=>{var r=n(2985),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},932:(t,e,n)=>{var r=n(2985),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},7526:(t,e,n)=>{var r=n(2985),i=n(1801);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},1591:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},9073:(t,e,n)=>{var r=n(2985),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},347:(t,e,n)=>{var r=n(2985),i=n(3086);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},579:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{fround:n(4934)})},4669:(t,e,n)=>{var r=n(2985),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,s=0,l=arguments.length,a=0;s<l;)a<(n=i(arguments[s++]))?(o=o*(r=a/n)*r+1,a=n):o+=n>0?(r=n/a)*r:n;return a===1/0?1/0:a*Math.sqrt(o)}})},7710:(t,e,n)=>{var r=n(2985),i=Math.imul;r(r.S+r.F*n(4253)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},5789:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},3514:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{log1p:n(6206)})},9978:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},8472:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{sign:n(1801)})},6946:(t,e,n)=>{var r=n(2985),i=n(3086),o=Math.exp;r(r.S+r.F*n(4253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},5068:(t,e,n)=>{var r=n(2985),i=n(3086),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},413:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},1246:(t,e,n)=>{"use strict";var r=n(3816),i=n(9181),o=n(2032),s=n(266),l=n(1689),a=n(4253),c=n(616).f,u=n(8693).f,h=n(9275).f,f=n(9599).trim,d="Number",p=r.Number,g=p,m=p.prototype,v=o(n(2503)(m))==d,y="trim"in String.prototype,w=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,a=e.slice(2),c=0,u=a.length;c<u;c++)if((s=a.charCodeAt(c))<48||s>i)return NaN;return parseInt(a,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?a((function(){m.valueOf.call(n)})):o(n)!=d)?s(new g(w(e)),n,p):w(e)};for(var b,x=n(7057)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)i(g,b=x[k])&&!i(p,b)&&h(p,b,u(g,b));p.prototype=m,m.constructor=p,n(7234)(r,d,p)}},5972:(t,e,n)=>{var r=n(2985);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},3403:(t,e,n)=>{var r=n(2985),i=n(3816).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},2516:(t,e,n)=>{var r=n(2985);r(r.S,"Number",{isInteger:n(8367)})},9371:(t,e,n)=>{var r=n(2985);r(r.S,"Number",{isNaN:function(t){return t!=t}})},6479:(t,e,n)=>{var r=n(2985),i=n(8367),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},1736:(t,e,n)=>{var r=n(2985);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1889:(t,e,n)=>{var r=n(2985);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},5177:(t,e,n)=>{var r=n(2985),i=n(7743);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},6943:(t,e,n)=>{var r=n(2985),i=n(5960);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},726:(t,e,n)=>{"use strict";var r=n(2985),i=n(1467),o=n(3365),s=n(8595),l=1..toFixed,a=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h="0",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=a(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=a(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call(h,7-n.length)+n}return e},g=function(t,e,n){return 0===e?n:e%2==1?g(t,e-1,n*t):g(t*t,e/2,n)};r(r.P+r.F*(!!l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4253)((function(){l.call({})}))),"Number",{toFixed:function(t){var e,n,r,l,a=o(this,u),c=i(t),m="",v=h;if(c<0||c>20)throw RangeError(u);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(m="-",a=-a),a>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(a*g(2,69,1))-69)<0?a*g(2,-e,1):a/g(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(g(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),v=p()}else f(0,n),f(1<<-e,0),v=p()+s.call(h,c);return c>0?m+((l=v.length)<=c?"0."+s.call(h,c-l)+v:v.slice(0,l-c)+"."+v.slice(l-c)):m+v}})},1901:(t,e,n)=>{"use strict";var r=n(2985),i=n(4253),o=n(3365),s=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==s.call(1,void 0)}))||!i((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},5115:(t,e,n)=>{var r=n(2985);r(r.S+r.F,"Object",{assign:n(5345)})},8132:(t,e,n)=>{var r=n(2985);r(r.S,"Object",{create:n(2503)})},7470:(t,e,n)=>{var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperties:n(5588)})},8388:(t,e,n)=>{var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperty:n(9275).f})},9375:(t,e,n)=>{var r=n(5286),i=n(4728).onFreeze;n(3160)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},4882:(t,e,n)=>{var r=n(2110),i=n(8693).f;n(3160)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},9622:(t,e,n)=>{n(3160)("getOwnPropertyNames",(function(){return n(9327).f}))},1520:(t,e,n)=>{var r=n(508),i=n(468);n(3160)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},9892:(t,e,n)=>{var r=n(5286);n(3160)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},4157:(t,e,n)=>{var r=n(5286);n(3160)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},5095:(t,e,n)=>{var r=n(5286);n(3160)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},9176:(t,e,n)=>{var r=n(2985);r(r.S,"Object",{is:n(7195)})},7476:(t,e,n)=>{var r=n(508),i=n(7184);n(3160)("keys",(function(){return function(t){return i(r(t))}}))},4672:(t,e,n)=>{var r=n(5286),i=n(4728).onFreeze;n(3160)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},3533:(t,e,n)=>{var r=n(5286),i=n(4728).onFreeze;n(3160)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},8838:(t,e,n)=>{var r=n(2985);r(r.S,"Object",{setPrototypeOf:n(7375).set})},6253:(t,e,n)=>{"use strict";var r=n(1488),i={};i[n(6314)("toStringTag")]="z",i+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},4299:(t,e,n)=>{var r=n(2985),i=n(7743);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},1084:(t,e,n)=>{var r=n(2985),i=n(5960);r(r.G+r.F*(parseInt!=i),{parseInt:i})},851:(t,e,n)=>{"use strict";var r,i,o,s,l=n(4461),a=n(3816),c=n(741),u=n(1488),h=n(2985),f=n(5286),d=n(4963),p=n(3328),g=n(3531),m=n(8364),v=n(4193).set,y=n(4351)(),w=n(3499),b=n(188),x=n(575),k=n(94),S="Promise",C=a.TypeError,M=a.process,E=M&&M.versions,A=E&&E.v8||"",O=a.Promise,T="process"==u(M),D=function(){},P=i=w.f,_=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n(6314)("species")]=function(t){t(D,D)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof e&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),L=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,l=i?e.ok:e.fail,a=e.resolve,c=e.reject,u=e.domain;try{l?(i||(2==t._h&&B(t),t._h=1),!0===l?n=r:(u&&u.enter(),n=l(r),u&&(u.exit(),s=!0)),n===e.promise?c(C("Promise-chain cycle")):(o=L(n))?o.call(n,a,c):a(n)):c(r)}catch(t){u&&!s&&u.exit(),c(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&N(t)}))}},N=function(t){v.call(a,(function(){var e,n,r,i=t._v,o=I(t);if(o&&(e=b((function(){T?M.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=T||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){v.call(a,(function(){var e;T?M.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw C("Promise can't be resolved itself");(e=L(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,c(z,r,1),c(F,r,1))}catch(t){F.call(r,t)}})):(n._v=t,n._s=1,R(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};_||(O=function(t){p(this,O,S,"_h"),d(t),r.call(this);try{t(c(z,this,1),c(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(O.prototype,{then:function(t,e){var n=P(m(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(z,t,1),this.reject=c(F,t,1)},w.f=P=function(t){return t===O||t===s?new o(t):i(t)}),h(h.G+h.W+h.F*!_,{Promise:O}),n(2943)(O,S),n(2974)(S),s=n(5645).Promise,h(h.S+h.F*!_,S,{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(l||!_),S,{resolve:function(t){return k(l&&this===s?O:this,t)}}),h(h.S+h.F*!(_&&n(7462)((function(t){O.all(t).catch(D)}))),S,{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var l=o++,a=!1;n.push(void 0),s++,e.resolve(t).then((function(t){a||(a=!0,n[l]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=b((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},1572:(t,e,n)=>{var r=n(2985),i=n(4963),o=n(7007),s=(n(3816).Reflect||{}).apply,l=Function.apply;r(r.S+r.F*!n(4253)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),a=o(n);return s?s(r,e,a):l.call(r,e,a)}})},2139:(t,e,n)=>{var r=n(2985),i=n(2503),o=n(4963),s=n(7007),l=n(5286),a=n(4253),c=n(4398),u=(n(3816).Reflect||{}).construct,h=a((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),f=!a((function(){u((function(){}))}));r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var a=n.prototype,d=i(l(a)?a:Object.prototype),p=Function.apply.call(t,d,e);return l(p)?p:d}})},685:(t,e,n)=>{var r=n(9275),i=n(2985),o=n(7007),s=n(1689);i(i.S+i.F*n(4253)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},5535:(t,e,n)=>{var r=n(2985),i=n(8693).f,o=n(7007);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},7347:(t,e,n)=>{"use strict";var r=n(2985),i=n(7007),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(9988)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},6633:(t,e,n)=>{var r=n(8693),i=n(2985),o=n(7007);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},8989:(t,e,n)=>{var r=n(2985),i=n(468),o=n(7007);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},3049:(t,e,n)=>{var r=n(8693),i=n(468),o=n(9181),s=n(2985),l=n(5286),a=n(7007);s(s.S,"Reflect",{get:function t(e,n){var s,c,u=arguments.length<3?e:arguments[2];return a(e)===u?e[n]:(s=r.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(u):void 0:l(c=i(e))?t(c,n,u):void 0}})},8270:(t,e,n)=>{var r=n(2985);r(r.S,"Reflect",{has:function(t,e){return e in t}})},4510:(t,e,n)=>{var r=n(2985),i=n(7007),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},3984:(t,e,n)=>{var r=n(2985);r(r.S,"Reflect",{ownKeys:n(7643)})},5769:(t,e,n)=>{var r=n(2985),i=n(7007),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},6014:(t,e,n)=>{var r=n(2985),i=n(7375);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},55:(t,e,n)=>{var r=n(9275),i=n(8693),o=n(468),s=n(9181),l=n(2985),a=n(681),c=n(7007),u=n(5286);l(l.S,"Reflect",{set:function t(e,n,l){var h,f,d=arguments.length<4?e:arguments[3],p=i.f(c(e),n);if(!p){if(u(f=o(e)))return t(f,n,l,d);p=a(0)}if(s(p,"value")){if(!1===p.writable||!u(d))return!1;if(h=i.f(d,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=l,r.f(d,n,h)}else r.f(d,n,a(0,l));return!0}return void 0!==p.set&&(p.set.call(d,l),!0)}})},3946:(t,e,n)=>{var r=n(3816),i=n(266),o=n(9275).f,s=n(616).f,l=n(5364),a=n(3218),c=r.RegExp,u=c,h=c.prototype,f=/a/g,d=/a/g,p=new c(f)!==f;if(n(7057)&&(!p||n(4253)((function(){return d[n(6314)("match")]=!1,c(f)!=f||c(d)==d||"/a/i"!=c(f,"i")})))){c=function(t,e){var n=this instanceof c,r=l(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new u(r&&!o?t.source:t,e):u((r=t instanceof c)?t.source:t,r&&o?a.call(t):e),n?this:h,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=s(u),v=0;m.length>v;)g(m[v++]);h.constructor=c,c.prototype=h,n(7234)(r,"RegExp",c)}n(2974)("RegExp")},8269:(t,e,n)=>{"use strict";var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},6774:(t,e,n)=>{n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:(t,e,n)=>{"use strict";var r=n(7007),i=n(875),o=n(6793),s=n(7787);n(8082)("match",1,(function(t,e,n,l){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=l(n,t,this);if(e.done)return e.value;var a=r(t),c=String(this);if(!a.global)return s(a,c);var u=a.unicode;a.lastIndex=0;for(var h,f=[],d=0;null!==(h=s(a,c));){var p=String(h[0]);f[d]=p,""===p&&(a.lastIndex=o(c,i(a.lastIndex),u)),d++}return 0===d?null:f}]}))},9357:(t,e,n)=>{"use strict";var r=n(7007),i=n(508),o=n(875),s=n(1467),l=n(6793),a=n(7787),c=Math.max,u=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0!==s?s.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var h=r(t),f=String(this),d="function"==typeof e;d||(e=String(e));var m=h.global;if(m){var v=h.unicode;h.lastIndex=0}for(var y=[];;){var w=a(h,f);if(null===w)break;if(y.push(w),!m)break;""===String(w[0])&&(h.lastIndex=l(f,o(h.lastIndex),v))}for(var b,x="",k=0,S=0;S<y.length;S++){w=y[S];for(var C=String(w[0]),M=c(u(s(w.index),f.length),0),E=[],A=1;A<w.length;A++)E.push(void 0===(b=w[A])?b:String(b));var O=w.groups;if(d){var T=[C].concat(E,M,f);void 0!==O&&T.push(O);var D=String(e.apply(void 0,T))}else D=g(C,f,M,E,O,e);M>=k&&(x+=f.slice(k,M)+D,k=M+C.length)}return x+f.slice(k)}];function g(t,e,r,o,s,l){var a=r+t.length,c=o.length,u=d;return void 0!==s&&(s=i(s),u=f),n.call(l,u,(function(n,i){var l;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(a);case"<":l=s[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var f=h(u/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}l=o[u-1]}return void 0===l?"":l}))}}))},6142:(t,e,n)=>{"use strict";var r=n(7007),i=n(7195),o=n(7787);n(8082)("search",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=r(t),a=String(this),c=l.lastIndex;i(c,0)||(l.lastIndex=0);var u=o(l,a);return i(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]}))},1876:(t,e,n)=>{"use strict";var r=n(5364),i=n(7007),o=n(8364),s=n(6793),l=n(875),a=n(7787),c=n(1165),u=n(4253),h=Math.min,f=[].push,d=4294967295,p=!u((function(){RegExp(d,"y")}));n(8082)("split",2,(function(t,e,n,u){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,s,l,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?d:e>>>0,g=new RegExp(t.source,u+"g");(o=c.call(g,i))&&!((s=g.lastIndex)>h&&(a.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&f.apply(a,o.slice(1)),l=o[0].length,h=s,a.length>=p));)g.lastIndex===o.index&&g.lastIndex++;return h===i.length?!l&&g.test("")||a.push(""):a.push(i.slice(h)),a.length>p?a.slice(0,p):a}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=u(g,t,this,e,g!==n);if(r.done)return r.value;var c=i(t),f=String(this),m=o(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),w=new m(p?c:"^(?:"+c.source+")",y),b=void 0===e?d:e>>>0;if(0===b)return[];if(0===f.length)return null===a(w,f)?[f]:[];for(var x=0,k=0,S=[];k<f.length;){w.lastIndex=p?k:0;var C,M=a(w,p?f:f.slice(k));if(null===M||(C=h(l(w.lastIndex+(p?0:k)),f.length))===x)k=s(f,k,v);else{if(S.push(f.slice(x,k)),S.length===b)return S;for(var E=1;E<=M.length-1;E++)if(S.push(M[E]),S.length===b)return S;k=x=C}}return S.push(f.slice(x)),S}]}))},6108:(t,e,n)=>{"use strict";n(6774);var r=n(7007),i=n(3218),o=n(7057),s="toString",l=/./.toString,a=function(t){n(7234)(RegExp.prototype,s,t,!0)};n(4253)((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?a((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):l.name!=s&&a((function(){return l.call(this)}))},8184:(t,e,n)=>{"use strict";var r=n(9824),i=n(1616);t.exports=n(5795)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},856:(t,e,n)=>{"use strict";n(9395)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},703:(t,e,n)=>{"use strict";n(9395)("big",(function(t){return function(){return t(this,"big","","")}}))},1539:(t,e,n)=>{"use strict";n(9395)("blink",(function(t){return function(){return t(this,"blink","","")}}))},5292:(t,e,n)=>{"use strict";n(9395)("bold",(function(t){return function(){return t(this,"b","","")}}))},9539:(t,e,n)=>{"use strict";var r=n(2985),i=n(4496)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},6620:(t,e,n)=>{"use strict";var r=n(2985),i=n(875),o=n(2094),s="endsWith",l="".endsWith;r(r.P+r.F*n(8852)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:Math.min(i(n),r),c=String(t);return l?l.call(e,c,a):e.slice(a-c.length,a)===c}})},6629:(t,e,n)=>{"use strict";n(9395)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},3694:(t,e,n)=>{"use strict";n(9395)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},7648:(t,e,n)=>{"use strict";n(9395)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},191:(t,e,n)=>{var r=n(2985),i=n(2337),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,s=0;r>s;){if(e=+arguments[s++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},2850:(t,e,n)=>{"use strict";var r=n(2985),i=n(2094),o="includes";r(r.P+r.F*n(8852)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},7795:(t,e,n)=>{"use strict";n(9395)("italics",(function(t){return function(){return t(this,"i","","")}}))},9115:(t,e,n)=>{"use strict";var r=n(4496)(!0);n(2923)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},4531:(t,e,n)=>{"use strict";n(9395)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},8306:(t,e,n)=>{var r=n(2985),i=n(2110),o=n(875);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],l=0;n>l;)s.push(String(e[l++])),l<r&&s.push(String(arguments[l]));return s.join("")}})},823:(t,e,n)=>{var r=n(2985);r(r.P,"String",{repeat:n(8595)})},3605:(t,e,n)=>{"use strict";n(9395)("small",(function(t){return function(){return t(this,"small","","")}}))},7732:(t,e,n)=>{"use strict";var r=n(2985),i=n(875),o=n(2094),s="startsWith",l="".startsWith;r(r.P+r.F*n(8852)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})},6780:(t,e,n)=>{"use strict";n(9395)("strike",(function(t){return function(){return t(this,"strike","","")}}))},9937:(t,e,n)=>{"use strict";n(9395)("sub",(function(t){return function(){return t(this,"sub","","")}}))},511:(t,e,n)=>{"use strict";n(9395)("sup",(function(t){return function(){return t(this,"sup","","")}}))},4564:(t,e,n)=>{"use strict";n(9599)("trim",(function(t){return function(){return t(this,3)}}))},5767:(t,e,n)=>{"use strict";var r=n(3816),i=n(9181),o=n(7057),s=n(2985),l=n(7234),a=n(4728).KEY,c=n(4253),u=n(3825),h=n(2943),f=n(3953),d=n(6314),p=n(8787),g=n(6074),m=n(5541),v=n(4302),y=n(7007),w=n(5286),b=n(508),x=n(2110),k=n(1689),S=n(681),C=n(2503),M=n(9327),E=n(8693),A=n(4548),O=n(9275),T=n(7184),D=E.f,P=O.f,_=M.f,L=r.Symbol,R=r.JSON,N=R&&R.stringify,I=d("_hidden"),B=d("toPrimitive"),F={}.propertyIsEnumerable,z=u("symbol-registry"),j=u("symbols"),V=u("op-symbols"),W=Object.prototype,H="function"==typeof L&&!!A.f,U=r.QObject,$=!U||!U.prototype||!U.prototype.findChild,q=o&&c((function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=D(W,e);r&&delete W[e],P(t,e,n),r&&t!==W&&P(W,e,r)}:P,K=function(t){var e=j[t]=C(L.prototype);return e._k=t,e},G=H&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Q=function(t,e,n){return t===W&&Q(V,e,n),y(t),e=k(e,!0),y(n),i(j,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=C(n,{enumerable:S(0,!1)})):(i(t,I)||P(t,I,S(1,{})),t[I][e]=!0),q(t,e,n)):P(t,e,n)},Y=function(t,e){y(t);for(var n,r=m(e=x(e)),i=0,o=r.length;o>i;)Q(t,n=r[i++],e[n]);return t},X=function(t){var e=F.call(this,t=k(t,!0));return!(this===W&&i(j,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,I)&&this[I][t])||e)},J=function(t,e){if(t=x(t),e=k(e,!0),t!==W||!i(j,e)||i(V,e)){var n=D(t,e);return!n||!i(j,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=_(x(t)),r=[],o=0;n.length>o;)i(j,e=n[o++])||e==I||e==a||r.push(e);return r},tt=function(t){for(var e,n=t===W,r=_(n?V:x(t)),o=[],s=0;r.length>s;)!i(j,e=r[s++])||n&&!i(W,e)||o.push(j[e]);return o};H||(l((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(V,n),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),q(this,t,S(1,n))};return o&&$&&q(W,t,{configurable:!0,set:e}),K(t)}).prototype,"toString",(function(){return this._k})),E.f=J,O.f=Q,n(616).f=M.f=Z,n(4682).f=X,A.f=tt,o&&!n(4461)&&l(W,"propertyIsEnumerable",X,!0),p.f=function(t){return K(d(t))}),s(s.G+s.W+s.F*!H,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=T(d.store),it=0;rt.length>it;)g(rt[it++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=L(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?C(t):Y(C(t),e)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=c((function(){A.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return A.f(b(t))}}),R&&s(s.S+s.F*(!H||c((function(){var t=L();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(w(e)||void 0!==t)&&!G(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,N.apply(R,r)}}),L.prototype[B]||n(7728)(L.prototype,B,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},142:(t,e,n)=>{"use strict";var r=n(2985),i=n(9383),o=n(1125),s=n(7007),l=n(2337),a=n(875),c=n(5286),u=n(3816).ArrayBuffer,h=n(8364),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&u.isView,g=f.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(u!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,v,{isView:function(t){return p&&p(t)||c(t)&&m in t}}),r(r.P+r.U+r.F*n(4253)((function(){return!new f(2).slice(1,void 0).byteLength})),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,r=l(t,n),i=l(void 0===e?n:e,n),o=new(h(this,f))(a(i-r)),c=new d(this),u=new d(o),p=0;r<i;)u.setUint8(p++,c.getUint8(r++));return o}}),n(2974)(v)},1786:(t,e,n)=>{var r=n(2985);r(r.G+r.W+r.F*!n(9383).ABV,{DataView:n(1125).DataView})},162:(t,e,n)=>{n(8440)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},3834:(t,e,n)=>{n(8440)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},4821:(t,e,n)=>{n(8440)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},1303:(t,e,n)=>{n(8440)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},5368:(t,e,n)=>{n(8440)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},9103:(t,e,n)=>{n(8440)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},3318:(t,e,n)=>{n(8440)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},6964:(t,e,n)=>{n(8440)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},2152:(t,e,n)=>{n(8440)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},147:(t,e,n)=>{"use strict";var r,i=n(3816),o=n(50)(0),s=n(7234),l=n(4728),a=n(5345),c=n(3657),u=n(5286),h=n(1616),f=n(1616),d=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=l.getWeak,m=Object.isExtensible,v=c.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},w={get:function(t){if(u(t)){var e=g(t);return!0===e?v(h(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,p),t,e)}},b=t.exports=n(5795)(p,y,w,c,!0,!0);f&&d&&(a((r=c.getConstructor(y,p)).prototype,w),l.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];s(e,t,(function(e,i){if(u(e)&&!m(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},9192:(t,e,n)=>{"use strict";var r=n(3657),i=n(1616),o="WeakSet";n(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},1268:(t,e,n)=>{"use strict";var r=n(2985),i=n(3325),o=n(508),s=n(875),l=n(4963),a=n(6886);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return l(t),e=s(r.length),n=a(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(7722)("flatMap")},4692:(t,e,n)=>{"use strict";var r=n(2985),i=n(3325),o=n(508),s=n(875),l=n(1467),a=n(6886);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),r=a(e,0);return i(r,e,e,n,0,void 0===t?1:l(t)),r}}),n(7722)("flatten")},2773:(t,e,n)=>{"use strict";var r=n(2985),i=n(9315)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(7722)("includes")},8267:(t,e,n)=>{var r=n(2985),i=n(4351)(),o=n(3816).process,s="process"==n(2032)(o);r(r.G,{asap:function(t){var e=s&&o.domain;i(e?e.bind(t):t)}})},2559:(t,e,n)=>{var r=n(2985),i=n(2032);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},5575:(t,e,n)=>{var r=n(2985);r(r.G,{global:n(3816)})},525:(t,e,n)=>{n(1024)("Map")},8211:(t,e,n)=>{n(4881)("Map")},7698:(t,e,n)=>{var r=n(2985);r(r.P+r.R,"Map",{toJSON:n(6132)("Map")})},8865:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},368:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},6427:(t,e,n)=>{var r=n(2985),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},286:(t,e,n)=>{var r=n(2985),i=n(8757),o=n(4934);r(r.S,"Math",{fscale:function(t,e,n,r,s){return o(i(t,e,n,r,s))}})},2816:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},2082:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,l=r>>16,a=i>>16,c=(l*s>>>0)+(o*s>>>16);return l*a+(c>>16)+((o*a>>>0)+(c&n)>>16)}})},5986:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},6308:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},9221:(t,e,n)=>{var r=n(2985),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},3570:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{scale:n(8757)})},3776:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},6754:(t,e,n)=>{var r=n(2985);r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,s=i&n,l=r>>>16,a=i>>>16,c=(l*s>>>0)+(o*s>>>16);return l*a+(c>>>16)+((o*a>>>0)+(c&n)>>>16)}})},8646:(t,e,n)=>{"use strict";var r=n(2985),i=n(508),o=n(4963),s=n(9275);n(7057)&&r(r.P+n(1670),"Object",{__defineGetter__:function(t,e){s.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},2658:(t,e,n)=>{"use strict";var r=n(2985),i=n(508),o=n(4963),s=n(9275);n(7057)&&r(r.P+n(1670),"Object",{__defineSetter__:function(t,e){s.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},3276:(t,e,n)=>{var r=n(2985),i=n(1131)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},8351:(t,e,n)=>{var r=n(2985),i=n(7643),o=n(2110),s=n(8693),l=n(2811);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),a=s.f,c=i(r),u={},h=0;c.length>h;)void 0!==(n=a(r,e=c[h++]))&&l(u,e,n);return u}})},6917:(t,e,n)=>{"use strict";var r=n(2985),i=n(508),o=n(1689),s=n(468),l=n(8693).f;n(7057)&&r(r.P+n(1670),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=l(n,r))return e.get}while(n=s(n))}})},372:(t,e,n)=>{"use strict";var r=n(2985),i=n(508),o=n(1689),s=n(468),l=n(8693).f;n(7057)&&r(r.P+n(1670),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=l(n,r))return e.set}while(n=s(n))}})},6409:(t,e,n)=>{var r=n(2985),i=n(1131)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},6534:(t,e,n)=>{"use strict";var r=n(2985),i=n(3816),o=n(5645),s=n(4351)(),l=n(6314)("observable"),a=n(4963),c=n(7007),u=n(3328),h=n(4408),f=n(7728),d=n(3531),p=d.RETURN,g=function(t){return null==t?void 0:a(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,m(t))},w=function(t,e){c(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:a(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&m(this)};w.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{m(e)}finally{throw t}}return m(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(t){try{m(e)}finally{throw t}}return m(e),t}}});var x=function(t){u(this,x,"Observable","_f")._f=a(t)};h(x.prototype,{subscribe:function(t){return new w(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)((function(n,r){a(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})}))}}),h(x,{from:function(t){var e="function"==typeof this?this:x,n=g(c(t)[l]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e((function(t){return r.subscribe(t)}))}return new e((function(e){var n=!1;return s((function(){if(!n){try{if(d(t,!1,(function(t){if(e.next(t),n)return p}))===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:x)((function(t){var e=!1;return s((function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}})),function(){e=!0}}))}}),f(x.prototype,l,(function(){return this})),r(r.G,{Observable:x}),n(2974)("Observable")},9865:(t,e,n)=>{"use strict";var r=n(2985),i=n(5645),o=n(3816),s=n(8364),l=n(94);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}})},1898:(t,e,n)=>{"use strict";var r=n(2985),i=n(3499),o=n(188);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},3364:(t,e,n)=>{var r=n(133),i=n(7007),o=r.key,s=r.set;r.exp({defineMetadata:function(t,e,n,r){s(t,e,i(n),o(r))}})},1432:(t,e,n)=>{var r=n(133),i=n(7007),o=r.key,s=r.map,l=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=s(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var a=l.get(e);return a.delete(n),!!a.size||l.delete(e)}})},4416:(t,e,n)=>{var r=n(8184),i=n(9490),o=n(133),s=n(7007),l=n(468),a=o.keys,c=o.key,u=function(t,e){var n=a(t,e),o=l(t);if(null===o)return n;var s=u(o,e);return s.length?n.length?i(new r(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return u(s(t),arguments.length<2?void 0:c(arguments[1]))}})},6562:(t,e,n)=>{var r=n(133),i=n(7007),o=n(468),s=r.has,l=r.get,a=r.key,c=function(t,e,n){if(s(t,e,n))return l(t,e,n);var r=o(e);return null!==r?c(t,r,n):void 0};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},2213:(t,e,n)=>{var r=n(133),i=n(7007),o=r.keys,s=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:s(arguments[1]))}})},8681:(t,e,n)=>{var r=n(133),i=n(7007),o=r.get,s=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},3471:(t,e,n)=>{var r=n(133),i=n(7007),o=n(468),s=r.has,l=r.key,a=function(t,e,n){if(s(t,e,n))return!0;var r=o(e);return null!==r&&a(t,r,n)};r.exp({hasMetadata:function(t,e){return a(t,i(e),arguments.length<3?void 0:l(arguments[2]))}})},4329:(t,e,n)=>{var r=n(133),i=n(7007),o=r.has,s=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},5159:(t,e,n)=>{var r=n(133),i=n(7007),o=n(4963),s=r.key,l=r.set;r.exp({metadata:function(t,e){return function(n,r){l(t,e,(void 0!==r?i:o)(n),s(r))}}})},9467:(t,e,n)=>{n(1024)("Set")},4837:(t,e,n)=>{n(4881)("Set")},8739:(t,e,n)=>{var r=n(2985);r(r.P+r.R,"Set",{toJSON:n(6132)("Set")})},7220:(t,e,n)=>{"use strict";var r=n(2985),i=n(4496)(!0),o=n(4253)((function(){return"𠮷"!=="𠮷".at(0)}));r(r.P+r.F*o,"String",{at:function(t){return i(this,t)}})},4208:(t,e,n)=>{"use strict";var r=n(2985),i=n(1355),o=n(875),s=n(5364),l=n(3218),a=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(9988)(c,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),r(r.P,"String",{matchAll:function(t){if(i(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in a?String(t.flags):l.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new c(r,e)}})},2770:(t,e,n)=>{"use strict";var r=n(2985),i=n(5442),o=n(575),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},1784:(t,e,n)=>{"use strict";var r=n(2985),i=n(5442),o=n(575),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},5869:(t,e,n)=>{"use strict";n(9599)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},4325:(t,e,n)=>{"use strict";n(9599)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},9665:(t,e,n)=>{n(6074)("asyncIterator")},9593:(t,e,n)=>{n(6074)("observable")},8967:(t,e,n)=>{var r=n(2985);r(r.S,"System",{global:n(3816)})},4188:(t,e,n)=>{n(1024)("WeakMap")},7594:(t,e,n)=>{n(4881)("WeakMap")},3495:(t,e,n)=>{n(1024)("WeakSet")},9550:(t,e,n)=>{n(4881)("WeakSet")},1181:(t,e,n)=>{for(var r=n(6997),i=n(7184),o=n(7234),s=n(3816),l=n(7728),a=n(2803),c=n(6314),u=c("iterator"),h=c("toStringTag"),f=a.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),g=0;g<p.length;g++){var m,v=p[g],y=d[v],w=s[v],b=w&&w.prototype;if(b&&(b[u]||l(b,u,f),b[h]||l(b,h,v),a[v]=f,y))for(m in r)b[m]||o(b,m,r[m],!0)}},4633:(t,e,n)=>{var r=n(2985),i=n(4193);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},2564:(t,e,n)=>{var r=n(3816),i=n(2985),o=n(575),s=[].slice,l=/MSIE .\./.test(o),a=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*l,{setTimeout:a(r.setTimeout),setInterval:a(r.setInterval)})},1934:(t,e,n)=>{n(5767),n(8132),n(8388),n(7470),n(4882),n(1520),n(7476),n(9622),n(9375),n(3533),n(4672),n(4157),n(5095),n(9892),n(5115),n(9176),n(8838),n(6253),n(9730),n(6059),n(8377),n(1084),n(4299),n(1246),n(726),n(1901),n(5972),n(3403),n(2516),n(9371),n(6479),n(1736),n(1889),n(5177),n(6943),n(6503),n(6786),n(932),n(7526),n(1591),n(9073),n(347),n(579),n(4669),n(7710),n(5789),n(3514),n(9978),n(8472),n(6946),n(5068),n(413),n(191),n(8306),n(4564),n(9115),n(9539),n(6620),n(2850),n(823),n(7732),n(856),n(703),n(1539),n(5292),n(6629),n(3694),n(7648),n(7795),n(4531),n(3605),n(6780),n(9937),n(511),n(1822),n(9977),n(1031),n(6331),n(1560),n(774),n(522),n(8295),n(7842),n(110),n(75),n(4336),n(1802),n(8837),n(6773),n(5745),n(3057),n(3750),n(3369),n(9564),n(2e3),n(8977),n(2310),n(4899),n(1842),n(6997),n(3946),n(8269),n(6108),n(6774),n(1466),n(9357),n(6142),n(1876),n(851),n(8416),n(8184),n(147),n(9192),n(142),n(1786),n(5368),n(6964),n(2152),n(4821),n(9103),n(1303),n(3318),n(162),n(3834),n(1572),n(2139),n(685),n(5535),n(7347),n(3049),n(6633),n(8989),n(8270),n(4510),n(3984),n(5769),n(55),n(6014),n(2773),n(1268),n(4692),n(7220),n(1784),n(2770),n(5869),n(4325),n(4208),n(9665),n(9593),n(8351),n(6409),n(3276),n(8646),n(2658),n(6917),n(372),n(7698),n(8739),n(8211),n(4837),n(7594),n(9550),n(525),n(9467),n(4188),n(3495),n(5575),n(8967),n(2559),n(8865),n(368),n(6427),n(286),n(2816),n(5986),n(2082),n(6308),n(9221),n(3570),n(6754),n(3776),n(9865),n(1898),n(3364),n(1432),n(6562),n(4416),n(8681),n(2213),n(3471),n(4329),n(5159),n(8267),n(6534),n(2564),n(4633),n(1181),t.exports=n(5645)},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var l=0;l<t.length;l++){var a=[].concat(t[l]);r&&i[a[0]]||(n&&(a[2]?a[2]="".concat(n," and ").concat(a[2]):a[2]=n),e.push(a))}},e}},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,l,a=i(t),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(a[u]=s[u]);if(e){l=e(s);for(var h=0;h<l.length;h++)r.call(s,l[h])&&(a[l[h]]=s[l[h]])}}return a}},4448:(t,e,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var l=new Set,a={};function c(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(a[t]=e,t=0;t<e.length;t++)l.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},g={};function m(t,e,n,r,i,o,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function w(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(g,t)||!d.call(p,t)&&(f.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,w);v[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,w);v[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,w);v[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,S=60106,C=60107,M=60108,E=60114,A=60109,O=60110,T=60112,D=60113,P=60120,_=60115,L=60116,R=60121,N=60128,I=60129,B=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var z=Symbol.for;k=z("react.element"),S=z("react.portal"),C=z("react.fragment"),M=z("react.strict_mode"),E=z("react.profiler"),A=z("react.provider"),O=z("react.context"),T=z("react.forward_ref"),D=z("react.suspense"),P=z("react.suspense_list"),_=z("react.memo"),L=z("react.lazy"),R=z("react.block"),z("react.scope"),N=z("react.opaque.id"),I=z("react.debug_trace_mode"),B=z("react.offscreen"),F=z("react.legacy_hidden")}var j,V="function"==typeof Symbol&&Symbol.iterator;function W(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=V&&t[V]||t["@@iterator"])?t:null}function H(t){if(void 0===j)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);j=e&&e[1]||""}return"\n"+j+t}var U=!1;function $(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(1!==s||1!==l)do{if(s--,0>--l||i[s]!==o[l])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?H(t):""}function q(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return $(t.type,!1);case 11:return $(t.type.render,!1);case 22:return $(t.type._render,!1);case 1:return $(t.type,!0);default:return""}}function K(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case C:return"Fragment";case S:return"Portal";case E:return"Profiler";case M:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case _:return K(t.type);case R:return K(t._render);case L:e=t._payload,t=t._init;try{return K(t(e))}catch(t){}}return null}function G(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=Q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function J(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=G(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=G(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&J(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function st(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+G(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function lt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function at(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:G(n)}}function ct(t,e){var n=G(e.value),r=G(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ut(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var pt,gt,mt=(gt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((pt=pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return gt(t,e)}))}:gt);function vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var yt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||yt.hasOwnProperty(t)&&yt[t]?(""+e).trim():e+"px"}function xt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(yt).forEach((function(t){wt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yt[e]=yt[t]}))}));var kt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,e){if(e){if(kt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(s(62))}}function Ct(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Mt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,At=null,Ot=null;function Tt(t){if(t=Zr(t)){if("function"!=typeof Et)throw Error(s(280));var e=t.stateNode;e&&(e=ei(e),Et(t.stateNode,t.type,e))}}function Dt(t){At?Ot?Ot.push(t):Ot=[t]:At=t}function Pt(){if(At){var t=At,e=Ot;if(Ot=At=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function _t(t,e){return t(e)}function Lt(t,e,n,r,i){return t(e,n,r,i)}function Rt(){}var Nt=_t,It=!1,Bt=!1;function Ft(){null===At&&null===Ot||(Rt(),Pt())}function zt(t,e){var n=t.stateNode;if(null===n)return null;var r=ei(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(s(231,e,typeof n));return n}var jt=!1;if(h)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){jt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(gt){jt=!1}function Wt(t,e,n,r,i,o,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var Ht=!1,Ut=null,$t=!1,qt=null,Kt={onError:function(t){Ht=!0,Ut=t}};function Gt(t,e,n,r,i,o,s,l,a){Ht=!1,Ut=null,Wt.apply(Kt,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Xt(t){if(Qt(t)!==t)throw Error(s(188))}function Jt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xt(i),t;if(o===r)return Xt(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,a=i.child;a;){if(a===n){l=!0,n=i,r=o;break}if(a===r){l=!0,r=i,n=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===n){l=!0,n=o,r=i;break}if(a===r){l=!0,r=o,n=i;break}a=a.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Zt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,re,ie=!1,oe=[],se=null,le=null,ae=null,ce=new Map,ue=new Map,he=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pe(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ae=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ue.delete(e.pointerId)}}function ge(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&null!==(e=Zr(e))&&ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=Jr(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Yt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Zr(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function ye(t,e,n){ve(t)&&n.delete(e)}function we(){for(ie=!1;0<oe.length;){var t=oe[0];if(null!==t.blockedOn){null!==(t=Zr(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&oe.shift()}null!==se&&ve(se)&&(se=null),null!==le&&ve(le)&&(le=null),null!==ae&&ve(ae)&&(ae=null),ce.forEach(ye),ue.forEach(ye)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,we)))}function xe(t){function e(e){return be(e,t)}if(0<oe.length){be(oe[0],t);for(var n=1;n<oe.length;n++){var r=oe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&be(se,t),null!==le&&be(le,t),null!==ae&&be(ae,t),ce.forEach(e),ue.forEach(e),n=0;n<he.length;n++)(r=he[n]).blockedOn===t&&(r.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)me(n),null===n.blockedOn&&he.shift()}function ke(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Se={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionend:ke("Transition","TransitionEnd")},Ce={},Me={};function Ee(t){if(Ce[t])return Ce[t];if(!Se[t])return t;var e,n=Se[t];for(e in n)if(n.hasOwnProperty(e)&&e in Me)return Ce[t]=n[e];return t}h&&(Me=document.createElement("div").style,"AnimationEvent"in window||(delete Se.animationend.animation,delete Se.animationiteration.animation,delete Se.animationstart.animation),"TransitionEvent"in window||delete Se.transitionend.transition);var Ae=Ee("animationend"),Oe=Ee("animationiteration"),Te=Ee("animationstart"),De=Ee("transitionend"),Pe=new Map,_e=new Map,Le=["abort","abort",Ae,"animationEnd",Oe,"animationIteration",Te,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",De,"transitionEnd","waiting","waiting"];function Re(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),_e.set(r,e),Pe.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Ne=8;function Ie(t){if(0!=(1&t))return Ne=15,1;if(0!=(2&t))return Ne=14,2;if(0!=(4&t))return Ne=13,4;var e=24&t;return 0!==e?(Ne=12,e):0!=(32&t)?(Ne=11,32):0!=(e=192&t)?(Ne=10,e):0!=(256&t)?(Ne=9,256):0!=(e=3584&t)?(Ne=8,e):0!=(4096&t)?(Ne=7,4096):0!=(e=4186112&t)?(Ne=6,e):0!=(e=62914560&t)?(Ne=5,e):67108864&t?(Ne=4,67108864):0!=(134217728&t)?(Ne=3,134217728):0!=(e=805306368&t)?(Ne=2,e):0!=(1073741824&t)?(Ne=1,1073741824):(Ne=8,t)}function Be(t,e){var n=t.pendingLanes;if(0===n)return Ne=0;var r=0,i=0,o=t.expiredLanes,s=t.suspendedLanes,l=t.pingedLanes;if(0!==o)r=o,i=Ne=15;else if(0!=(o=134217727&n)){var a=o&~s;0!==a?(r=Ie(a),i=Ne):0!=(l&=o)&&(r=Ie(l),i=Ne)}else 0!=(o=n&~s)?(r=Ie(o),i=Ne):0!==l&&(r=Ie(l),i=Ne);if(0===r)return 0;if(r=n&((0>(r=31-He(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&s)){if(Ie(e),i<=Ne)return e;Ne=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-He(e)),r|=t[n],e&=~i;return r}function Fe(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ze(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=je(24&~e))?ze(10,e):t;case 10:return 0===(t=je(192&~e))?ze(8,e):t;case 8:return 0===(t=je(3584&~e))&&0===(t=je(4186112&~e))&&(t=512),t;case 2:return 0===(e=je(805306368&~e))&&(e=268435456),e}throw Error(s(358,t))}function je(t){return t&-t}function Ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function We(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-He(e)]=n}var He=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ue(t)/$e|0)|0},Ue=Math.log,$e=Math.LN2,qe=o.unstable_UserBlockingPriority,Ke=o.unstable_runWithPriority,Ge=!0;function Qe(t,e,n,r){It||Rt();var i=Xe,o=It;It=!0;try{Lt(i,t,e,n,r)}finally{(It=o)||Ft()}}function Ye(t,e,n,r){Ke(qe,Xe.bind(null,t,e,n,r))}function Xe(t,e,n,r){var i;if(Ge)if((i=0==(4&e))&&0<oe.length&&-1<fe.indexOf(t))t=de(null,t,e,n,r),oe.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&pe(t,r);else{if(i){if(-1<fe.indexOf(t))return t=de(o,t,e,n,r),void oe.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ge(se,t,e,n,r,i),!0;case"dragenter":return le=ge(le,t,e,n,r,i),!0;case"mouseover":return ae=ge(ae,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,ge(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ue.set(o,ge(ue.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;pe(t,r)}Pr(t,e,r,null,n)}}}function Je(t,e,n,r){var i=Mt(r);if(null!==(i=Jr(i))){var o=Qt(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Yt(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(t,e,r,i,n),null}var Ze=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,r=n.length,i="value"in Ze?Ze.value:Ze.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===i[o-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function rn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function on(){return!0}function sn(){return!1}function ln(t){function e(e,n,r,i,o){for(var s in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),e}var an,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(hn),dn=i({},hn,{view:0,detail:0}),pn=ln(dn),gn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,cn=t.screenY-un.screenY):cn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),mn=ln(gn),vn=ln(i({},gn,{dataTransfer:0})),yn=ln(i({},dn,{relatedTarget:0})),wn=ln(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=ln(i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),xn=ln(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function En(){return Mn}var An=ln(i({},dn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?rn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),On=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=ln(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Dn=ln(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=ln(i({},gn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Rn=null;h&&"documentMode"in document&&(Rn=document.documentMode);var Nn=h&&"TextEvent"in window&&!Rn,In=h&&(!Ln||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Fn=!1;function zn(t,e){switch(t){case"keyup":return-1!==_n.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Un(t,e,n,r){Dt(r),0<(e=Lr(e,"onChange")).length&&(n=new fn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $n=null,qn=null;function Kn(t){Mr(t,0)}function Gn(t){if(X(ti(t)))return t}function Qn(t,e){if("change"===t)return e}var Yn=!1;if(h){var Xn;if(h){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",er),qn=$n=null)}function er(t){if("value"===t.propertyName&&Gn(qn)){var e=[];if(Un(e,qn,t,Mt(t)),t=Kn,It)t(e);else{It=!0;try{_t(t,e)}finally{It=!1,Ft()}}}}function nr(t,e,n){"focusin"===t?(tr(),qn=n,($n=e).attachEvent("onpropertychange",er)):"focusout"===t&&tr()}function rr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn(qn)}function ir(t,e){if("click"===t)return Gn(e)}function or(t,e){if("input"===t||"change"===t)return Gn(e)}var sr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},lr=Object.prototype.hasOwnProperty;function ar(t,e){if(sr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=J();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=J((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==J(r)||(r="selectionStart"in(r=gr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ar(vr,r)||(vr=r,0<(r=Lr(mr,"onSelect")).length&&(e=new fn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}Re("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Re("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Re(Le,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<br.length;xr++)_e.set(br[xr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Cr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,l,a,c){if(Gt.apply(this,arguments),Ht){if(!Ht)throw Error(s(198));var u=Ut;Ht=!1,Ut=null,$t||($t=!0,qt=u)}}(r,e,void 0,t),t.currentTarget=null}function Mr(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break t;Cr(i,l,c),o=a}else for(s=0;s<r.length;s++){if(a=(l=r[s]).instance,c=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break t;Cr(i,l,c),o=a}}}if($t)throw t=qt,$t=!1,qt=null,t}function Er(t,e){var n=ni(e),r=t+"__bubble";n.has(r)||(Dr(e,t,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(t){t[Ar]||(t[Ar]=!0,l.forEach((function(e){Sr.has(e)||Tr(e,!1,t,null),Tr(e,!0,t,null)})))}function Tr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Sr.has(t)){if("scroll"!==t)return;i|=2,o=r}var s=ni(o),l=t+"__"+(e?"capture":"bubble");s.has(l)||(e&&(i|=4),Dr(o,t,i,e),s.add(l))}function Dr(t,e,n,r){var i=_e.get(e);switch(void 0===i?2:i){case 0:i=Qe;break;case 1:i=Ye;break;default:i=Xe}n=i.bind(null,e,n,t),i=void 0,!jt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pr(t,e,n,r,i){var o=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var a=s.tag;if((3===a||4===a)&&((a=s.stateNode.containerInfo)===i||8===a.nodeType&&a.parentNode===i))return;s=s.return}for(;null!==l;){if(null===(s=Jr(l)))return;if(5===(a=s.tag)||6===a){r=o=s;continue t}l=l.parentNode}}r=r.return}!function(t,e,n){if(Bt)return t();Bt=!0;try{Nt(t,e,n)}finally{Bt=!1,Ft()}}((function(){var r=o,i=Mt(n),s=[];t:{var l=Pe.get(t);if(void 0!==l){var a=fn,c=t;switch(t){case"keypress":if(0===rn(n))break t;case"keydown":case"keyup":a=An;break;case"focusin":c="focus",a=yn;break;case"focusout":c="blur",a=yn;break;case"beforeblur":case"afterblur":a=yn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Tn;break;case Ae:case Oe:case Te:a=wn;break;case De:a=Dn;break;case"scroll":a=pn;break;case"wheel":a=Pn;break;case"copy":case"cut":case"paste":a=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=On}var u=0!=(4&e),h=!u&&"scroll"===t,f=u?null!==l?l+"Capture":null:l;u=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&null!=(g=zt(p,f))&&u.push(_r(p,g,d))),h)break;p=p.return}0<u.length&&(l=new a(l,c,null,n,i),s.push({event:l,listeners:u}))}}if(0==(7&e)){if(a="mouseout"===t||"pointerout"===t,(!(l="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(a||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,a?(a=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(h=Qt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(a=null,c=r),a!==c)){if(u=mn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=On,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==a?l:ti(a),d=null==c?l:ti(c),(l=new u(g,p+"leave",a,n,i)).target=h,l.relatedTarget=d,g=null,Jr(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=d,u.relatedTarget=h,g=u),h=g,a&&c)t:{for(f=c,p=0,d=u=a;d;d=Rr(d))p++;for(d=0,g=f;g;g=Rr(g))d++;for(;0<p-d;)u=Rr(u),p--;for(;0<d-p;)f=Rr(f),d--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break t;u=Rr(u),f=Rr(f)}u=null}else u=null;null!==a&&Nr(s,l,a,u,!1),null!==c&&null!==h&&Nr(s,h,c,u,!0)}if("select"===(a=(l=r?ti(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===a&&"file"===l.type)var m=Qn;else if(Hn(l))if(Yn)m=or;else{m=rr;var v=nr}else(a=l.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=ir);switch(m&&(m=m(t,r))?Un(s,m,n,i):(v&&v(t,l,r),"focusout"===t&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&it(l,"number",l.value)),v=r?ti(r):window,t){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Ln)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Vn?zn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(In&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(y=nn()):(tn="value"in(Ze=i)?Ze.value:Ze.textContent,Vn=!0)),0<(v=Lr(r,w)).length&&(w=new xn(w,t,null,n,i),s.push({event:w,listeners:v}),(y||null!==(y=jn(n)))&&(w.data=y))),(y=Nn?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Fn=!0,Bn);case"textInput":return(t=e.data)===Bn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Ln&&zn(t,e)?(t=nn(),en=tn=Ze=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return In&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&0<(r=Lr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Mr(s,e)}))}function _r(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=zt(t,n))&&r.unshift(_r(t,o,i)),null!=(o=zt(t,e))&&r.push(_r(t,o,i))),t=t.return}return r}function Rr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Nr(t,e,n,r,i){for(var o=e._reactName,s=[];null!==n&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(null!==a&&a===r)break;5===l.tag&&null!==c&&(l=c,i?null!=(a=zt(n,o))&&s.unshift(_r(n,a,l)):i||null!=(a=zt(n,o))&&s.push(_r(n,a,l))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}function Ir(){}var Br=null,Fr=null;function zr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function jr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Ur(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function $r(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var qr=0,Kr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Kr,Qr="__reactProps$"+Kr,Yr="__reactContainer$"+Kr,Xr="__reactEvents$"+Kr;function Jr(t){var e=t[Gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[Gr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=$r(t);null!==t;){if(n=t[Gr])return n;t=$r(t)}return e}n=(t=n).parentNode}return null}function Zr(t){return!(t=t[Gr]||t[Yr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ti(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function ei(t){return t[Qr]||null}function ni(t){var e=t[Xr];return void 0===e&&(e=t[Xr]=new Set),e}var ri=[],ii=-1;function oi(t){return{current:t}}function si(t){0>ii||(t.current=ri[ii],ri[ii]=null,ii--)}function li(t,e){ii++,ri[ii]=t.current,t.current=e}var ai={},ci=oi(ai),ui=oi(!1),hi=ai;function fi(t,e){var n=t.type.contextTypes;if(!n)return ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function di(t){return null!=t.childContextTypes}function pi(){si(ui),si(ci)}function gi(t,e,n){if(ci.current!==ai)throw Error(s(168));li(ci,e),li(ui,n)}function mi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(s(108,K(e)||"Unknown",o));return i({},n,r)}function vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ai,hi=ci.current,li(ci,t),li(ui,ui.current),!0}function yi(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=mi(t,e,hi),r.__reactInternalMemoizedMergedChildContext=t,si(ui),si(ci),li(ci,t)):si(ui),li(ui,n)}var wi=null,bi=null,xi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Mi=o.unstable_requestPaint,Ei=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ti=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,_i=o.unstable_IdlePriority,Li={},Ri=void 0!==Mi?Mi:function(){},Ni=null,Ii=null,Bi=!1,Fi=Ei(),zi=1e4>Fi?Ei:function(){return Ei()-Fi};function ji(){switch(Ai()){case Oi:return 99;case Ti:return 98;case Di:return 97;case Pi:return 96;case _i:return 95;default:throw Error(s(332))}}function Vi(t){switch(t){case 99:return Oi;case 98:return Ti;case 97:return Di;case 96:return Pi;case 95:return _i;default:throw Error(s(332))}}function Wi(t,e){return t=Vi(t),xi(t,e)}function Hi(t,e,n){return t=Vi(t),ki(t,e,n)}function Ui(){if(null!==Ii){var t=Ii;Ii=null,Si(t)}$i()}function $i(){if(!Bi&&null!==Ni){Bi=!0;var t=0;try{var e=Ni;Wi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(e){throw null!==Ni&&(Ni=Ni.slice(t+1)),ki(Oi,Ui),e}finally{Bi=!1}}}var qi=x.ReactCurrentBatchConfig;function Ki(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Gi=oi(null),Qi=null,Yi=null,Xi=null;function Ji(){Xi=Yi=Qi=null}function Zi(t){var e=Gi.current;si(Gi),t.type._context._currentValue=e}function to(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function eo(t,e){Qi=t,Xi=Yi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Ls=!0),t.firstContext=null)}function no(t,e){if(Xi!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Xi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Yi){if(null===Qi)throw Error(s(308));Yi=e,Qi.dependencies={lanes:0,firstContext:e,responders:null}}else Yi=Yi.next=e;return t._currentValue}var ro=!1;function io(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ao(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function co(t,e,n,r){var o=t.updateQueue;ro=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var c=a,u=c.next;c.next=null,null===l?s=u:l.next=u,l=c;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==l&&(null===f?h.firstBaseUpdate=u:f.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(f=o.baseState,l=0,h=u=c=null;;){a=s.lane;var d=s.eventTime;if((r&a)===a){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(a=e,d=n,g.tag){case 1:if("function"==typeof(p=g.payload)){f=p.call(d,f,a);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(a="function"==typeof(p=g.payload)?p.call(d,f,a):p))break t;f=i({},f,a);break t;case 2:ro=!0}}null!==s.callback&&(t.flags|=32,null===(a=o.effects)?o.effects=[s]:a.push(s))}else d={eventTime:d,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=d,c=f):h=h.next=d,l|=a;if(null===(s=s.next)){if(null===(a=o.shared.pending))break;s=a.next,a.next=null,o.lastBaseUpdate=a,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Nl|=l,t.lanes=l,t.memoizedState=f}}function uo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var po={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sa(),i=la(t),o=so(r,i);o.payload=e,null!=n&&(o.callback=n),lo(t,o),aa(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sa(),i=la(t),o=so(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),lo(t,o),aa(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sa(),r=la(t),i=so(n,r);i.tag=2,null!=e&&(i.callback=e),lo(t,i),aa(t,r,n)}};function go(t,e,n,r,i,o,s){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,s):!(e.prototype&&e.prototype.isPureReactComponent&&ar(n,r)&&ar(i,o))}function mo(t,e,n){var r=!1,i=ai,o=e.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(e)?hi:ci.current,o=(r=null!=(r=e.contextTypes))?fi(t,i):ai),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=po,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vo(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&po.enqueueReplaceState(e,e.state,null)}function yo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ho,io(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(e)?hi:ci.current,i.context=fi(t,o)),co(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(fo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&po.enqueueReplaceState(i,i.state,null),co(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var wo=Array.isArray;function bo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ho&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function xo(t,e){if("textarea"!==t.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function ko(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ja(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function l(e){return t&&null===e.alternate&&(e.flags=2),e}function a(t,e,n,r){return null===e||6!==e.tag?((e=Ua(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=bo(t,e,n),r.return=t,r):((r=Va(n.type,n.key,n.props,null,t.mode,r)).ref=bo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=$a(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Wa(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Ua(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case k:return(n=Va(e.type,e.key,e.props,null,t.mode,n)).ref=bo(t,null,e),n.return=t,n;case S:return(e=$a(e,t.mode,n)).return=t,e}if(wo(e)||W(e))return(e=Wa(e,t.mode,n,null)).return=t,e;xo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:a(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===C?h(t,e,n.props.children,r,i):c(t,e,n,r):null;case S:return n.key===i?u(t,e,n,r):null}if(wo(n)||W(n))return null!==i?null:h(t,e,n,r,null);xo(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return a(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return t=t.get(null===r.key?n:r.key)||null,r.type===C?h(e,t,r.props.children,i,r.key):c(e,t,r,i);case S:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||W(r))return h(e,t=t.get(n)||null,r,i,null);xo(e,r)}return null}function g(i,s,l,a){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<l.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,l[g],a);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(i,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===l.length)return n(i,h),c;if(null===h){for(;g<l.length;g++)null!==(h=f(i,l[g],a))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);g<l.length;g++)null!==(m=p(h,i,g,l[g],a))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(i,t)})),c}function m(i,l,a,c){var u=W(a);if("function"!=typeof u)throw Error(s(150));if(null==(a=u.call(a)))throw Error(s(151));for(var h=u=null,g=l,m=l=0,v=null,y=a.next();null!==g&&!y.done;m++,y=a.next()){g.index>m?(v=g,g=null):v=g.sibling;var w=d(i,g,y.value,c);if(null===w){null===g&&(g=v);break}t&&g&&null===w.alternate&&e(i,g),l=o(w,l,m),null===h?u=w:h.sibling=w,h=w,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=a.next())null!==(y=f(i,y.value,c))&&(l=o(y,l,m),null===h?u=y:h.sibling=y,h=y);return u}for(g=r(i,g);!y.done;m++,y=a.next())null!==(y=p(g,i,m,y.value,c))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),l=o(y,l,m),null===h?u=y:h.sibling=y,h=y);return t&&g.forEach((function(t){return e(i,t)})),u}return function(t,r,o,a){var c="object"==typeof o&&null!==o&&o.type===C&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case k:t:{for(u=o.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===C){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=bo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===C?((r=Wa(o.props.children,t.mode,a,o.key)).return=t,t=r):((a=Va(o.type,o.key,o.props,null,t.mode,a)).ref=bo(t,r,o),a.return=t,t=a)}return l(t);case S:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=$a(o,t.mode,a)).return=t,t=r}return l(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Ua(o,t.mode,a)).return=t,t=r),l(t);if(wo(o))return g(t,r,o,a);if(W(o))return m(t,r,o,a);if(u&&xo(t,o),void 0===o&&!c)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(t.type)||"Component"))}return n(t,r)}}var So=ko(!0),Co=ko(!1),Mo={},Eo=oi(Mo),Ao=oi(Mo),Oo=oi(Mo);function To(t){if(t===Mo)throw Error(s(174));return t}function Do(t,e){switch(li(Oo,e),li(Ao,t),li(Eo,Mo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Eo),li(Eo,e)}function Po(){si(Eo),si(Ao),si(Oo)}function _o(t){To(Oo.current);var e=To(Eo.current),n=dt(e,t.type);e!==n&&(li(Ao,t),li(Eo,n))}function Lo(t){Ao.current===t&&(si(Eo),si(Ao))}var Ro=oi(0);function No(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Io=null,Bo=null,Fo=!1;function zo(t,e){var n=Fa(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function jo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Vo(t){if(Fo){var e=Bo;if(e){var n=e;if(!jo(t,e)){if(!(e=Ur(n.nextSibling))||!jo(t,e))return t.flags=-1025&t.flags|2,Fo=!1,void(Io=t);zo(Io,n)}Io=t,Bo=Ur(e.firstChild)}else t.flags=-1025&t.flags|2,Fo=!1,Io=t}}function Wo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Io=t}function Ho(t){if(t!==Io)return!1;if(!Fo)return Wo(t),Fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!jr(e,t.memoizedProps))for(e=Bo;e;)zo(t,e),e=Ur(e.nextSibling);if(Wo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Bo=Ur(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Bo=null}}else Bo=Io?Ur(t.stateNode.nextSibling):null;return!0}function Uo(){Bo=Io=null,Fo=!1}var $o=[];function qo(){for(var t=0;t<$o.length;t++)$o[t]._workInProgressVersionPrimary=null;$o.length=0}var Ko=x.ReactCurrentDispatcher,Go=x.ReactCurrentBatchConfig,Qo=0,Yo=null,Xo=null,Jo=null,Zo=!1,ts=!1;function es(){throw Error(s(321))}function ns(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function rs(t,e,n,r,i,o){if(Qo=o,Yo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ko.current=null===t||null===t.memoizedState?Ts:Ds,t=n(r,i),ts){o=0;do{if(ts=!1,!(25>o))throw Error(s(301));o+=1,Jo=Xo=null,e.updateQueue=null,Ko.current=Ps,t=n(r,i)}while(ts)}if(Ko.current=Os,e=null!==Xo&&null!==Xo.next,Qo=0,Jo=Xo=Yo=null,Zo=!1,e)throw Error(s(300));return t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=t:Jo=Jo.next=t,Jo}function os(){if(null===Xo){var t=Yo.alternate;t=null!==t?t.memoizedState:null}else t=Xo.next;var e=null===Jo?Yo.memoizedState:Jo.next;if(null!==e)Jo=e,Xo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(Xo=t).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=t:Jo=Jo.next=t}return Jo}function ss(t,e){return"function"==typeof e?e(t):e}function ls(t){var e=os(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var a=l=o=null,c=i;do{var u=c.lane;if((Qo&u)===u)null!==a&&(a=a.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===a?(l=a=h,o=r):a=a.next=h,Yo.lanes|=u,Nl|=u}c=c.next}while(null!==c&&c!==i);null===a?o=r:a.next=l,sr(r,e.memoizedState)||(Ls=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function as(t){var e=os(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=t(o,l.action),l=l.next}while(l!==i);sr(o,e.memoizedState)||(Ls=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function cs(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Qo&t)===t)&&(e._workInProgressVersionPrimary=r,$o.push(e))),t)return n(e._source);throw $o.push(e),Error(s(350))}function us(t,e,n,r){var i=Al;if(null===i)throw Error(s(349));var o=e._getVersion,l=o(e._source),a=Ko.current,c=a.useState((function(){return cs(i,e,n)})),u=c[1],h=c[0];c=Jo;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,g=f.source;f=f.subscribe;var m=Yo;return t.memoizedState={refs:d,source:e,subscribe:r},a.useEffect((function(){d.getSnapshot=n,d.setSnapshot=u;var t=o(e._source);if(!sr(l,t)){t=n(e._source),sr(h,t)||(u(t),t=la(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,s=t;0<s;){var a=31-He(s),c=1<<a;r[a]|=t,s&=~c}}}),[n,e,r]),a.useEffect((function(){return r(e._source,(function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=la(m);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),sr(p,n)&&sr(g,e)&&sr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:h}).dispatch=u=As.bind(null,Yo,t),c.queue=t,c.baseQueue=null,h=cs(i,e,n),c.memoizedState=c.baseState=h),h}function hs(t,e,n){return us(os(),t,e,n)}function fs(t){var e=is();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t}).dispatch=As.bind(null,Yo,t),[e.memoizedState,t]}function ds(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Yo.updateQueue)?(e={lastEffect:null},Yo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ps(t){return t={current:t},is().memoizedState=t}function gs(){return os().memoizedState}function ms(t,e,n,r){var i=is();Yo.flags|=t,i.memoizedState=ds(1|e,n,void 0,void 0===r?null:r)}function vs(t,e,n,r){var i=os();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var s=Xo.memoizedState;if(o=s.destroy,null!==r&&ns(r,s.deps))return void ds(e,n,o,r)}Yo.flags|=t,i.memoizedState=ds(1|e,n,o,r)}function ys(t,e){return ms(516,4,t,e)}function ws(t,e){return vs(516,4,t,e)}function bs(t,e){return vs(4,2,t,e)}function xs(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ks(t,e,n){return n=null!=n?n.concat([t]):null,vs(4,2,xs.bind(null,e,t),n)}function Ss(){}function Cs(t,e){var n=os();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ns(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ms(t,e){var n=os();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ns(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Es(t,e){var n=ji();Wi(98>n?98:n,(function(){t(!0)})),Wi(97<n?97:n,(function(){var n=Go.transition;Go.transition=1;try{t(!1),e()}finally{Go.transition=n}}))}function As(t,e,n){var r=sa(),i=la(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=t.alternate,t===Yo||null!==s&&s===Yo)ts=Zo=!0;else{if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var l=e.lastRenderedState,a=s(l,n);if(o.eagerReducer=s,o.eagerState=a,sr(a,l))return}catch(t){}aa(t,i,r)}}var Os={readContext:no,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useOpaqueIdentifier:es,unstable_isNewReconciler:!1},Ts={readContext:no,useCallback:function(t,e){return is().memoizedState=[t,void 0===e?null:e],t},useContext:no,useEffect:ys,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ms(4,2,xs.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ms(4,2,t,e)},useMemo:function(t,e){var n=is();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=As.bind(null,Yo,t),[r.memoizedState,t]},useRef:ps,useState:fs,useDebugValue:Ss,useDeferredValue:function(t){var e=fs(t),n=e[0],r=e[1];return ys((function(){var e=Go.transition;Go.transition=1;try{r(t)}finally{Go.transition=e}}),[t]),n},useTransition:function(){var t=fs(!1),e=t[0];return ps(t=Es.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=is();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},us(r,t,e,n)},useOpaqueIdentifier:function(){if(Fo){var t=!1,e=function(t){return{$$typeof:N,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(qr++).toString(36))),Error(s(355))})),n=fs(e)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,ds(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),e}return fs(e="r:"+(qr++).toString(36)),e},unstable_isNewReconciler:!1},Ds={readContext:no,useCallback:Cs,useContext:no,useEffect:ws,useImperativeHandle:ks,useLayoutEffect:bs,useMemo:Ms,useReducer:ls,useRef:gs,useState:function(){return ls(ss)},useDebugValue:Ss,useDeferredValue:function(t){var e=ls(ss),n=e[0],r=e[1];return ws((function(){var e=Go.transition;Go.transition=1;try{r(t)}finally{Go.transition=e}}),[t]),n},useTransition:function(){var t=ls(ss)[0];return[gs().current,t]},useMutableSource:hs,useOpaqueIdentifier:function(){return ls(ss)[0]},unstable_isNewReconciler:!1},Ps={readContext:no,useCallback:Cs,useContext:no,useEffect:ws,useImperativeHandle:ks,useLayoutEffect:bs,useMemo:Ms,useReducer:as,useRef:gs,useState:function(){return as(ss)},useDebugValue:Ss,useDeferredValue:function(t){var e=as(ss),n=e[0],r=e[1];return ws((function(){var e=Go.transition;Go.transition=1;try{r(t)}finally{Go.transition=e}}),[t]),n},useTransition:function(){var t=as(ss)[0];return[gs().current,t]},useMutableSource:hs,useOpaqueIdentifier:function(){return as(ss)[0]},unstable_isNewReconciler:!1},_s=x.ReactCurrentOwner,Ls=!1;function Rs(t,e,n,r){e.child=null===t?Co(e,null,n,r):So(e,t.child,n,r)}function Ns(t,e,n,r,i){n=n.render;var o=e.ref;return eo(e,i),r=rs(t,e,n,r,o,i),null===t||Ls?(e.flags|=1,Rs(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Zs(t,e,i))}function Is(t,e,n,r,i,o){if(null===t){var s=n.type;return"function"!=typeof s||za(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Va(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Bs(t,e,s,r,i,o))}return s=t.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:ar)(i,r)&&t.ref===e.ref)?Zs(t,e,o):(e.flags|=1,(t=ja(s,r)).ref=e.ref,t.return=e,e.child=t)}function Bs(t,e,n,r,i,o){if(null!==t&&ar(t.memoizedProps,r)&&t.ref===e.ref){if(Ls=!1,0==(o&i))return e.lanes=t.lanes,Zs(t,e,o);0!=(16384&t.flags)&&(Ls=!0)}return js(t,e,n,r,o)}function Fs(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},ma(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ma(0,t),null;e.memoizedState={baseLanes:0},ma(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,ma(0,r);return Rs(t,e,i,n),e.child}function zs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function js(t,e,n,r,i){var o=di(n)?hi:ci.current;return o=fi(e,o),eo(e,i),n=rs(t,e,n,r,o,i),null===t||Ls?(e.flags|=1,Rs(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Zs(t,e,i))}function Vs(t,e,n,r,i){if(di(n)){var o=!0;vi(e)}else o=!1;if(eo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),mo(e,n,r),yo(e,n,r,i),r=!0;else if(null===t){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(e,c=di(n)?hi:ci.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==r||a!==c)&&vo(e,s,r,c),ro=!1;var f=e.memoizedState;s.state=f,co(e,r,s,i),a=e.memoizedState,l!==r||f!==a||ui.current||ro?("function"==typeof u&&(fo(e,n,u,r),a=e.memoizedState),(l=ro||go(e,n,l,r,f,a,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.flags|=4)):("function"==typeof s.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):("function"==typeof s.componentDidMount&&(e.flags|=4),r=!1)}else{s=e.stateNode,oo(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ki(e.type,l),s.props=c,h=e.pendingProps,f=s.context,a="object"==typeof(a=n.contextType)&&null!==a?no(a):fi(e,a=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==h||f!==a)&&vo(e,s,r,a),ro=!1,f=e.memoizedState,s.state=f,co(e,r,s,i);var p=e.memoizedState;l!==h||f!==p||ui.current||ro?("function"==typeof d&&(fo(e,n,d,r),p=e.memoizedState),(c=ro||go(e,n,c,r,f,p,a))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,a),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,a)),"function"==typeof s.componentDidUpdate&&(e.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof s.componentDidUpdate||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=a,r=c):("function"!=typeof s.componentDidUpdate||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Ws(t,e,n,r,o,i)}function Ws(t,e,n,r,i,o){zs(t,e);var s=0!=(64&e.flags);if(!r&&!s)return i&&yi(e,n,!1),Zs(t,e,o);r=e.stateNode,_s.current=e;var l=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&s?(e.child=So(e,t.child,null,o),e.child=So(e,null,l,o)):Rs(t,e,l,o),e.memoizedState=r.state,i&&yi(e,n,!0),e.child}function Hs(t){var e=t.stateNode;e.pendingContext?gi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&gi(0,e.context,!1),Do(t,e.containerInfo)}var Us,$s,qs,Ks={dehydrated:null,retryLane:0};function Gs(t,e,n){var r,i=e.pendingProps,o=Ro.current,s=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&o)),r?(s=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Ro,1&o),null===t?(void 0!==i.fallback&&Vo(e),t=i.children,o=i.fallback,s?(t=Qs(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ks,t):"number"==typeof i.unstable_expectedLoadTime?(t=Qs(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ks,e.lanes=33554432,t):((n=Ha({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,s?(i=function(t,e,n,r,i){var o=e.mode,s=t.child;t=s.sibling;var l={mode:"hidden",children:n};return 0==(2&o)&&e.child!==s?((n=e.child).childLanes=0,n.pendingProps=l,null!==(s=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):n=ja(s,l),null!==t?r=ja(t,r):(r=Wa(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),s=e.child,o=t.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Ks,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=ja(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Qs(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ha(e,i,0,null),n=Wa(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function Ys(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),to(t.return,e)}function Xs(t,e,n,r,i,o){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function Js(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Rs(t,e,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ys(t,n);else if(19===t.tag)Ys(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(li(Ro,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===No(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===No(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xs(e,!0,n,null,o,e.lastEffect);break;case"together":Xs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Nl|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=ja(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ja(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function tl(t,e){if(!Fo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function el(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(e.type)&&pi(),null;case 3:return Po(),si(ui),si(ci),qo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Ho(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Lo(e);var o=To(Oo.current);if(n=e.type,null!==t&&null!=e.stateNode)$s(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(s(166));return null}if(t=To(Eo.current),Ho(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[Gr]=e,r[Qr]=l,n){case"dialog":Er("cancel",r),Er("close",r);break;case"iframe":case"object":case"embed":Er("load",r);break;case"video":case"audio":for(t=0;t<kr.length;t++)Er(kr[t],r);break;case"source":Er("error",r);break;case"img":case"image":case"link":Er("error",r),Er("load",r);break;case"details":Er("toggle",r);break;case"input":tt(r,l),Er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Er("invalid",r);break;case"textarea":at(r,l),Er("invalid",r)}for(var c in St(n,l),t=null,l)l.hasOwnProperty(c)&&(o=l[c],"children"===c?"string"==typeof o?r.textContent!==o&&(t=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(t=["children",""+o]):a.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Er("scroll",r));switch(n){case"input":Y(r),rt(r,l,!0);break;case"textarea":Y(r),ut(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Ir)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=ft(n)),t===ht?"script"===n?((t=c.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),"select"===n&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Gr]=e,t[Qr]=r,Us(t,e),e.stateNode=t,c=Ct(n,r),n){case"dialog":Er("cancel",t),Er("close",t),o=r;break;case"iframe":case"object":case"embed":Er("load",t),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Er(kr[o],t);o=r;break;case"source":Er("error",t),o=r;break;case"img":case"image":case"link":Er("error",t),Er("load",t),o=r;break;case"details":Er("toggle",t),o=r;break;case"input":tt(t,r),o=Z(t,r),Er("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Er("invalid",t);break;case"textarea":at(t,r),o=lt(t,r),Er("invalid",t);break;default:o=r}St(n,o);var u=o;for(l in u)if(u.hasOwnProperty(l)){var h=u[l];"style"===l?xt(t,h):"dangerouslySetInnerHTML"===l?null!=(h=h?h.__html:void 0)&&mt(t,h):"children"===l?"string"==typeof h?("textarea"!==n||""!==h)&&vt(t,h):"number"==typeof h&&vt(t,""+h):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?null!=h&&"onScroll"===l&&Er("scroll",t):null!=h&&b(t,l,h,c))}switch(n){case"input":Y(t),rt(t,r,!1);break;case"textarea":Y(t),ut(t);break;case"option":null!=r.value&&t.setAttribute("value",""+G(r.value));break;case"select":t.multiple=!!r.multiple,null!=(l=r.value)?st(t,!!r.multiple,l,!1):null!=r.defaultValue&&st(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=Ir)}zr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)qs(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(s(166));n=To(Oo.current),To(Eo.current),Ho(e)?(r=e.stateNode,n=e.memoizedProps,r[Gr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=e,e.stateNode=r)}return null;case 13:return si(Ro),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ho(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?0===_l&&(_l=3):(0!==_l&&3!==_l||(_l=4),null===Al||0==(134217727&Nl)&&0==(134217727&Il)||fa(Al,Tl))),(r||n)&&(e.flags|=4),null);case 4:return Po(),null===t&&Or(e.stateNode.containerInfo),null;case 10:return Zi(e),null;case 17:return di(e.type)&&pi(),null;case 19:if(si(Ro),null===(r=e.memoizedState))return null;if(l=0!=(64&e.flags),null===(c=r.rendering))if(l)tl(r,!1);else{if(0!==_l||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(c=No(t))){for(e.flags|=64,tl(r,!1),null!==(l=c.updateQueue)&&(e.updateQueue=l,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(l=n).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(c=l.alternate)?(l.childLanes=0,l.lanes=t,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,t=c.dependencies,l.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return li(Ro,1&Ro.current|2),e.child}t=t.sibling}null!==r.tail&&zi()>jl&&(e.flags|=64,l=!0,tl(r,!1),e.lanes=33554432)}else{if(!l)if(null!==(t=No(c))){if(e.flags|=64,l=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Fo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*zi()-r.renderingStartTime>jl&&1073741824!==n&&(e.flags|=64,l=!0,tl(r,!1),e.lanes=33554432);r.isBackwards?(c.sibling=e.child,e.child=c):(null!==(n=r.last)?n.sibling=c:e.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=zi(),n.sibling=null,e=Ro.current,li(Ro,l?1&e|2:1&e),n):null;case 23:case 24:return va(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(s(156,e.tag))}function nl(t){switch(t.tag){case 1:di(t.type)&&pi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Po(),si(ui),si(ci),qo(),0!=(64&(e=t.flags)))throw Error(s(285));return t.flags=-4097&e|64,t;case 5:return Lo(t),null;case 13:return si(Ro),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(Ro),null;case 4:return Po(),null;case 10:return Zi(t),null;case 23:case 24:return va(),null;default:return null}}function rl(t,e){try{var n="",r=e;do{n+=q(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function il(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Us=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$s=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,To(Eo.current);var s,l=null;switch(n){case"input":o=Z(t,o),r=Z(t,r),l=[];break;case"option":o=ot(t,o),r=ot(t,r),l=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),l=[];break;case"textarea":o=lt(t,o),r=lt(t,r),l=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(t.onclick=Ir)}for(h in St(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(l||(l=[]),l.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(l=l||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(l=l||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Er("scroll",t),l||c===u||(l=[])):"object"==typeof u&&null!==u&&u.$$typeof===N?u.toString():(l=l||[]).push(h,u))}n&&(l=l||[]).push("style",n);var h=l;(e.updateQueue=h)&&(e.flags|=4)}},qs=function(t,e,n,r){n!==r&&(e.flags|=4)};var ol="function"==typeof WeakMap?WeakMap:Map;function sl(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ul||(Ul=!0,$l=r),il(0,e)},n}function ll(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return il(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this),il(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var al="function"==typeof WeakSet?WeakSet:Set;function cl(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Ra(t,e)}else e.current=null}function ul(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ki(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Hr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function hl(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pa(n,t),Da(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ki(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&uo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}uo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&zr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xe(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function fl(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function dl(t,e){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(wi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pa(e,n);else{r=e;try{i()}catch(t){Ra(r,t)}}n=n.next}while(n!==t)}break;case 1:if(cl(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ra(e,t)}break;case 5:cl(e);break;case 4:wl(t,e)}}function pl(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function gl(t){return 5===t.tag||3===t.tag||4===t.tag}function ml(t){t:{for(var e=t.return;null!==e;){if(gl(e))break t;e=e.return}throw Error(s(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(vt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||gl(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?vl(t,n,e):yl(t,n,e)}function vl(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Ir));else if(4!==r&&null!==(t=t.child))for(vl(t,e,n),t=t.sibling;null!==t;)vl(t,e,n),t=t.sibling}function yl(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(yl(t,e,n),t=t.sibling;null!==t;)yl(t,e,n),t=t.sibling}function wl(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var l=t,a=i,c=a;;)if(dl(l,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===a)break t;for(;null===c.sibling;){if(null===c.return||c.return===a)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(l=n,a=i.stateNode,8===l.nodeType?l.parentNode.removeChild(a):l.removeChild(a)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(dl(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function bl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Qr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Ct(t,i),e=Ct(t,r),i=0;i<o.length;i+=2){var l=o[i],a=o[i+1];"style"===l?xt(n,a):"dangerouslySetInnerHTML"===l?mt(n,a):"children"===l?vt(n,a):b(n,l,a,e)}switch(t){case"input":nt(n,r);break;case"textarea":ct(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?st(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?st(n,!!r.multiple,r.defaultValue,!0):st(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(s(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,xe(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(zl=zi(),fl(e.child,!0)),void xl(e);case 19:return void xl(e);case 17:return;case 23:case 24:return void fl(e,null!==e.memoizedState)}throw Error(s(163))}function xl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new al),e.forEach((function(e){var r=Ia.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function kl(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Sl=Math.ceil,Cl=x.ReactCurrentDispatcher,Ml=x.ReactCurrentOwner,El=0,Al=null,Ol=null,Tl=0,Dl=0,Pl=oi(0),_l=0,Ll=null,Rl=0,Nl=0,Il=0,Bl=0,Fl=null,zl=0,jl=1/0;function Vl(){jl=zi()+500}var Wl,Hl=null,Ul=!1,$l=null,ql=null,Kl=!1,Gl=null,Ql=90,Yl=[],Xl=[],Jl=null,Zl=0,ta=null,ea=-1,na=0,ra=0,ia=null,oa=!1;function sa(){return 0!=(48&El)?zi():-1!==ea?ea:ea=zi()}function la(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===ji()?1:2;if(0===na&&(na=Rl),0!==qi.transition){0!==ra&&(ra=null!==Fl?Fl.pendingLanes:0),t=na;var e=4186112&~ra;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=ji(),t=ze(0!=(4&El)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),na)}function aa(t,e,n){if(50<Zl)throw Zl=0,ta=null,Error(s(185));if(null===(t=ca(t,e)))return null;We(t,e,n),t===Al&&(Il|=e,4===_l&&fa(t,Tl));var r=ji();1===e?0!=(8&El)&&0==(48&El)?da(t):(ua(t,n),0===El&&(Vl(),Ui())):(0==(4&El)||98!==r&&99!==r||(null===Jl?Jl=new Set([t]):Jl.add(t)),ua(t,n)),Fl=t}function ca(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function ua(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,l=t.pendingLanes;0<l;){var a=31-He(l),c=1<<a,u=o[a];if(-1===u){if(0==(c&r)||0!=(c&i)){u=e,Ie(c);var h=Ne;o[a]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=e&&(t.expiredLanes|=c);l&=~c}if(r=Be(t,t===Al?Tl:0),e=Ne,0===r)null!==n&&(n!==Li&&Si(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Li&&Si(n)}15===e?(n=da.bind(null,t),null===Ni?(Ni=[n],Ii=ki(Oi,$i)):Ni.push(n),n=Li):n=14===e?Hi(99,da.bind(null,t)):Hi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,t))}}(e),ha.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function ha(t){if(ea=-1,ra=na=0,0!=(48&El))throw Error(s(327));var e=t.callbackNode;if(Ta()&&t.callbackNode!==e)return null;var n=Be(t,t===Al?Tl:0);if(0===n)return null;var r=n,i=El;El|=16;var o=ba();for(Al===t&&Tl===r||(Vl(),ya(t,r));;)try{Sa();break}catch(e){wa(t,e)}if(Ji(),Cl.current=o,El=i,null!==Ol?r=0:(Al=null,Tl=0,r=_l),0!=(Rl&Il))ya(t,0);else if(0!==r){if(2===r&&(El|=64,t.hydrate&&(t.hydrate=!1,Hr(t.containerInfo)),0!==(n=Fe(t))&&(r=xa(t,n))),1===r)throw e=Ll,ya(t,0),fa(t,n),ua(t,zi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:Ea(t);break;case 3:if(fa(t,n),(62914560&n)===n&&10<(r=zl+500-zi())){if(0!==Be(t,0))break;if(((i=t.suspendedLanes)&n)!==n){sa(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vr(Ea.bind(null,t),r);break}Ea(t);break;case 4:if(fa(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var l=31-He(n);o=1<<l,(l=r[l])>i&&(i=l),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){t.timeoutHandle=Vr(Ea.bind(null,t),n);break}Ea(t);break;case 5:Ea(t);break;default:throw Error(s(329))}}return ua(t,zi()),t.callbackNode===e?ha.bind(null,t):null}function fa(t,e){for(e&=~Bl,e&=~Il,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-He(e),r=1<<n;t[n]=-1,e&=~r}}function da(t){if(0!=(48&El))throw Error(s(327));if(Ta(),t===Al&&0!=(t.expiredLanes&Tl)){var e=Tl,n=xa(t,e);0!=(Rl&Il)&&(n=xa(t,e=Be(t,e)))}else n=xa(t,e=Be(t,0));if(0!==t.tag&&2===n&&(El|=64,t.hydrate&&(t.hydrate=!1,Hr(t.containerInfo)),0!==(e=Fe(t))&&(n=xa(t,e))),1===n)throw n=Ll,ya(t,0),fa(t,e),ua(t,zi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ea(t),ua(t,zi()),null}function pa(t,e){var n=El;El|=1;try{return t(e)}finally{0===(El=n)&&(Vl(),Ui())}}function ga(t,e){var n=El;El&=-2,El|=8;try{return t(e)}finally{0===(El=n)&&(Vl(),Ui())}}function ma(t,e){li(Pl,Dl),Dl|=e,Rl|=e}function va(){Dl=Pl.current,si(Pl)}function ya(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Wr(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Po(),si(ui),si(ci),qo();break;case 5:Lo(r);break;case 4:Po();break;case 13:case 19:si(Ro);break;case 10:Zi(r);break;case 23:case 24:va()}n=n.return}Al=t,Ol=ja(t.current,null),Tl=Dl=Rl=e,_l=0,Ll=null,Bl=Il=Nl=0}function wa(t,e){for(;;){var n=Ol;try{if(Ji(),Ko.current=Os,Zo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if(Qo=0,Jo=Xo=Yo=null,ts=!1,Ml.current=null,null===n||null===n.return){_l=1,Ll=e,Ol=null;break}t:{var o=t,s=n.return,l=n,a=e;if(e=Tl,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var c=a;if(0==(2&l.mode)){var u=l.alternate;u?(l.updateQueue=u.updateQueue,l.memoizedState=u.memoizedState,l.lanes=u.lanes):(l.updateQueue=null,l.memoizedState=null)}var h=0!=(1&Ro.current),f=s;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var g=f.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(c),f.updateQueue=v}else m.add(c);if(0==(2&f.mode)){if(f.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var y=so(-1,1);y.tag=2,lo(l,y)}l.lanes|=1;break t}a=void 0,l=e;var w=o.pingCache;if(null===w?(w=o.pingCache=new ol,a=new Set,w.set(c,a)):void 0===(a=w.get(c))&&(a=new Set,w.set(c,a)),!a.has(l)){a.add(l);var b=Na.bind(null,o,c,l);c.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);a=Error((K(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==_l&&(_l=2),a=rl(a,l),f=s;do{switch(f.tag){case 3:o=a,f.flags|=4096,e&=-e,f.lanes|=e,ao(f,sl(0,o,e));break t;case 1:o=a;var x=f.type,k=f.stateNode;if(0==(64&f.flags)&&("function"==typeof x.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===ql||!ql.has(k)))){f.flags|=4096,e&=-e,f.lanes|=e,ao(f,ll(f,o,e));break t}}f=f.return}while(null!==f)}Ma(n)}catch(t){e=t,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function ba(){var t=Cl.current;return Cl.current=Os,null===t?Os:t}function xa(t,e){var n=El;El|=16;var r=ba();for(Al===t&&Tl===e||ya(t,e);;)try{ka();break}catch(e){wa(t,e)}if(Ji(),El=n,Cl.current=r,null!==Ol)throw Error(s(261));return Al=null,Tl=0,_l}function ka(){for(;null!==Ol;)Ca(Ol)}function Sa(){for(;null!==Ol&&!Ci();)Ca(Ol)}function Ca(t){var e=Wl(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?Ma(t):Ol=e,Ml.current=null}function Ma(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=el(n,e,Dl)))return void(Ol=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Dl)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=nl(e)))return n.flags&=2047,void(Ol=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ol=e);Ol=e=t}while(null!==e);0===_l&&(_l=5)}function Ea(t){var e=ji();return Wi(99,Aa.bind(null,t,e)),null}function Aa(t,e){do{Ta()}while(null!==Gl);if(0!=(48&El))throw Error(s(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var l=t.eventTimes,a=t.expirationTimes;0<o;){var c=31-He(o),u=1<<c;i[c]=0,l[c]=-1,a[c]=-1,o&=~u}if(null!==Jl&&0==(24&r)&&Jl.has(t)&&Jl.delete(t),t===Al&&(Ol=Al=null,Tl=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=El,El|=32,Ml.current=null,Br=Ge,dr(l=fr())){if("selectionStart"in l)a={start:l.selectionStart,end:l.selectionEnd};else t:if(a=(a=l.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&0!==u.rangeCount){a=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{a.nodeType,c.nodeType}catch(t){a=null;break t}var h=0,f=-1,d=-1,p=0,g=0,m=l,v=null;e:for(;;){for(var y;m!==a||0!==o&&3!==m.nodeType||(f=h+o),m!==c||0!==u&&3!==m.nodeType||(d=h+u),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===l)break e;if(v===a&&++p===o&&(f=h),v===c&&++g===u&&(d=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}a=-1===f||-1===d?null:{start:f,end:d}}else a=null;a=a||{start:0,end:0}}else a=null;Fr={focusedElem:l,selectionRange:a},Ge=!1,ia=null,oa=!1,Hl=r;do{try{Oa()}catch(t){if(null===Hl)throw Error(s(330));Ra(Hl,t),Hl=Hl.nextEffect}}while(null!==Hl);ia=null,Hl=r;do{try{for(l=t;null!==Hl;){var w=Hl.flags;if(16&w&&vt(Hl.stateNode,""),128&w){var b=Hl.alternate;if(null!==b){var x=b.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&w){case 2:ml(Hl),Hl.flags&=-3;break;case 6:ml(Hl),Hl.flags&=-3,bl(Hl.alternate,Hl);break;case 1024:Hl.flags&=-1025;break;case 1028:Hl.flags&=-1025,bl(Hl.alternate,Hl);break;case 4:bl(Hl.alternate,Hl);break;case 8:wl(l,a=Hl);var k=a.alternate;pl(a),null!==k&&pl(k)}Hl=Hl.nextEffect}}catch(t){if(null===Hl)throw Error(s(330));Ra(Hl,t),Hl=Hl.nextEffect}}while(null!==Hl);if(x=Fr,b=fr(),w=x.focusedElem,l=x.selectionRange,b!==w&&w&&w.ownerDocument&&hr(w.ownerDocument.documentElement,w)){null!==l&&dr(w)&&(b=l.start,void 0===(x=l.end)&&(x=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(x,w.value.length)):(x=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),a=w.textContent.length,k=Math.min(l.start,a),l=void 0===l.end?k:Math.min(l.end,a),!x.extend&&k>l&&(a=l,l=k,k=a),a=ur(w,k),o=ur(w,l),a&&o&&(1!==x.rangeCount||x.anchorNode!==a.node||x.anchorOffset!==a.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(a.node,a.offset),x.removeAllRanges(),k>l?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=w;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(x=b[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ge=!!Br,Fr=Br=null,t.current=n,Hl=r;do{try{for(w=t;null!==Hl;){var S=Hl.flags;if(36&S&&hl(w,Hl.alternate,Hl),128&S){b=void 0;var C=Hl.ref;if(null!==C){var M=Hl.stateNode;switch(Hl.tag){case 5:b=M;break;default:b=M}"function"==typeof C?C(b):C.current=b}}Hl=Hl.nextEffect}}catch(t){if(null===Hl)throw Error(s(330));Ra(Hl,t),Hl=Hl.nextEffect}}while(null!==Hl);Hl=null,Ri(),El=i}else t.current=n;if(Kl)Kl=!1,Gl=t,Ql=e;else for(Hl=r;null!==Hl;)e=Hl.nextEffect,Hl.nextEffect=null,8&Hl.flags&&((S=Hl).sibling=null,S.stateNode=null),Hl=e;if(0===(r=t.pendingLanes)&&(ql=null),1===r?t===ta?Zl++:(Zl=0,ta=t):Zl=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(wi,n,void 0,64==(64&n.current.flags))}catch(t){}if(ua(t,zi()),Ul)throw Ul=!1,t=$l,$l=null,t;return 0!=(8&El)||Ui(),null}function Oa(){for(;null!==Hl;){var t=Hl.alternate;oa||null===ia||(0!=(8&Hl.flags)?Zt(Hl,ia)&&(oa=!0):13===Hl.tag&&kl(t,Hl)&&Zt(Hl,ia)&&(oa=!0));var e=Hl.flags;0!=(256&e)&&ul(t,Hl),0==(512&e)||Kl||(Kl=!0,Hi(97,(function(){return Ta(),null}))),Hl=Hl.nextEffect}}function Ta(){if(90!==Ql){var t=97<Ql?97:Ql;return Ql=90,Wi(t,_a)}return!1}function Da(t,e){Yl.push(e,t),Kl||(Kl=!0,Hi(97,(function(){return Ta(),null})))}function Pa(t,e){Xl.push(e,t),Kl||(Kl=!0,Hi(97,(function(){return Ta(),null})))}function _a(){if(null===Gl)return!1;var t=Gl;if(Gl=null,0!=(48&El))throw Error(s(331));var e=El;El|=32;var n=Xl;Xl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],l=i.destroy;if(i.destroy=void 0,"function"==typeof l)try{l()}catch(t){if(null===o)throw Error(s(330));Ra(o,t)}}for(n=Yl,Yl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var a=i.create;i.destroy=a()}catch(t){if(null===o)throw Error(s(330));Ra(o,t)}}for(a=t.current.firstEffect;null!==a;)t=a.nextEffect,a.nextEffect=null,8&a.flags&&(a.sibling=null,a.stateNode=null),a=t;return El=e,Ui(),!0}function La(t,e,n){lo(t,e=sl(0,e=rl(n,e),1)),e=sa(),null!==(t=ca(t,1))&&(We(t,1,e),ua(t,e))}function Ra(t,e){if(3===t.tag)La(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){La(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){var i=ll(n,t=rl(e,t),1);if(lo(n,i),i=sa(),null!==(n=ca(n,1)))We(n,1,i),ua(n,i);else if("function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Na(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=sa(),t.pingedLanes|=t.suspendedLanes&n,Al===t&&(Tl&n)===n&&(4===_l||3===_l&&(62914560&Tl)===Tl&&500>zi()-zl?ya(t,0):Bl|=n),ua(t,e)}function Ia(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===ji()?1:2:(0===na&&(na=Rl),0===(e=je(62914560&~na))&&(e=4194304))),n=sa(),null!==(t=ca(t,e))&&(We(t,e,n),ua(t,n))}function Ba(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(t,e,n,r){return new Ba(t,e,n,r)}function za(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ja(t,e){var n=t.alternate;return null===n?((n=Fa(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Va(t,e,n,r,i,o){var l=2;if(r=t,"function"==typeof t)za(t)&&(l=1);else if("string"==typeof t)l=5;else t:switch(t){case C:return Wa(n.children,i,o,e);case I:l=8,i|=16;break;case M:l=8,i|=1;break;case E:return(t=Fa(12,n,e,8|i)).elementType=E,t.type=E,t.lanes=o,t;case D:return(t=Fa(13,n,e,i)).type=D,t.elementType=D,t.lanes=o,t;case P:return(t=Fa(19,n,e,i)).elementType=P,t.lanes=o,t;case B:return Ha(n,i,o,e);case F:return(t=Fa(24,n,e,i)).elementType=F,t.lanes=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case A:l=10;break t;case O:l=9;break t;case T:l=11;break t;case _:l=14;break t;case L:l=16,r=null;break t;case R:l=22;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Fa(l,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Wa(t,e,n,r){return(t=Fa(7,t,r,e)).lanes=n,t}function Ha(t,e,n,r){return(t=Fa(23,t,r,e)).elementType=B,t.lanes=n,t}function Ua(t,e,n){return(t=Fa(6,t,null,e)).lanes=n,t}function $a(t,e,n){return(e=Fa(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qa(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ve(0),this.expirationTimes=Ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.mutableSourceEagerHydrationData=null}function Ka(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Ga(t,e,n,r){var i=e.current,o=sa(),l=la(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(di(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);throw Error(s(171))}if(1===n.tag){var c=n.type;if(di(c)){n=mi(n,c,a);break t}}n=a}else n=ai;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,l)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),lo(i,e),aa(i,l,o),l}function Qa(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ya(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Xa(t,e){Ya(t,e),(t=t.alternate)&&Ya(t,e)}function Ja(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new qa(t,e,null!=n&&!0===n.hydrate),e=Fa(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,io(e),t[Yr]=n.current,Or(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function Za(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function tc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var l=i;i=function(){var t=Qa(s);l.call(t)}}Ga(e,s,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ja(t,0,e?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var a=i;i=function(){var t=Qa(s);a.call(t)}}ga((function(){Ga(e,s,t,i)}))}return Qa(s)}function ec(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Za(e))throw Error(s(200));return Ka(t,e,null,n)}Wl=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ui.current)Ls=!0;else{if(0==(n&r)){switch(Ls=!1,e.tag){case 3:Hs(e),Uo();break;case 5:_o(e);break;case 1:di(e.type)&&vi(e);break;case 4:Do(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;li(Gi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Gs(t,e,n):(li(Ro,1&Ro.current),null!==(e=Zs(t,e,n))?e.sibling:null);li(Ro,1&Ro.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return Js(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Ro,Ro.current),r)break;return null;case 23:case 24:return e.lanes=0,Fs(t,e,n)}return Zs(t,e,n)}Ls=0!=(16384&t.flags)}else Ls=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=fi(e,ci.current),eo(e,n),i=rs(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)){var o=!0;vi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(e);var l=r.getDerivedStateFromProps;"function"==typeof l&&fo(e,r,l,t),i.updater=po,e.stateNode=i,i._reactInternals=e,yo(e,r,t,n),e=Ws(null,e,r,!0,o,n)}else e.tag=0,Rs(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return za(t)?1:0;if(null!=t){if((t=t.$$typeof)===T)return 11;if(t===_)return 14}return 2}(i),t=Ki(i,t),o){case 0:e=js(null,e,i,t,n);break t;case 1:e=Vs(null,e,i,t,n);break t;case 11:e=Ns(null,e,i,t,n);break t;case 14:e=Is(null,e,i,Ki(i.type,t),r,n);break t}throw Error(s(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,js(t,e,r,i=e.elementType===r?i:Ki(r,i),n);case 1:return r=e.type,i=e.pendingProps,Vs(t,e,r,i=e.elementType===r?i:Ki(r,i),n);case 3:if(Hs(e),r=e.updateQueue,null===t||null===r)throw Error(s(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,oo(t,e),co(e,r,null,n),(r=e.memoizedState.element)===i)Uo(),e=Zs(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Bo=Ur(e.stateNode.containerInfo.firstChild),Io=e,o=Fo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],$o.push(o);for(n=Co(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Rs(t,e,r,n),Uo();e=e.child}return e;case 5:return _o(e),null===t&&Vo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,l=i.children,jr(r,i)?l=null:null!==o&&jr(r,o)&&(e.flags|=16),zs(t,e),Rs(t,e,l,n),e.child;case 6:return null===t&&Vo(e),null;case 13:return Gs(t,e,n);case 4:return Do(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=So(e,null,r,n):Rs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ns(t,e,r,i=e.elementType===r?i:Ki(r,i),n);case 7:return Rs(t,e,e.pendingProps,n),e.child;case 8:case 12:return Rs(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,l=e.memoizedProps,o=i.value;var a=e.type._context;if(li(Gi,a._currentValue),a._currentValue=o,null!==l)if(a=l.value,0==(o=sr(a,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,o):1073741823))){if(l.children===i.children&&!ui.current){e=Zs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var c=a.dependencies;if(null!==c){l=a.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===a.tag&&((u=so(-1,n&-n)).tag=2,lo(a,u)),a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),to(a.return,n),c.lanes|=n;break}u=u.next}}else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}Rs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,eo(e,n),r=r(i=no(i,o.unstable_observedBits)),e.flags|=1,Rs(t,e,r,n),e.child;case 14:return o=Ki(i=e.type,e.pendingProps),Is(t,e,i,o=Ki(i.type,o),r,n);case 15:return Bs(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,di(r)?(t=!0,vi(e)):t=!1,eo(e,n),mo(e,r,i),yo(e,r,i,n),Ws(null,e,r,!0,t,n);case 19:return Js(t,e,n);case 23:case 24:return Fs(t,e,n)}throw Error(s(156,e.tag))},Ja.prototype.render=function(t){Ga(t,this._internalRoot,null,null)},Ja.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ga(null,t,null,(function(){e[Yr]=null}))},te=function(t){13===t.tag&&(aa(t,4,sa()),Xa(t,4))},ee=function(t){13===t.tag&&(aa(t,67108864,sa()),Xa(t,67108864))},ne=function(t){if(13===t.tag){var e=sa(),n=la(t);aa(t,n,e),Xa(t,n)}},re=function(t,e){return e()},Et=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ei(r);if(!i)throw Error(s(90));X(r),nt(r,i)}}}break;case"textarea":ct(t,n);break;case"select":null!=(e=n.value)&&st(t,!!n.multiple,e,!1)}},_t=pa,Lt=function(t,e,n,r,i){var o=El;El|=4;try{return Wi(98,t.bind(null,e,n,r,i))}finally{0===(El=o)&&(Vl(),Ui())}},Rt=function(){0==(49&El)&&(function(){if(null!==Jl){var t=Jl;Jl=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,ua(t,zi())}))}Ui()}(),Ta())},Nt=function(t,e){var n=El;El|=2;try{return t(e)}finally{0===(El=n)&&(Vl(),Ui())}};var nc={Events:[Zr,ti,ei,Dt,Pt,Ta,{current:!1}]},rc={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{wi=oc.inject(ic),bi=oc}catch(gt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,e.createPortal=ec,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(s(188));throw Error(s(268,Object.keys(t)))}return null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=El;if(0!=(48&n))return t(e);El|=1;try{if(t)return Wi(99,t.bind(null,e))}finally{El=n,Ui()}},e.hydrate=function(t,e,n){if(!Za(e))throw Error(s(200));return tc(null,t,e,!0,n)},e.render=function(t,e,n){if(!Za(e))throw Error(s(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Za(t))throw Error(s(40));return!!t._reactRootContainer&&(ga((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[Yr]=null}))})),!0)},e.unstable_batchedUpdates=pa,e.unstable_createPortal=function(t,e){return ec(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Za(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return tc(t,e,n,!1,r)},e.version="17.0.2"},3935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(4448)},2408:(t,e,n)=>{"use strict";var r=n(7418),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var s=60109,l=60110,a=60112;e.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),s=h("react.provider"),l=h("react.context"),a=h("react.forward_ref"),e.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function v(){}function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=m.prototype;var w=y.prototype=new v;w.constructor=y,r(w,m.prototype),w.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},s=null,l=null;if(null!=e)for(r in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(s=""+e.key),e)x.call(e,r)&&!k.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps)void 0===o[r]&&(o[r]=a[r]);return{$$typeof:i,type:t,key:s,ref:l,props:o,_owner:b.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var M=/\/+/g;function E(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function A(t,e,n,r,s){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var a=!1;if(null===t)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case i:case o:a=!0}}if(a)return s=s(a=t),t=""===r?"."+E(a,0):r,Array.isArray(s)?(n="",null!=t&&(n=t.replace(M,"$&/")+"/"),A(s,e,n,"",(function(t){return t}))):null!=s&&(C(s)&&(s=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(M,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=r+E(l=t[c],c);a+=A(l,e,n,u,s)}else if("function"==typeof(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=u.call(t),c=0;!(l=t.next()).done;)a+=A(l=l.value,e,n,u=r+E(l,c++),s);else if("object"===l)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function O(t,e,n){if(null==t)return t;var r=[],i=0;return A(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function T(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var D={current:null};function P(){var t=D.current;if(null===t)throw Error(d(321));return t}var _={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error(d(143));return t}},e.Component=m,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,e.cloneElement=function(t,e,n){if(null==t)throw Error(d(267,t));var o=r({},t.props),s=t.key,l=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(l=e.ref,a=b.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)x.call(e,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===e[u]&&void 0!==c?c[u]:e[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:t.type,key:s,ref:l,props:o,_owner:a}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:l,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:a,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:u,_payload:{_status:-1,_result:t},_init:T}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return P().useCallback(t,e)},e.useContext=function(t,e){return P().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return P().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return P().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return P().useLayoutEffect(t,e)},e.useMemo=function(t,e){return P().useMemo(t,e)},e.useReducer=function(t,e,n){return P().useReducer(t,e,n)},e.useRef=function(t){return P().useRef(t)},e.useState=function(t){return P().useState(t)},e.version="17.0.2"},7294:(t,e,n)=>{"use strict";t.exports=n(2408)},53:(t,e)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var t=e.unstable_now();c(!0,t),c=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==c?setTimeout(n,0,t):(c=t,setTimeout(h,0))},r=function(t,e){u=setTimeout(t,e)},i=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,x=b.port2;b.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();w=t+y;try{m(!0,t)?x.postMessage(null):(g=!1,m=null)}catch(t){throw x.postMessage(null),t}}else g=!1},n=function(t){m=t,g||(g=!0,x.postMessage(null))},r=function(t,n){v=f((function(){t(e.unstable_now())}),n)},i=function(){d(v),v=-1}}function k(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<M(i,e)))break t;t[r]=e,t[n]=i,n=r}}function S(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,s=t[o],l=o+1,a=t[l];if(void 0!==s&&0>M(s,n))void 0!==a&&0>M(a,s)?(t[r]=a,t[l]=n,r=l):(t[r]=s,t[o]=n,r=o);else{if(!(void 0!==a&&0>M(a,n)))break t;t[r]=a,t[l]=n,r=l}}}return e}return null}function M(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var E=[],A=[],O=1,T=null,D=3,P=!1,_=!1,L=!1;function R(t){for(var e=S(A);null!==e;){if(null===e.callback)C(A);else{if(!(e.startTime<=t))break;C(A),e.sortIndex=e.expirationTime,k(E,e)}e=S(A)}}function N(t){if(L=!1,R(t),!_)if(null!==S(E))_=!0,n(I);else{var e=S(A);null!==e&&r(N,e.startTime-t)}}function I(t,n){_=!1,L&&(L=!1,i()),P=!0;var o=D;try{for(R(n),T=S(E);null!==T&&(!(T.expirationTime>n)||t&&!e.unstable_shouldYield());){var s=T.callback;if("function"==typeof s){T.callback=null,D=T.priorityLevel;var l=s(T.expirationTime<=n);n=e.unstable_now(),"function"==typeof l?T.callback=l:T===S(E)&&C(E),R(n)}else C(E);T=S(E)}if(null!==T)var a=!0;else{var c=S(A);null!==c&&r(N,c.startTime-n),a=!1}return a}finally{T=null,D=o,P=!1}}var B=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){_||P||(_=!0,n(I))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return S(E)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=B,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,o,s){var l=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?l+s:l,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:O++,callback:o,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>l?(t.sortIndex=s,k(A,t),null===S(E)&&t===S(A)&&(L?i():L=!0,r(N,s-l))):(t.sortIndex=a,k(E,t),_||P||(_=!0,n(I))),t},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},3840:(t,e,n)=>{"use strict";t.exports=n(53)},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},s=[],l=0;l<t.length;l++){var a=t[l],c=r.base?a[0]+r.base:a[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var f=n(h),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(e[f].references++,e[f].updater(d)):e.push({identifier:h,updater:i(d,r),references:1}),s.push(h)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var l=n(o[s]);e[l].references--}for(var a=r(t,i),c=0;c<o.length;c++){var u=n(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=a}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},3380:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},8120:(t,e,n)=>{"use strict";n.d(e,{q6:()=>lt,n0:()=>E,as:()=>A,D0:()=>yt,jT:()=>N,yy:()=>xt,r$:()=>F,gc:()=>M,Wl:()=>K,Xs:()=>At,f_:()=>Ot,uU:()=>St,Py:()=>ut,QQ:()=>$,xv:()=>r,YW:()=>ht,gm:()=>x,nZ:()=>S,BO:()=>kt,IS:()=>zt,cp:()=>m,Gz:()=>jt,bg:()=>k});class r{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=f(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),o.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=f(this,t,e);let n=[];return this.decompose(t,e,n,0),o.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new a(this),i=new a(t);for(let t=e,o=e;;){if(r.next(t),i.next(t),t=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(o+=r.value.length,r.done||o>=n)return!0}}iter(t=1){return new a(this,t)}iterRange(t,e=this.length){return new c(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new i(t):o.from(i.split(t,[])):r.empty}}class i extends r{constructor(t,e=function(t){let e=-1;for(let n of t)e+=n.length+1;return e}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.text[i],s=r+o.length;if((e?n:s)>=t)return new h(r,s,n,o);r=s+1,n++}}decompose(t,e,n,r){let o=t<=0&&e>=this.length?this:new i(l(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&r){let t=n.pop(),e=s(o.text,t.text.slice(),0,o.length);if(e.length<=32)n.push(new i(e,t.length+o.length));else{let t=e.length>>1;n.push(new i(e.slice(0,t)),new i(e.slice(t)))}}else n.push(o)}replace(t,e,n){if(!(n instanceof i))return super.replace(t,e,n);[t,e]=f(this,t,e);let r=s(this.text,s(n.text,l(this.text,0,t)),e),a=this.length+n.length-(e-t);return r.length<=32?new i(r,a):o.from(i.split(r,[]),a)}sliceString(t,e=this.length,n="\n"){[t,e]=f(this,t,e);let r="";for(let i=0,o=0;i<=e&&o<this.text.length;o++){let s=this.text[o],l=i+s.length;i>t&&o&&(r+=n),t<l&&e>i&&(r+=s.slice(Math.max(0,t-i),e-i)),i=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],r=-1;for(let o of t)n.push(o),r+=o.length+1,32==n.length&&(e.push(new i(n,r)),n=[],r=-1);return r>-1&&e.push(new i(n,r)),e}}class o extends r{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let e of t)this.lines+=e.lines}lineInner(t,e,n,r){for(let i=0;;i++){let o=this.children[i],s=r+o.length,l=n+o.lines-1;if((e?l:s)>=t)return o.lineInner(t,e,n,r);r=s+1,n=l+1}}decompose(t,e,n,r){for(let i=0,o=0;o<=e&&i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(t<=l&&e>=o){let i=r&((o<=t?1:0)|(l>=e?2:0));o>=t&&l<=e&&!i?n.push(s):s.decompose(t-o,e-o,n,i)}o=l+1}}replace(t,e,n){if([t,e]=f(this,t,e),n.lines<this.lines)for(let r=0,i=0;r<this.children.length;r++){let s=this.children[r],l=i+s.length;if(t>=i&&e<=l){let a=s.replace(t-i,e-i,n),c=this.lines-s.lines+a.lines;if(a.lines<c>>4&&a.lines>c>>6){let i=this.children.slice();return i[r]=a,new o(i,this.length-(e-t)+n.length)}return super.replace(i,l,a)}i=l+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=f(this,t,e);let r="";for(let i=0,o=0;i<this.children.length&&o<=e;i++){let s=this.children[i],l=o+s.length;o>t&&i&&(r+=n),t<l&&e>o&&(r+=s.sliceString(t-o,e-o,n)),o=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof o))return 0;let n=0,[r,i,s,l]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,i+=e){if(r==s||i==l)return n;let o=this.children[r],a=t.children[i];if(o!=a)return n+o.scanIdentical(a,e);n+=o.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let e of t)n+=e.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new i(n,e)}let r=Math.max(32,n>>5),s=r<<1,l=r>>1,a=[],c=0,u=-1,h=[];function f(t){let e;if(t.lines>s&&t instanceof o)for(let e of t.children)f(e);else t.lines>l&&(c>l||!c)?(d(),a.push(t)):t instanceof i&&c&&(e=h[h.length-1])instanceof i&&t.lines+e.lines<=32?(c+=t.lines,u+=t.length+1,h[h.length-1]=new i(e.text.concat(t.text),e.length+1+t.length)):(c+t.lines>r&&d(),c+=t.lines,u+=t.length+1,h.push(t))}function d(){0!=c&&(a.push(1==h.length?h[0]:o.from(h,u)),u=-1,c=h.length=0)}for(let e of t)f(e);return d(),1==a.length?a[0]:new o(a,e)}}function s(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let l=t[o],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=a+1}return e}function l(t,e,n){return s(t,[""],e,n)}r.empty=new i([""],0);class a{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof i?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],s=o>>1,l=r instanceof i?r.text.length:r.children.length;if(s==(e>0?l:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(r instanceof i){let i=r.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,i.length>Math.max(0,t))return this.value=0==t?i:e>0?i.slice(t):i.slice(0,i.length-t),this;t-=i.length}else{let o=r.children[s+(e<0?-1:0)];t>o.length?(t-=o.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(e>0?1:(o instanceof i?o.text.length:o.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class c{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new a(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(r.prototype[Symbol.iterator]=function(){return this.iter()},a.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class h{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function f(t,e,n){return[e=Math.max(0,Math.min(t.length,e)),Math.max(e,Math.min(t.length,n))]}let d="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let t=1;t<d.length;t++)d[t]+=d[t-1];function p(t){for(let e=1;e<d.length;e+=2)if(d[e]>t)return d[e-1]<=t;return!1}function g(t){return t>=127462&&t<=127487}function m(t,e,n=!0,r=!0){return(n?v:y)(t,e,r)}function v(t,e,n){if(e==t.length)return e;e&&w(t.charCodeAt(e))&&b(t.charCodeAt(e-1))&&e--;let r=x(t,e);for(e+=S(r);e<t.length;){let i=x(t,e);if(8205==r||8205==i||n&&p(i))e+=S(i),r=i;else{if(!g(i))break;{let n=0,r=e-2;for(;r>=0&&g(x(t,r));)n++,r-=2;if(n%2==0)break;e+=2}}}return e}function y(t,e,n){for(;e>0;){let r=v(t,e-2,n);if(r<e)return r;e--}return 0}function w(t){return t>=56320&&t<57344}function b(t){return t>=55296&&t<56320}function x(t,e){let n=t.charCodeAt(e);if(!b(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return w(r)?r-56320+(n-55296<<10)+65536:n}function k(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function S(t){return t<65536?1:2}const C=/\r\n?|\n/;var M=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(M||(M={}));class E{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let i=this.sections[e++],o=this.sections[e++];o<0?(t(n,r,i),r+=i):r+=o,n+=i}}iterChangedRanges(t,e=!1){D(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new E(t)}composeDesc(t){return this.empty?t:t.empty?this:_(this,t)}mapDesc(t,e=!1){return t.empty?this:P(this,t,e)}mapPos(t,e=-1,n=M.Simple){let r=0,i=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],l=this.sections[o++],a=r+s;if(l<0){if(a>t)return i+(t-r);i+=s}else{if(n!=M.Simple&&a>=t&&(n==M.TrackDel&&r<t&&a>t||n==M.TrackBefore&&r<t||n==M.TrackAfter&&a>t))return null;if(a>t||a==t&&e<0&&!s)return t==r||e<0?i:i+l;i+=l}r=a}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return i}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let i=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&i>=t)return!(r<t&&i>e)||"cover";r=i}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new E(t)}static create(t){return new E(t)}}class A extends E{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return D(this,((e,n,r,i,o)=>t=t.replace(r,r+(n-e),o)),!1),t}mapDesc(t,e=!1){return P(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,o=0;i<e.length;i+=2){let s=e[i],l=e[i+1];if(l>=0){e[i]=l,e[i+1]=s;let a=i>>1;for(;n.length<a;)n.push(r.empty);n.push(s?t.slice(o,o+s):r.empty)}o+=s}return new A(e,n)}compose(t){return this.empty?t:t.empty?this:_(this,t,!0)}map(t,e=!1){return t.empty?this:P(this,t,e,!0)}iterChanges(t,e=!1){D(this,t,e)}get desc(){return E.create(this.sections)}filter(t){let e=[],n=[],r=[],i=new L(this);t:for(let o=0,s=0;;){let l=o==t.length?1e9:t[o++];for(;s<l||s==l&&0==i.len;){if(i.done)break t;let t=Math.min(i.len,l-s);O(r,t,-1);let o=-1==i.ins?-1:0==i.off?i.ins:0;O(e,t,o),o>0&&T(n,e,i.text),i.forward(t),s+=t}let a=t[o++];for(;s<a;){if(i.done)break t;let t=Math.min(i.len,a-s);O(e,t,-1),O(r,t,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(t),s+=t}}return{changes:new A(e,n),filtered:E.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];r<0?t.push(n):0==r?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let i=[],o=[],s=0,l=null;function a(t=!1){if(!t&&!i.length)return;s<e&&O(i,e-s,-1);let n=new A(i,o);l=l?l.compose(n.map(l)):n,i=[],o=[],s=0}return function t(c){if(Array.isArray(c))for(let e of c)t(e);else if(c instanceof A){if(c.length!=e)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${e})`);a(),l=l?l.compose(c.map(l)):c}else{let{from:t,to:l=t,insert:u}=c;if(t>l||t<0||l>e)throw new RangeError(`Invalid change range ${t} to ${l} (in doc of length ${e})`);let h=u?"string"==typeof u?r.of(u.split(n||C)):u:r.empty,f=h.length;if(t==l&&0==f)return;t<s&&a(),t>s&&O(i,t-s,-1),O(i,l-t,f),T(o,i,h),s=l}}(t),a(!l),l}static empty(t){return new A(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let o=t[i];if("number"==typeof o)e.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)e.push(o[0],0);else{for(;n.length<i;)n.push(r.empty);n[i]=r.of(o.slice(1)),e.push(o[0],n[i].length)}}}return new A(e,n)}static createSet(t,e){return new A(t,e)}}function O(t,e,n,r=!1){if(0==e&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:0==e&&0==t[i]?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function T(t,e,n){if(0==n.length)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(r.empty);t.push(n)}}function D(t,e,n){let i=t.inserted;for(let o=0,s=0,l=0;l<t.sections.length;){let a=t.sections[l++],c=t.sections[l++];if(c<0)o+=a,s+=a;else{let u=o,h=s,f=r.empty;for(;u+=a,h+=c,c&&i&&(f=f.append(i[l-2>>1])),!(n||l==t.sections.length||t.sections[l+1]<0);)a=t.sections[l++],c=t.sections[l++];e(o,u,s,h,f),o=u,s=h}}}function P(t,e,n,r=!1){let i=[],o=r?[]:null,s=new L(t),l=new L(e);for(let t=-1;;)if(-1==s.ins&&-1==l.ins){let t=Math.min(s.len,l.len);O(i,t,-1),s.forward(t),l.forward(t)}else if(l.ins>=0&&(s.ins<0||t==s.i||0==s.off&&(l.len<s.len||l.len==s.len&&!n))){let e=l.len;for(O(i,l.ins,-1);e;){let n=Math.min(s.len,e);s.ins>=0&&t<s.i&&s.len<=n&&(O(i,0,s.ins),o&&T(o,i,s.text),t=s.i),s.forward(n),e-=n}l.next()}else{if(!(s.ins>=0)){if(s.done&&l.done)return o?A.createSet(i,o):E.create(i);throw new Error("Mismatched change set lengths")}{let e=0,n=s.len;for(;n;)if(-1==l.ins){let t=Math.min(n,l.len);e+=t,n-=t,l.forward(t)}else{if(!(0==l.ins&&l.len<n))break;n-=l.len,l.next()}O(i,e,t<s.i?s.ins:0),o&&t<s.i&&T(o,i,s.text),t=s.i,s.forward(s.len-n)}}}function _(t,e,n=!1){let r=[],i=n?[]:null,o=new L(t),s=new L(e);for(let t=!1;;){if(o.done&&s.done)return i?A.createSet(r,i):E.create(r);if(0==o.ins)O(r,o.len,0,t),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(o.len2,s.len),n=r.length;if(-1==o.ins){let n=-1==s.ins?-1:s.off?0:s.ins;O(r,e,n,t),i&&n&&T(i,r,s.text)}else-1==s.ins?(O(r,o.off?0:o.len,e,t),i&&T(i,r,o.textBit(e))):(O(r,o.off?0:o.len,s.off?0:s.ins,t),i&&!s.off&&T(i,r,s.text));t=(o.ins>e||s.ins>=0&&s.len>e)&&(t||r.length>n),o.forward2(e),s.forward(e)}}else O(r,0,s.ins,t),i&&T(i,r,s.text),s.next()}}class L{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?r.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?r.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class R{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new R(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return N.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return N.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return N.range(t.anchor,t.head)}static create(t,e,n){return new R(t,e,n)}}class N{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:N.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new N([this.main],0)}addRange(t,e=!0){return N.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,N.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new N(t.ranges.map((t=>R.fromJSON(t))),t.main)}static single(t,e=t){return new N([N.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let i=t[r];if(i.empty?i.from<=n:i.from<n)return N.normalized(t.slice(),e);n=i.to}return new N(t,e)}static cursor(t,e=0,n,r){return R.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(t,e,n,r){let i=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return e<t?R.create(e,t,48|i):R.create(t,e,(e>t?8:0)|i)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let n=1;n<t.length;n++){let r=t[n],i=t[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let o=i.from,s=Math.max(r.to,i.to);n<=e&&e--,t.splice(--n,2,r.anchor>r.head?N.range(s,o):N.range(o,s))}}return new N(t,e)}}function I(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let B=0;class F{constructor(t,e,n,r,i){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=B++,this.default=t([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(t={}){return new F(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:z),!!t.static,t.enables)}of(t){return new j([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new j(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new j(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function z(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class j{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=B++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,i=this.id,o=t[i]>>1,s=2==this.type,l=!1,a=!1,c=[];for(let n of this.dependencies)"doc"==n?l=!0:"selection"==n?a=!0:0==(1&(null!==(e=t[n.id])&&void 0!==e?e:1))&&c.push(t[n.id]);return{create:t=>(t.values[o]=n(t),1),update(t,e){if(l&&e.docChanged||a&&(e.docChanged||e.selection)||W(t,c)){let e=n(t);if(s?!V(e,t.values[o],r):!r(e,t.values[o]))return t.values[o]=e,1}return 0},reconfigure:(t,e)=>{let l,a=e.config.address[i];if(null!=a){let i=Z(e,a);if(this.dependencies.every((n=>n instanceof F?e.facet(n)===t.facet(n):!(n instanceof $)||e.field(n,!1)==t.field(n,!1)))||(s?V(l=n(t),i,r):r(l=n(t),i)))return t.values[o]=i,0}else l=n(t);return t.values[o]=l,1}}}}function V(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function W(t,e){let n=!1;for(let r of e)1&J(t,r)&&(n=!0);return n}function H(t,e,n){let r=n.map((e=>t[e.id])),i=n.map((t=>t.type)),o=r.filter((t=>!(1&t))),s=t[e.id]>>1;function l(t){let n=[];for(let e=0;e<r.length;e++){let o=Z(t,r[e]);if(2==i[e])for(let t of o)n.push(t);else n.push(o)}return e.combine(n)}return{create(t){for(let e of r)J(t,e);return t.values[s]=l(t),1},update(t,n){if(!W(t,o))return 0;let r=l(t);return e.compare(r,t.values[s])?0:(t.values[s]=r,1)},reconfigure(t,i){let o=W(t,r),a=i.config.facets[e.id],c=i.facet(e);if(a&&!o&&z(n,a))return t.values[s]=c,0;let u=l(t);return e.compare(u,c)?(t.values[s]=c,0):(t.values[s]=u,1)}}}const U=F.define({static:!0});class ${constructor(t,e,n,r,i){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=i,this.provides=void 0}static define(t){let e=new $(B++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(U).find((t=>t.field==this));return((null==e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let r=t.values[e],i=this.updateF(r,n);return this.compareF(r,i)?0:(t.values[e]=i,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,U.of({field:this,create:t})]}get extension(){return this}}function q(t){return e=>new G(e,t)}const K={highest:q(0),high:q(1),default:q(2),low:q(3),lowest:q(4)};class G{constructor(t,e){this.inner=t,this.prec=e}}class Q{of(t){return new Y(this,t)}reconfigure(t){return Q.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class Y{constructor(t,e){this.compartment=t,this.inner=e}}class X{constructor(t,e,n,r,i,o){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=i,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],i=Object.create(null),o=new Map;for(let n of function(t,e,n){let r=[[],[],[],[],[]],i=new Map;return function t(o,s){let l=i.get(o);if(null!=l){if(l<=s)return;let t=r[l].indexOf(o);t>-1&&r[l].splice(t,1),o instanceof Y&&n.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let e of o)t(e,s);else if(o instanceof Y){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=e.get(o.compartment)||o.inner;n.set(o.compartment,r),t(r,s)}else if(o instanceof G)t(o.inner,o.prec);else if(o instanceof $)r[s].push(o),o.provides&&t(o.provides,s);else if(o instanceof j)r[s].push(o),o.facet.extensions&&t(o.facet.extensions,2);else{let e=o.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);t(e,s)}}(t,2),r.reduce(((t,e)=>t.concat(e)))}(t,e,o))n instanceof $?r.push(n):(i[n.facet.id]||(i[n.facet.id]=[])).push(n);let s=Object.create(null),l=[],a=[];for(let t of r)s[t.id]=a.length<<1,a.push((e=>t.slot(e)));let c=null==n?void 0:n.config.facets;for(let t in i){let e=i[t],r=e[0].facet,o=c&&c[t]||[];if(e.every((t=>0==t.type)))if(s[r.id]=l.length<<1|1,z(o,e))l.push(n.facet(r));else{let t=r.combine(e.map((t=>t.value)));l.push(n&&r.compare(t,n.facet(r))?n.facet(r):t)}else{for(let t of e)0==t.type?(s[t.id]=l.length<<1|1,l.push(t.value)):(s[t.id]=a.length<<1,a.push((e=>t.dynamicSlot(e))));s[r.id]=a.length<<1,a.push((t=>H(t,r,e)))}}let u=a.map((t=>t(s)));return new X(t,o,u,s,l,i)}}function J(t,e){if(1&e)return 2;let n=e>>1,r=t.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Z(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const tt=F.define(),et=F.define({combine:t=>t.some((t=>t)),static:!0}),nt=F.define({combine:t=>t.length?t[0]:void 0,static:!0}),rt=F.define(),it=F.define(),ot=F.define(),st=F.define({combine:t=>!!t.length&&t[0]});class lt{constructor(t,e){this.type=t,this.value=e}static define(){return new at}}class at{of(t){return new lt(this,t)}}class ct{constructor(t){this.map=t}of(t){return new ut(this,t)}}class ut{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new ut(this.type,e)}is(t){return this.type==t}static define(t={}){return new ct(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let r of t){let t=r.map(e);t&&n.push(t)}return n}}ut.reconfigure=ut.define(),ut.appendConfig=ut.define();class ht{constructor(t,e,n,r,i,o){this.startState=t,this.changes=e,this.selection=n,this.effects=r,this.annotations=i,this.scrollIntoView=o,this._doc=null,this._state=null,n&&I(n,e.newLength),i.some((t=>t.type==ht.time))||(this.annotations=i.concat(ht.time.of(Date.now())))}static create(t,e,n,r,i,o){return new ht(t,e,n,r,i,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(ht.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function ft(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else{if(!(i<e.length))return n;o=e[i++],s=e[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function dt(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=A.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):null===(r=t.selection)||void 0===r?void 0:r.map(i),effects:ut.mapEffects(t.effects,i).concat(ut.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function pt(t,e,n){let r=e.selection,i=vt(e.annotations);return e.userEvent&&(i=i.concat(ht.userEvent.of(e.userEvent))),{changes:e.changes instanceof A?e.changes:A.of(e.changes||[],n,t.facet(nt)),selection:r&&(r instanceof N?r:N.single(r.anchor,r.head)),effects:vt(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function gt(t,e,n){let r=pt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let i=1;i<e.length;i++){!1===e[i].filter&&(n=!1);let o=!!e[i].sequential;r=dt(r,pt(t,e[i],o?r.changes.newLength:t.doc.length),o)}let i=ht.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(t){let e=t.startState,n=e.facet(ot),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=dt(r,pt(e,o,t.changes.newLength),!0))}return r==t?t:ht.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(t){let e=t.startState,n=!0;for(let r of e.facet(rt)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:ft(n,e))}if(!0!==n){let r,i;if(!1===n)i=t.changes.invertedDesc,r=A.empty(e.doc.length);else{let e=t.changes.filter(n);r=e.changes,i=e.filtered.mapDesc(e.changes).invertedDesc}t=ht.create(e,r,t.selection&&t.selection.map(i),ut.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(it);for(let n=r.length-1;n>=0;n--){let i=r[n](t);t=i instanceof ht?i:Array.isArray(i)&&1==i.length&&i[0]instanceof ht?i[0]:gt(e,vt(i),!1)}return t}(i):i)}ht.time=lt.define(),ht.userEvent=lt.define(),ht.addToHistory=lt.define(),ht.remote=lt.define();const mt=[];function vt(t){return null==t?mt:Array.isArray(t)?t:[t]}var yt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(yt||(yt={}));const wt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let bt;try{bt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(t){}class xt{constructor(t,e,n,r,i,o){this.config=t,this.doc=e,this.selection=n,this.values=r,this.status=t.statusTemplate.slice(),this.computeSlot=i,o&&(o._state=this);for(let t=0;t<this.config.dynamicSlots.length;t++)J(this,t<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return J(this,n),Z(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return gt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:r,compartments:i}=n;for(let e of t.effects)e.is(Q.reconfigure)?(n&&(i=new Map,n.compartments.forEach(((t,e)=>i.set(e,t))),n=null),i.set(e.value.compartment,e.value.extension)):e.is(ut.reconfigure)?(n=null,r=e.value):e.is(ut.appendConfig)&&(n=null,r=vt(r).concat(e.value));n?e=t.startState.values.slice():(n=X.resolve(r,i,this),e=new xt(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null).values);let o=t.startState.facet(et)?t.newSelection:t.newSelection.asSingle();new xt(n,t.newDoc,o,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:N.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),r=this.changes(n.changes),i=[n.range],o=vt(n.effects);for(let n=1;n<e.ranges.length;n++){let s=t(e.ranges[n]),l=this.changes(s.changes),a=l.map(r);for(let t=0;t<n;t++)i[t]=i[t].map(a);let c=r.mapDesc(l,!0);i.push(s.range.map(c)),r=r.compose(a),o=ut.mapEffects(o,a).concat(ut.mapEffects(vt(s.effects),c))}return{changes:r,selection:N.create(i,e.mainIndex),effects:o}}changes(t=[]){return t instanceof A?t:A.of(t,this.doc.length,this.facet(xt.lineSeparator))}toText(t){return r.of(t.split(this.facet(xt.lineSeparator)||C))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(J(this,e),Z(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let r=t[n];r instanceof $&&null!=this.config.address[r.id]&&(e[n]=r.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let e in n)if(Object.prototype.hasOwnProperty.call(t,e)){let i=n[e],o=t[e];r.push(i.init((t=>i.spec.fromJSON(o,t))))}return xt.create({doc:t.doc,selection:N.fromJSON(t.selection),extensions:e.extensions?r.concat([e.extensions]):r})}static create(t={}){let e=X.resolve(t.extensions||[],new Map),n=t.doc instanceof r?t.doc:r.of((t.doc||"").split(e.staticFacet(xt.lineSeparator)||C)),i=t.selection?t.selection instanceof N?t.selection:N.single(t.selection.anchor,t.selection.head):N.single(0);return I(i,n.length),e.staticFacet(et)||(i=i.asSingle()),new xt(e,n,i,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(xt.tabSize)}get lineBreak(){return this.facet(xt.lineSeparator)||"\n"}get readOnly(){return this.facet(st)}phrase(t,...e){for(let e of this.facet(xt.phrases))if(Object.prototype.hasOwnProperty.call(e,t)){t=e[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>e.length?t:e[r-1]}))),t}languageDataAt(t,e,n=-1){let r=[];for(let i of this.facet(tt))for(let o of i(this,e,n))Object.prototype.hasOwnProperty.call(o,t)&&r.push(o[t]);return r}charCategorizer(t){return e=this.languageDataAt("wordChars",t).join(""),t=>{if(!/\S/.test(t))return yt.Space;if(function(t){if(bt)return bt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||wt.test(n)))return!0}return!1}(t))return yt.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return yt.Word;return yt.Other};var e}wordAt(t){let{text:e,from:n,length:r}=this.doc.lineAt(t),i=this.charCategorizer(t),o=t-n,s=t-n;for(;o>0;){let t=m(e,o,!1);if(i(e.slice(t,o))!=yt.Word)break;o=t}for(;s<r;){let t=m(e,s);if(i(e.slice(s,t))!=yt.Word)break;s=t}return o==s?null:N.range(o+n,s+n)}}function kt(t,e,n={}){let r={};for(let e of t)for(let t of Object.keys(e)){let i=e[t],o=r[t];if(void 0===o)r[t]=i;else if(o===i||void 0===i);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);r[t]=n[t](o,i)}}for(let t in e)void 0===r[t]&&(r[t]=e[t]);return r}xt.allowMultipleSelections=et,xt.tabSize=F.define({combine:t=>t.length?t[0]:4}),xt.lineSeparator=nt,xt.readOnly=st,xt.phrases=F.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every((n=>t[n]==e[n]))}}),xt.languageData=tt,xt.changeFilter=rt,xt.transactionFilter=it,xt.transactionExtender=ot,Q.reconfigure=ut.define();class St{eq(t){return this==t}range(t,e=t){return Ct.create(t,e,this)}}St.prototype.startSide=St.prototype.endSide=0,St.prototype.point=!1,St.prototype.mapMode=M.TrackDel;class Ct{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Ct(t,e,n)}}function Mt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Et{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let i=n?this.to:this.from;for(let o=r,s=i.length;;){if(o==s)return o;let r=o+s>>1,l=i[r]-t||(n?this.value[r].endSide:this.value[r].startSide)-e;if(r==o)return l>=0?o:s;l>=0?s=r:o=r+1}}between(t,e,n,r){for(let i=this.findIndex(e,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+t,this.to[i]+t,this.value[i]))return!1}map(t,e){let n=[],r=[],i=[],o=-1,s=-1;for(let l=0;l<this.value.length;l++){let a,c,u=this.value[l],h=this.from[l]+t,f=this.to[l]+t;if(h==f){let t=e.mapPos(h,u.startSide,u.mapMode);if(null==t)continue;if(a=c=t,u.startSide!=u.endSide&&(c=e.mapPos(h,u.endSide),c<a))continue}else if(a=e.mapPos(h,u.startSide),c=e.mapPos(f,u.endSide),a>c||a==c&&u.startSide>0&&u.endSide<=0)continue;(c-a||u.endSide-u.startSide)<0||(o<0&&(o=a),u.point&&(s=Math.max(s,c-a)),n.push(u),r.push(a-o),i.push(c-o))}return{mapped:n.length?new Et(r,i,n,s):null,pos:o}}}class At{constructor(t,e,n,r){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=r}static create(t,e,n,r){return new At(t,e,n,r)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:r=0,filterTo:i=this.length}=t,o=t.filter;if(0==e.length&&!o)return this;if(n&&(e=e.slice().sort(Mt)),this.isEmpty)return e.length?At.of(e):this;let s=new Dt(this,null,-1).goto(0),l=0,a=[],c=new Ot;for(;s.value||l<e.length;)if(l<e.length&&(s.from-e[l].from||s.startSide-e[l].value.startSide)>=0){let t=e[l++];c.addInner(t.from,t.to,t.value)||a.push(t)}else 1==s.rangeIndex&&s.chunkIndex<this.chunk.length&&(l==e.length||this.chunkEnd(s.chunkIndex)<e[l].from)&&(!o||r>this.chunkEnd(s.chunkIndex)||i<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||r>s.to||i<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||a.push(Ct.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!a.length?At.empty:this.nextLayer.update({add:a,filter:o,filterFrom:r,filterTo:i}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],r=-1;for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i],l=t.touchesRange(o,o+s.length);if(!1===l)r=Math.max(r,s.maxPoint),e.push(s),n.push(t.mapPos(o));else if(!0===l){let{mapped:i,pos:l}=s.map(o,t);i&&(r=Math.max(r,i.maxPoint),e.push(i),n.push(l))}}let i=this.nextLayer.map(t);return 0==e.length?i:new At(n,e,i||At.empty,r)}between(t,e,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let i=this.chunkPos[r],o=this.chunk[r];if(e>=i&&t<=i+o.length&&!1===o.between(i,t-i,e-i,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Pt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Pt.from(t).goto(e)}static compare(t,e,n,r,i=-1){let o=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),s=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=i)),l=Tt(o,s,n),a=new Lt(o,l,i),c=new Lt(s,l,i);n.iterGaps(((t,e,n)=>Rt(a,t,c,e,n,r))),n.empty&&0==n.length&&Rt(a,0,c,0,0,r)}static eq(t,e,n=0,r){null==r&&(r=999999999);let i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(i.length!=o.length)return!1;if(!i.length)return!0;let s=Tt(i,o),l=new Lt(i,s,0).goto(n),a=new Lt(o,s,0).goto(n);for(;;){if(l.to!=a.to||!Nt(l.active,a.active)||l.point&&(!a.point||!l.point.eq(a.point)))return!1;if(l.to>r)return!0;l.next(),a.next()}}static spans(t,e,n,r,i=-1){let o=new Lt(t,null,i).goto(e),s=e,l=o.openStart;for(;;){let t=Math.min(o.to,n);if(o.point){let n=o.activeForPoint(o.to),i=o.pointFrom<e?n.length+1:o.point.startSide<0?n.length:Math.min(n.length,l);r.point(s,t,o.point,n,i,o.pointRank),l=Math.min(o.openEnd(t),n.length)}else t>s&&(r.span(s,t,o.active,l),l=o.openEnd(t));if(o.to>n)return l+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(t,e=!1){let n=new Ot;for(let r of t instanceof Ct?[t]:e?function(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Mt(e,r)>0)return t.slice().sort(Mt);e=r}return t}(t):t)n.add(r.from,r.to,r.value);return n.finish()}static join(t){if(!t.length)return At.empty;let e=t[t.length-1];for(let n=t.length-2;n>=0;n--)for(let r=t[n];r!=At.empty;r=r.nextLayer)e=new At(r.chunkPos,r.chunk,e,Math.max(r.maxPoint,e.maxPoint));return e}}At.empty=new At([],[],null,-1),At.empty.nextLayer=At.empty;class Ot{finishChunk(t){this.chunks.push(new Et(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Ot)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(At.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=At.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function Tt(t,e,n){let r=new Map;for(let e of t)for(let t=0;t<e.chunk.length;t++)e.chunk[t].maxPoint<=0&&r.set(e.chunk[t],e.chunkPos[t]);let i=new Set;for(let t of e)for(let e=0;e<t.chunk.length;e++){let o=r.get(t.chunk[e]);null==o||(n?n.mapPos(o):o)!=t.chunkPos[e]||(null==n?void 0:n.touchesRange(o,o+t.chunk[e].length))||i.add(t.chunk[e])}return i}class Dt{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Pt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let i=0;i<t.length;i++)for(let o=t[i];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&r.push(new Dt(o,e,n,i));return 1==r.length?r[0]:new Pt(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let t=this.heap.length>>1;t>=0;t--)_t(this.heap,t);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let t=this.heap.length>>1;t>=0;t--)_t(this.heap,t);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),_t(this.heap,0)}}}function _t(t,e){for(let n=t[e];;){let r=1+(e<<1);if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Lt{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Pt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){It(this.active,t),It(this.activeTo,t),It(this.activeRank,t),this.minActive=Ft(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:i}=this.cursor;for(;e<this.activeRank.length&&(i-this.activeRank[e]||r-this.activeTo[e])>0;)e++;Bt(this.active,e,n),Bt(this.activeTo,e,r),Bt(this.activeRank,e,i),t&&Bt(t,e,this.cursor.from),this.minActive=Ft(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&It(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function Rt(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,l=r,a=r-e;for(;;){let e=t.to+a-n.to||t.endSide-n.endSide,r=e<0?t.to+a:n.to,i=Math.min(r,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Nt(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(l,i,t.point,n.point):i>l&&!Nt(t.active,n.active)&&o.compareRange(l,i,t.active,n.active),r>s)break;l=r,e<=0&&t.next(),e>=0&&n.next()}}function Nt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function It(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Bt(t,e,n){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=n}function Ft(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function zt(t,e,n=t.length){let r=0;for(let i=0;i<n;)9==t.charCodeAt(i)?(r+=e-r%e,i++):(r++,i=m(t,i));return r}function jt(t,e,n,r){for(let r=0,i=0;;){if(i>=e)return r;if(r==t.length)break;i+=9==t.charCodeAt(r)?n-i%n:1,r=m(t,r)}return!0===r?-1:t.length}},6485:(t,e,n)=>{"use strict";n.d(e,{p:()=>pt,Nm:()=>St,tk:()=>Zn,SJ:()=>xi,lg:()=>ie,l9:()=>ft,S2:()=>Jr,Uw:()=>kr,qr:()=>_r,Sd:()=>mi,gB:()=>di,v5:()=>Mi,ZO:()=>Ur,HQ:()=>Hi,AE:()=>jr,bF:()=>fi,$f:()=>lr,Eu:()=>zi,OO:()=>te,Zs:()=>Qr,$1:()=>ur,mH:()=>bi,hJ:()=>li});for(var r=n(8120),i=n(8699),o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),a="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=0;c<10;c++)o[48+c]=o[96+c]=String(c);for(c=1;c<=24;c++)o[c+111]="F"+c;for(c=65;c<=90;c++)o[c]=String.fromCharCode(c+32),s[c]=String.fromCharCode(c);for(var u in o)s.hasOwnProperty(u)||(s[u]=o[u]);function h(t){let e;return e=11==t.nodeType?t.getSelection?t:t.ownerDocument:t,e.getSelection()}function f(t,e){return!!e&&(t==e||t.contains(1!=e.nodeType?e.parentNode:e))}function d(t,e){if(!e.anchorNode)return!1;try{return f(t,e.anchorNode)}catch(t){return!1}}function p(t){return 3==t.nodeType?A(t,0,t.nodeValue.length).getClientRects():1==t.nodeType?t.getClientRects():[]}function g(t,e,n,r){return!!n&&(y(t,e,n,r,-1)||y(t,e,n,r,1))}function m(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e}function v(t){return 1==t.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function y(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:w(t))){if("DIV"==t.nodeName)return!1;let n=t.parentNode;if(!n||1!=n.nodeType)return!1;e=m(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if(1==(t=t.childNodes[e+(i<0?-1:0)]).nodeType&&"false"==t.contentEditable)return!1;e=i<0?w(t):0}}}function w(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function b(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function x(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function k(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class S{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?w(e):0),n,Math.min(t.focusOffset,n?w(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let C,M=null;function E(t){if(t.setActive)return t.setActive();if(M)return t.focus(M);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(null==M?{get preventScroll(){return M={preventScroll:!0},!0}}:void 0),!M){M=!1;for(let t=0;t<e.length;){let n=e[t++],r=e[t++],i=e[t++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=i&&(n.scrollLeft=i)}}}function A(t,e,n=e){let r=C||(C=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function O(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function T(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function D(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function P(t,e){for(let n=t,r=e;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=w(n)}else{if(!n.parentNode||v(n))return null;r=m(n),n=n.parentNode}}}function _(t,e){for(let n=t,r=e;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||v(n))return null;r=m(n)+1,n=n.parentNode}}}class L{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new L(t.parentNode,m(t),e)}static after(t,e){return new L(t.parentNode,m(t)+1,e)}}const R=[];class N{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let n,r=this.dom,i=null;for(let o of this.children){if(7&o.flags){if(!o.dom&&(n=i?i.nextSibling:r.firstChild)){let t=N.get(n);(!t||!t.parent&&t.canReuseDOM(o))&&o.reuseDOM(n)}o.sync(t,e),o.flags&=-8}if(n=i?i.nextSibling:r.firstChild,e&&!e.written&&e.node==r&&n!=o.dom&&(e.written=!0),o.dom.parentNode==r)for(;n&&n!=o.dom;)n=I(n);else r.insertBefore(o.dom,n);i=o.dom}for(n=i?i.nextSibling:r.firstChild,n&&e&&e.node==r&&(e.written=!0);n;)n=I(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==w(t)?0:0==e?-1:1;for(;;){let e=t.parentNode;if(e==this.dom)break;0==r&&e.firstChild!=e.lastChild&&(r=t==e.firstChild?-1:1),t=e}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!N.get(n);)n=n.nextSibling;if(!n)return this.length;for(let t=0,e=0;;t++){let r=this.children[t];if(r.dom==n)return e;e+=r.length+r.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,i=-1,o=-1,s=-1;for(let l=0,a=n,c=n;l<this.children.length;l++){let n=this.children[l],u=a+n.length;if(a<t&&u>e)return n.domBoundsAround(t,e,a);if(u>=t&&-1==r&&(r=l,i=a),a>e&&n.dom.parentNode==this.dom){o=l,s=c;break}c=u,a=u+n.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=R){this.markDirty();for(let r=t;r<e;r++){let t=this.children[r];t.parent==this&&n.indexOf(t)<0&&t.destroy()}this.children.splice(t,e-t,...n);for(let t=0;t<n.length;t++)n[t].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new B(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,i,o){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function I(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}N.prototype.breakAfter=0;class B{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function F(t,e,n,r,i,o,s,l,a){let{children:c}=t,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:s;if(!(e==r&&u&&!s&&!f&&o.length<2&&u.merge(n,i,o.length?h:null,0==n,l,a))){if(r<c.length){let t=c[r];t&&(i<t.length||t.breakAfter&&(null==h?void 0:h.breakAfter))?(e==r&&(t=t.split(i),i=0),!f&&h&&t.merge(0,i,h,!0,0,a)?o[o.length-1]=t:((i||t.children.length&&!t.children[0].length)&&t.merge(0,i,null,!1,0,a),o.push(t))):(null==t?void 0:t.breakAfter)&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,l,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),a=o.length?0:l;else{if(!c[e].become(o[0]))break;e++,o.shift(),l=o.length?0:a}!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,l,a)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function z(t,e,n,r,i,o){let s=t.childCursor(),{i:l,off:a}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),h=e-n;for(let t of r)h+=t.length;t.length+=h,F(t,c,u,l,a,r,0,i,o)}let j="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},V="undefined"!=typeof document?document:{documentElement:{style:{}}};const W=/Edge\/(\d+)/.exec(j.userAgent),H=/MSIE \d/.test(j.userAgent),U=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(j.userAgent),$=!!(H||U||W),q=!$&&/gecko\/(\d+)/i.test(j.userAgent),K=!$&&/Chrome\/(\d+)/.exec(j.userAgent),G="webkitFontSmoothing"in V.documentElement.style,Q=!$&&/Apple Computer/.test(j.vendor),Y=Q&&(/Mobile\/\w+/.test(j.userAgent)||j.maxTouchPoints>2);var X={mac:Y||/Mac/.test(j.platform),windows:/Win/.test(j.platform),linux:/Linux|X11/.test(j.platform),ie:$,ie_version:H?V.documentMode||6:U?+U[1]:W?+W[1]:0,gecko:q,gecko_version:q?+(/Firefox\/(\d+)/.exec(j.userAgent)||[0,0])[1]:0,chrome:!!K,chrome_version:K?+K[1]:0,ios:Y,android:/Android\b/.test(j.userAgent),webkit:G,safari:Q,webkit_version:G?+(/\bAppleWebKit\/(\d+)/.exec(j.userAgent)||[0,0])[1]:0,tabSize:null!=V.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class J extends N{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof J)||this.length-(e-t)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new J(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new L(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;0==e&&n<0||e==r&&n>=0?X.chrome||X.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let l=A(t,i,o).getClientRects();if(!l.length)return null;let a=l[(s?s<0:n>=0)?0:l.length-1];return X.safari&&!s&&0==a.width&&(a=Array.prototype.find.call(l,(t=>t.width))||a),s?b(a,s<0):a||null}(this.dom,t,e)}}class Z extends N{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let t of e)t.setParent(this)}setAttrs(t){if(T(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,i,o){return!(n&&(!(n instanceof Z&&n.mark.eq(this.mark))||t&&i<=0||e<this.length&&o<=0)||(z(this,t,e,n?n.children.slice():[],i-1,o-1),this.markDirty(),0))}split(t){let e=[],n=0,r=-1,i=0;for(let o of this.children){let s=n+o.length;s>t&&e.push(n<t?o.split(t-n):o),r<0&&n>=t&&(r=i),n=s,i++}let o=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new Z(this.mark,e,o)}domAtPos(t){return nt(this,t)}coordsAt(t,e){return it(this,t,e)}}class tt extends N{static create(t,e,n){return new tt(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=tt.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,r,i,o){return!(n&&(!(n instanceof tt&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&o<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}become(t){return t instanceof tt&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return r.xv.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):r.xv.empty}domAtPos(t){return(this.length?0==t:this.side>0)?L.before(this.dom):L.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),i=null;if(!r.length)return null;let o=this.side?this.side<0:t>0;for(let e=o?r.length-1:0;i=r[e],!(t>0?0==e:e==r.length-1||i.top<i.bottom);e+=o?-1:1);return b(i,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class et extends N{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof et&&t.side==this.side}split(){return new et(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?L.before(this.dom):L.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return r.xv.empty}get isHidden(){return!0}}function nt(t,e){let n=t.dom,{children:r}=t,i=0;for(let t=0;i<r.length;i++){let o=r[i],s=t+o.length;if(!(s==t&&o.getSide()<=0)){if(e>t&&e<s&&o.dom.parentNode==n)return o.domAtPos(e-t);if(e<=t)break;t=s}}for(let t=i;t>0;t--){let e=r[t-1];if(e.dom.parentNode==n)return e.domAtPos(e.length)}for(let t=i;t<r.length;t++){let e=r[t];if(e.dom.parentNode==n)return e.domAtPos(0)}return new L(n,0)}function rt(t,e,n){let r,{children:i}=t;n>0&&e instanceof Z&&i.length&&(r=i[i.length-1])instanceof Z&&r.mark.eq(e.mark)?rt(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function it(t,e,n){let r=null,i=-1,o=null,s=-1;!function t(e,l){for(let a=0,c=0;a<e.children.length&&c<=l;a++){let u=e.children[a],h=c+u.length;h>=l&&(u.children.length?t(u,l-c):(!o||o.isHidden&&n>0)&&(h>l||c==h&&u.getSide()>0)?(o=u,s=l-c):(c<l||c==h&&u.getSide()<0&&!u.isHidden)&&(r=u,i=l-c)),c=h}}(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):function(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=p(e);return n[n.length-1]||null}(t)}function ot(t,e){for(let n in t)"class"==n&&e.class?e.class+=" "+t.class:"style"==n&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}J.prototype.children=tt.prototype.children=et.prototype.children=R;const st=Object.create(null);function lt(t,e,n){if(t==e)return!0;t||(t=st),e||(e=st);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(-1==i.indexOf(o)||t[o]!==e[o]))return!1;return!0}function at(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,"style"==i?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,"style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function ct(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class ut extends N{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,i,o){if(n){if(!(n instanceof ut))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),z(this,t,e,n?n.children.slice():[],i,o),!0}split(t){let e=new ut;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let t=n;t<this.children.length;t++)e.append(this.children[t],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){lt(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){rt(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=ot(e,this.attrs||{})),n&&(this.attrs=ot({class:n},this.attrs||{}))}domAtPos(t){return nt(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(T(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(at(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&N.get(r)instanceof Z;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=N.get(r))||void 0===n?void 0:n.isEditable)||X.ios&&this.children.some((t=>t instanceof J))))){let t=document.createElement("BR");t.cmIgnore=!0,this.dom.appendChild(t)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let t,e=0;for(let n of this.children){if(!(n instanceof J)||/[^ -~]/.test(n.text))return null;let r=p(n.dom);if(1!=r.length)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let n=it(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:t}=this.parent.view.viewState,e=n.bottom-n.top;if(Math.abs(e-t.lineHeight)<2&&t.textHeight<e){let r=(e-t.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(t){return!1}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let i=t.children[n],o=r+i.length;if(o>=e){if(i instanceof ut)return i;if(o>e)break}r=o+i.breakAfter}return null}}class ht extends N{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,i,o){return!(n&&(!(n instanceof ht&&this.widget.compare(n.widget))||t>0&&i<=0||e<this.length&&o<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?L.before(this.dom):L.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new ht(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return R}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):r.xv.empty}domBoundsAround(){return null}become(t){return t instanceof ht&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class ft{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var dt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(dt||(dt={}));class pt extends r.uU{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new gt(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new vt(t,e,e,n,t.widget||null,!1)}static replace(t){let e,n,r=!!t.block;if(t.isBlockGap)e=-5e8,n=4e8;else{let{start:i,end:o}=yt(t,r);e=(i?r?-3e8:-1:5e8)-1,n=1+(o?r?2e8:1:-6e8)}return new vt(t,e,n,r,t.widget||null,!0)}static line(t){return new mt(t)}static set(t,e=!1){return r.Xs.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}pt.none=r.Xs.empty;class gt extends pt{constructor(t){let{start:e,end:n}=yt(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof gt&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&lt(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}gt.prototype.point=!1;class mt extends pt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof mt&&this.spec.class==t.spec.class&&lt(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}mt.prototype.mapMode=r.gc.TrackBefore,mt.prototype.point=!0;class vt extends pt{constructor(t,e,n,i,o,s){super(e,n,o,t),this.block=i,this.isReplace=s,this.mapMode=i?e<=0?r.gc.TrackBefore:r.gc.TrackAfter:r.gc.TrackDel}get type(){return this.startSide!=this.endSide?dt.WidgetRange:this.startSide<=0?dt.WidgetBefore:dt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof vt&&((e=this.widget)==(n=t.widget)||!!(e&&n&&e.compare(n)))&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide;var e,n}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function yt(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return null==n&&(n=t.inclusive),null==r&&(r=t.inclusive),{start:null!=n?n:e,end:null!=r?r:e}}function wt(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}vt.prototype.point=!0;class bt{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof ht&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ut),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(xt(new et(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof ht||this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:e,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=e,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(xt(new J(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof vt){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=e-t;if(n instanceof vt)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ht(n.widget||kt.block,s,n));else{let o=tt.create(n.widget||kt.inline,s,s?0:n.startSide),l=this.atCursorPos&&!o.isEditable&&i<=r.length&&(t<e||n.startSide>0),a=!o.isEditable&&(t<e||i>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||l||o.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),l&&(c.append(xt(new et(1),r),i),i=r.length+Math.max(0,i-r.length)),c.append(xt(o,r),i),this.atCursorPos=a,this.pendingBuffer=a?t<e||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=i)}static build(t,e,n,i,o){let s=new bt(t,e,n,o);return s.openEnd=r.Xs.spans(i,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function xt(t,e){for(let n of e)t=new Z(n,[t],t.length);return t}class kt extends ft{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}kt.inline=new kt("span"),kt.block=new kt("div");var St=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(St||(St={}));const Ct=St.LTR,Mt=St.RTL;function Et(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const At=Et("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ot=Et("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Tt=Object.create(null),Dt=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Tt[e]=n,Tt[n]=-e}function Pt(t){return t<=247?At[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Ot[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const _t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Lt{get dir(){return this.level%2?Mt:Ct}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,r){let i=-1;for(let o=0;o<t.length;o++){let s=t[o];if(s.from<=e&&s.to>=e){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<e:s.to>e:t[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}function Rt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Rt(r.inner,i.inner))return!1}return!0}const Nt=[];function It(t,e,n,r,i,o,s){let l=r%2?2:1;if(r%2==i%2)for(let a=e,c=0;a<n;){let e=!0,u=!1;if(c==o.length||a<o[c].from){let t=Nt[a];t!=l&&(e=!1,u=16==t)}let h=e||1!=l?null:[],f=e?r:r+1,d=a;t:for(;;)if(c<o.length&&d==o[c].from){if(u)break t;let p=o[c];if(!e)for(let t=p.to,e=c+1;;){if(t==n)break t;if(!(e<o.length&&o[e].from==t)){if(Nt[t]==l)break t;break}t=o[e++].to}c++,h?h.push(p):(p.from>a&&s.push(new Lt(a,p.from,f)),Bt(t,p.direction==Ct!=!(f%2)?r+1:r,i,p.inner,p.from,p.to,s),a=p.to),d=p.to}else{if(d==n||(e?Nt[d]!=l:Nt[d]==l))break;d++}h?It(t,a,d,r+1,i,h,s):a<d&&s.push(new Lt(a,d,f)),a=d}else for(let a=n,c=o.length;a>e;){let n=!0,u=!1;if(!c||a>o[c-1].to){let t=Nt[a-1];t!=l&&(n=!1,u=16==t)}let h=n||1!=l?null:[],f=n?r:r+1,d=a;t:for(;;)if(c&&d==o[c-1].to){if(u)break t;let p=o[--c];if(!n)for(let t=p.from,n=c;;){if(t==e)break t;if(!n||o[n-1].to!=t){if(Nt[t-1]==l)break t;break}t=o[--n].from}h?h.push(p):(p.to<a&&s.push(new Lt(p.to,a,f)),Bt(t,p.direction==Ct!=!(f%2)?r+1:r,i,p.inner,p.from,p.to,s),a=p.from),d=p.from}else{if(d==e||(n?Nt[d-1]!=l:Nt[d-1]==l))break;d--}h?It(t,d,a,r+1,i,h,s):d<a&&s.push(new Lt(d,a,f)),a=d}}function Bt(t,e,n,r,i,o,s){let l=e%2?2:1;!function(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,l=o<r.length?r[o].from:n,a=o?256:i;for(let e=s,n=a,r=a;e<l;e++){let i=Pt(t.charCodeAt(e));512==i?i=n:8==i&&4==r&&(i=16),Nt[e]=4==i?2:i,7&i&&(r=i),n=i}for(let t=s,e=a,r=a;t<l;t++){let i=Nt[t];if(128==i)t<l-1&&e==Nt[t+1]&&24&e?i=Nt[t]=e:Nt[t]=256;else if(64==i){let i=t+1;for(;i<l&&64==Nt[i];)i++;let o=t&&8==e||i<n&&8==Nt[i]?1==r?1:8:256;for(let e=t;e<i;e++)Nt[e]=o;t=i-1}else 8==i&&1==r&&(Nt[t]=1);e=i,7&i&&(r=i)}}}(t,i,o,r,l),function(t,e,n,r,i){let o=1==i?2:1;for(let s=0,l=0,a=0;s<=r.length;s++){let c=s?r[s-1].to:e,u=s<r.length?r[s].from:n;for(let e,n,r,s=c;s<u;s++)if(n=Tt[e=t.charCodeAt(s)])if(n<0){for(let t=l-3;t>=0;t-=3)if(Dt[t+1]==-n){let e=Dt[t+2],n=2&e?i:4&e?1&e?o:i:0;n&&(Nt[s]=Nt[Dt[t]]=n),l=t;break}}else{if(189==Dt.length)break;Dt[l++]=s,Dt[l++]=e,Dt[l++]=a}else if(2==(r=Nt[s])||1==r){let t=r==i;a=t?0:1;for(let e=l-3;e>=0;e-=3){let n=Dt[e+2];if(2&n)break;if(t)Dt[e+2]|=2;else{if(4&n)break;Dt[e+2]|=4}}}}}(t,i,o,r,l),function(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,l=i<n.length?n[i].from:e;for(let a=s;a<l;){let s=Nt[a];if(256==s){let s=a+1;for(;;)if(s==l){if(i==n.length)break;s=n[i++].to,l=i<n.length?n[i].from:e}else{if(256!=Nt[s])break;s++}let c=1==o,u=c==(1==(s<e?Nt[s]:r))?c?1:2:r;for(let e=s,r=i,o=r?n[r-1].to:t;e>a;)e==o&&(e=n[--r].from,o=r?n[r-1].to:t),Nt[--e]=u;a=s}else o=s,a++}}}(i,o,r,l),It(t,i,o,e,n,r,s)}function Ft(t){return[new Lt(0,t,0)]}let zt="";function jt(t,e,n,i,o){var s;let l=i.head-t.from,a=Lt.find(e,l,null!==(s=i.bidiLevel)&&void 0!==s?s:-1,i.assoc),c=e[a],u=c.side(o,n);if(l==u){let t=a+=o?1:-1;if(t<0||t>=e.length)return null;c=e[a=t],l=c.side(!o,n),u=c.side(o,n)}let h=(0,r.cp)(t.text,l,c.forward(o,n));(h<c.from||h>c.to)&&(h=u),zt=t.text.slice(Math.min(l,h),Math.max(l,h));let f=a==(o?e.length-1:0)?null:e[a+(o?1:-1)];return f&&h==u&&f.level+(o?0:1)<c.level?r.jT.cursor(f.side(!o,n)+t.from,f.forward(o,n)?1:-1,f.level):r.jT.cursor(h+t.from,c.forward(o,n)?-1:1,c.level)}function Vt(t,e,n){for(let r=e;r<n;r++){let e=Pt(t.charCodeAt(r));if(1==e)return Ct;if(2==e||4==e)return Mt}return Ct}const Wt=r.r$.define(),Ht=r.r$.define(),Ut=r.r$.define(),$t=r.r$.define(),qt=r.r$.define(),Kt=r.r$.define(),Gt=r.r$.define(),Qt=r.r$.define({combine:t=>t.some((t=>t))}),Yt=r.r$.define({combine:t=>t.some((t=>t))}),Xt=r.r$.define();class Jt{constructor(t,e="nearest",n="nearest",r=5,i=5,o=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=i,this.isSnapshot=o}map(t){return t.empty?this:new Jt(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Jt(r.jT.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Zt=r.Py.define({map:(t,e)=>t.map(e)});function te(t,e,n){let r=t.facet($t);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const ee=r.r$.define({combine:t=>!t.length||t[0]});let ne=0;const re=r.r$.define();class ie{constructor(t,e,n,r,i){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.extension=i(this)}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:i,decorations:o}=e||{};return new ie(ne++,t,n,r,(t=>{let e=[re.of(t)];return o&&e.push(ae.of((e=>{let n=e.plugin(t);return n?o(n):pt.none}))),i&&e.push(i(t)),e}))}static fromClass(t,e){return ie.define((e=>new t(e)),e)}}class oe{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(e){if(te(t.state,e,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(t){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){te(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null===(e=this.value)||void 0===e?void 0:e.destroy)try{this.value.destroy()}catch(e){te(t.state,e,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const se=r.r$.define(),le=r.r$.define(),ae=r.r$.define(),ce=r.r$.define(),ue=r.r$.define(),he=r.r$.define();function fe(t,e){let n=t.state.facet(he);if(!n.length)return n;let i=n.map((e=>e instanceof Function?e(t):e)),o=[];return r.Xs.spans(i,e.from,e.to,{point(){},span(t,n,r,i){let s=t-e.from,l=n-e.from,a=o;for(let t=r.length-1;t>=0;t--,i--){let n,o=r[t].spec.bidiIsolate;if(null==o&&(o=Vt(e.text,s,l)),i>0&&a.length&&(n=a[a.length-1]).to==s&&n.direction==o)n.to=l,a=n.inner;else{let t={from:s,to:l,direction:o,inner:[]};a.push(t),a=t.inner}}}}),o}const de=r.r$.define();function pe(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(de)){let s=o(t);s&&(null!=s.left&&(e=Math.max(e,s.left)),null!=s.right&&(n=Math.max(n,s.right)),null!=s.top&&(r=Math.max(r,s.top)),null!=s.bottom&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const ge=r.r$.define();class me{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new me(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,i=0,o=0,s=0;;r++){let l=r==t.length?null:t[r],a=o-s,c=l?l.fromB:1e9;for(;i<e.length&&e[i]<c;){let t=e[i],r=e[i+1],o=Math.max(s,t),l=Math.min(c,r);if(o<=l&&new me(o+a,l+a,o,l).addToSet(n),r>c)break;i+=2}if(!l)return n;new me(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,s=l.toB}}}class ve{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=r.as.empty(this.startState.doc.length);for(let t of n)this.changes=this.changes.compose(t.changes);let i=[];this.changes.iterChangedRanges(((t,e,n,r)=>i.push(new me(t,e,n,r)))),this.changedRanges=i}static create(t,e,n){return new ve(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((t=>t.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class ye extends N{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new ut],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new me(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:t,toA:e})=>e<this.minWidthFrom||t>this.minWidthTo))?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&((null===(e=this.domChanged)||void 0===e?void 0:e.newSel)?i=this.domChanged.newSel.head:function(t,e){let n=!1;return e&&t.iterChangedRanges(((t,r)=>{t<e.to&&r>e.from&&(n=!0)})),n}(t.changes,this.hasComposition)||t.selectionSet||(i=t.state.selection.main.head));let o=i>-1?function(t,e,n){let r=be(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,l=i.nodeValue;if(/[\n\r]/.test(l))return null;if(t.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,c=new me(a.mapPos(o),a.mapPos(s),o,s),u=[];for(let e=i.parentNode;;e=e.parentNode){let n=N.get(e);if(n instanceof Z)u.push({node:e,deco:n.mark});else{if(n instanceof ut||"DIV"==e.nodeName&&e.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:e};if(e==t.contentDOM)return null;u.push({node:e,deco:new gt({inclusive:!0,attributes:ct(e),tagName:e.tagName.toLowerCase()})})}}}(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:e,to:r}=this.hasComposition;n=new me(e,r,t.changes.mapPos(e,-1),t.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(X.ie||X.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(t,e,n){let i=new class{constructor(){this.changes=[]}compareRange(t,e){wt(t,e,this.changes)}comparePoint(t,e){wt(t,e,this.changes)}};return r.Xs.compare(t,e,n,i),i.changes}(this.decorations,this.updateDeco(),t.changes);return n=me.extendWithRanges(n,s),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let t=X.chrome||X.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,t),this.flags&=-8,t&&(t.written||r.selectionRange.focusNode!=t.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((t=>t.flags&=-9));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let t of this.children)t instanceof ht&&t.widget instanceof we&&i.push(t.dom);r.updateGaps(i)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,i=this.childCursor(e);for(let t=r.length-1;;t--){let e=t>=0?r[t]:null;if(!e)break;let o,s,l,a,{fromA:c,toA:u,fromB:h,toB:f}=e;if(n&&n.range.fromB<f&&n.range.toB>h){let t=bt.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),e=bt.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);s=t.breakAtStart,l=t.openStart,a=e.openEnd;let r=this.compositionView(n);e.breakAtStart?r.breakAfter=1:e.content.length&&r.merge(r.length,r.length,e.content[0],!1,e.openStart,0)&&(r.breakAfter=e.content[0].breakAfter,e.content.shift()),t.content.length&&r.merge(0,0,t.content[t.content.length-1],!0,0,t.openEnd)&&t.content.pop(),o=t.content.concat(r).concat(e.content)}else({content:o,breakAtStart:s,openStart:l,openEnd:a}=bt.build(this.view.state.doc,h,f,this.decorations,this.dynamicDecorationMap));let{i:d,off:p}=i.findPos(u,1),{i:g,off:m}=i.findPos(c,-1);F(this,g,m,d,p,o,s,l,a)}n&&this.fixCompositionDOM(n)}compositionView(t){let e=new J(t.text.nodeValue);e.flags|=8;for(let{deco:n}of t.marks)e=new Z(n,[e],e.length);let n=new ut;return n.append(e,0),n}fixCompositionDOM(t){let e=(t,e)=>{e.flags|=8|(e.children.some((t=>7&t.flags))?1:0),this.markedForComposition.add(e);let n=N.get(t);n&&n!=e&&(n.dom=null),e.setDOM(t)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let i=t.marks.length-1;i>=-1;i--)n=r.childPos(n.off,1),r=r.children[n.i],e(i>=0?t.marks[i].node:t.text,r)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,i=!r&&d(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||i))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(s.anchor)),a=s.empty?l:this.moveToLine(this.domAtPos(s.head));if(X.gecko&&s.empty&&!this.hasComposition&&1==(c=l).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let t=document.createTextNode("");this.view.observer.ignore((()=>l.node.insertBefore(t,l.node.childNodes[l.offset]||null))),l=a=new L(t,0),o=!0}var c;let u=this.view.observer.selectionRange;!o&&u.focusNode&&(g(l.node,l.offset,u.anchorNode,u.anchorOffset)&&g(a.node,a.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,s))||(this.view.observer.ignore((()=>{X.android&&X.chrome&&this.dom.contains(u.focusNode)&&function(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let t=h(this.view.root);if(t)if(s.empty){if(X.gecko){let t=(e=l.node,r=l.offset,1!=e.nodeType?0:(r&&"false"==e.childNodes[r-1].contentEditable?1:0)|(r<e.childNodes.length&&"false"==e.childNodes[r].contentEditable?2:0));if(t&&3!=t){let e=(1==t?P:_)(l.node,l.offset);e&&(l=new L(e.node,e.offset))}}t.collapse(l.node,l.offset),null!=s.bidiLevel&&void 0!==t.caretBidiLevel&&(t.caretBidiLevel=s.bidiLevel)}else if(t.extend){t.collapse(l.node,l.offset);try{t.extend(a.node,a.offset)}catch(t){}}else{let e=document.createRange();s.anchor>s.head&&([l,a]=[a,l]),e.setEnd(a.node,a.offset),e.setStart(l.node,l.offset),t.removeAllRanges(),t.addRange(e)}var e,r;i&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(l,a)),this.impreciseAnchor=l.precise?null:new L(u.anchorNode,u.anchorOffset),this.impreciseHead=a.precise?null:new L(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=h(t.root),{anchorNode:r,anchorOffset:i}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let o=ut.find(this,e.head);if(!o)return;let s=o.posAtStart;if(e.head==s||e.head==s+o.length)return;let l=this.coordsAt(e.head,-1),a=this.coordsAt(e.head,1);if(!l||!a||l.bottom>a.top)return;let c=this.domAtPos(e.head+e.assoc);n.collapse(c.node,c.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let u=t.observer.selectionRange;t.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=e.from&&n.collapse(r,i)}moveToLine(t){let e,n=this.dom;if(t.node!=n)return t;for(let r=t.offset;!e&&r<n.childNodes.length;r++){let t=N.get(n.childNodes[r]);t instanceof ut&&(e=t.domAtPos(0))}for(let r=t.offset-1;!e&&r>=0;r--){let t=N.get(n.childNodes[r]);t instanceof ut&&(e=t.domAtPos(t.length))}return e?new L(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let t=N.get(e);if(t&&t.rootView==this)return t;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let t=this.children[e];if(n<t.length||t instanceof ut)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let i=this.length,o=this.children.length-1;o>=0;o--){let s=this.children[o],l=i-s.breakAfter,a=l-s.length;if(l<t)break;if(a<=t&&(a<t||s.covers(-1))&&(l>t||s.covers(1))&&(!n||s instanceof ut&&!(n instanceof ut&&e>=0)))n=s,r=a;else if(n&&a==t&&l==t&&s instanceof ht&&Math.abs(e)<2){if(s.deco.startSide<0)break;o&&(n=null)}i=a}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),i=this.children[e];if(!(i instanceof ut))return null;for(;i.children.length;){let{i:t,off:e}=i.childPos(n,1);for(;;t++){if(t==i.children.length)return null;if((i=i.children[t]).length)break}n=e}if(!(i instanceof J))return null;let o=(0,r.cp)(i.text,n);if(o==n)return null;let s=A(i.dom,n,o).getClientRects();for(let t=0;t<s.length;t++){let e=s[t];if(t==s.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==St.LTR;for(let t=0,a=0;a<this.children.length;a++){let c=this.children[a],u=t+c.length;if(u>r)break;if(t>=n){let n=c.dom.getBoundingClientRect();if(e.push(n.height),o){let e=c.dom.lastChild,r=e?p(e):[];if(r.length){let e=r[r.length-1],o=l?e.right-n.left:n.right-e.left;o>s&&(s=o,this.minWidth=i,this.minWidthFrom=t,this.minWidthTo=u)}}}t=u+c.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?St.RTL:St.LTR}measureTextSize(){for(let t of this.children)if(t instanceof ut){let e=t.measureTextSize();if(e)return e}let t,e,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let i=p(r.firstChild)[0];t=r.getBoundingClientRect().height,e=i?i.width/27:7,n=i?i.height:t,r.remove()})),{lineHeight:t,charWidth:e,textHeight:n}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new B(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let i=r==e.viewports.length?null:e.viewports[r],o=i?i.from-1:this.length;if(o>n){let r=(e.lineBlockAt(o).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(pt.replace({widget:new we(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return pt.set(t)}updateDeco(){let t=0,e=this.view.state.facet(ae).map((e=>(this.dynamicDecorationMap[t++]="function"==typeof e)?e(this.view):e)),n=!1,i=this.view.state.facet(ce).map(((t,e)=>{let r="function"==typeof t;return r&&(n=!0),r?t(this.view):t}));for(i.length&&(this.dynamicDecorationMap[t++]=n,e.push(r.Xs.join(i))),this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let e=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=e.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let e of this.view.state.facet(Xt))try{if(e(this.view,t.range,t))return!0}catch(t){te(this.view.state,t,"scroll handler")}let e,{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(e=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,e.left),top:Math.min(r.top,e.top),right:Math.max(r.right,e.right),bottom:Math.max(r.bottom,e.bottom)});let i=pe(this.view),o={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:s,offsetHeight:l}=this.view.scrollDOM;!function(t,e,n,r,i,o,s,l){let a=t.ownerDocument,c=a.defaultView||window;for(let u=t,h=!1;u&&!h;)if(1==u.nodeType){let t,f=u==a.body,d=1,p=1;if(f)t=x(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let e=u.getBoundingClientRect();({scaleX:d,scaleY:p}=k(u,e)),t={left:e.left,right:e.left+u.clientWidth*d,top:e.top,bottom:e.top+u.clientHeight*p}}let g=0,m=0;if("nearest"==i)e.top<t.top?(m=-(t.top-e.top+s),n>0&&e.bottom>t.bottom+m&&(m=e.bottom-t.bottom+m+s)):e.bottom>t.bottom&&(m=e.bottom-t.bottom+s,n<0&&e.top-m<t.top&&(m=-(t.top+m-e.top+s)));else{let r=e.bottom-e.top,o=t.bottom-t.top;m=("center"==i&&r<=o?e.top+r/2-o/2:"start"==i||"center"==i&&n<0?e.top-s:e.bottom-o+s)-t.top}if("nearest"==r?e.left<t.left?(g=-(t.left-e.left+o),n>0&&e.right>t.right+g&&(g=e.right-t.right+g+o)):e.right>t.right&&(g=e.right-t.right+o,n<0&&e.left<t.left+g&&(g=-(t.left+g-e.left+o))):g=("center"==r?e.left+(e.right-e.left)/2-(t.right-t.left)/2:"start"==r==l?e.left-o:e.right-(t.right-t.left)+o)-t.left,g||m)if(f)c.scrollBy(g,m);else{let t=0,n=0;if(m){let t=u.scrollTop;u.scrollTop+=m/p,n=(u.scrollTop-t)*p}if(g){let e=u.scrollLeft;u.scrollLeft+=g/d,t=(u.scrollLeft-e)*d}e={left:e.left-t,top:e.top-n,right:e.right-t,bottom:e.bottom-n},t&&Math.abs(t-g)<1&&(r="nearest"),n&&Math.abs(n-m)<1&&(i="nearest")}if(f)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,o,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,s),-s),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==St.LTR)}}class we extends ft{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function be(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=P(n.focusNode,n.focusOffset),i=_(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let e=N.get(i.node);if(!e||e instanceof J&&e.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let t=N.get(r.node);!t||t instanceof J&&t.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function xe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function ke(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Se(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Ce(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Me(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Ee(t,e,n){let r,i,o,s,l,a,c,u,h=!1;for(let f=t.firstChild;f;f=f.nextSibling){let t=p(f);for(let d=0;d<t.length;d++){let p=t[d];i&&Se(i,p)&&(p=Ce(Me(p,i.bottom),i.top));let g=xe(e,p),m=ke(n,p);if(0==g&&0==m)return 3==f.nodeType?Ae(f,e,n):Ee(f,e,n);if(!r||s>m||s==m&&o>g){r=f,i=p,o=g,s=m;let l=m?n<p.top?-1:1:g?e<p.left?-1:1:0;h=!l||(l>0?d<t.length-1:d>0)}0==g?n>p.bottom&&(!c||c.bottom<p.bottom)?(l=f,c=p):n<p.top&&(!u||u.top>p.top)&&(a=f,u=p):c&&Se(c,p)?c=Me(c,p.bottom):u&&Se(u,p)&&(u=Ce(u,p.top))}}if(c&&c.bottom>=n?(r=l,i=c):u&&u.top<=n&&(r=a,i=u),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));return 3==r.nodeType?Ae(r,f,n):h&&"false"!=r.contentEditable?Ee(r,f,n):{node:t,offset:Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function Ae(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let r=A(t,l,l+1).getClientRects();for(let a=0;a<r.length;a++){let c=r[a];if(c.top==c.bottom)continue;s||(s=e-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&u<o){let n=e>=(c.left+c.right)/2,r=n;if((X.chrome||X.gecko)&&A(t,l).getBoundingClientRect().left==c.right&&(r=!n),u<=0)return{node:t,offset:l+(r?1:0)};i=l+(r?1:0),o=u}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function Oe(t,e,n,r=-1){var i,o;let s,l=t.contentDOM.getBoundingClientRect(),a=l.top+t.viewState.paddingTop,{docHeight:c}=t.viewState,{x:u,y:h}=e,f=h-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let e=t.viewState.heightOracle.textHeight/2,i=!1;s=t.elementAtHeight(f),s.type!=dt.Text;)for(;f=r>0?s.bottom+e:s.top-e,!(f>=0&&f<=c);){if(i)return n?null:0;i=!0,r=-r}h=a+f;let d=s.from;if(d<t.viewport.from)return 0==t.viewport.from?0:n?null:Te(t,l,s,u,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:Te(t,l,s,u,h);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,m=g.elementFromPoint(u,h);m&&!t.contentDOM.contains(m)&&(m=null),m||(u=Math.max(l.left+1,Math.min(l.right-1,u)),m=g.elementFromPoint(u,h),m&&!t.contentDOM.contains(m)&&(m=null));let v,y=-1;if(m&&0!=(null===(i=t.docView.nearest(m))||void 0===i?void 0:i.isEditable))if(p.caretPositionFromPoint){let t=p.caretPositionFromPoint(u,h);t&&({offsetNode:v,offset:y}=t)}else if(p.caretRangeFromPoint){let e=p.caretRangeFromPoint(u,h);e&&(({startContainer:v,startOffset:y}=e),(!t.contentDOM.contains(v)||X.safari&&function(t,e,n){let r;if(3!=t.nodeType||e!=(r=t.nodeValue.length))return!1;for(let e=t.nextSibling;e;e=e.nextSibling)if(1!=e.nodeType||"BR"!=e.nodeName)return!1;return A(t,r-1,r).getBoundingClientRect().left>n}(v,y,u)||X.chrome&&function(t,e,n){if(0!=e)return!1;for(let e=t;;){let t=e.parentNode;if(!t||1!=t.nodeType||t.firstChild!=e)return!1;if(t.classList.contains("cm-line"))break;e=t}return n-(1==t.nodeType?t.getBoundingClientRect():A(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect()).left>5}(v,y,u))&&(v=void 0))}if(!v||!t.docView.dom.contains(v)){let e=ut.find(t.docView,d);if(!e)return f>s.top+s.height/2?s.to:s.from;({node:v,offset:y}=Ee(e.dom,u,h))}let w=t.docView.nearest(v);if(!w)return null;if(w.isWidget&&1==(null===(o=w.dom)||void 0===o?void 0:o.nodeType)){let t=w.dom.getBoundingClientRect();return e.y<t.top||e.y<=t.bottom&&e.x<=(t.left+t.right)/2?w.posAtStart:w.posAtEnd}return w.localPosFromDOM(v,y)+w.posAtStart}function Te(t,e,n,i,o){let s=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>1.5*t.defaultLineHeight){let e=t.viewState.heightOracle.textHeight;s+=Math.floor((o-n.top-.5*(t.defaultLineHeight-e))/e)*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(n.from,n.to);return n.from+(0,r.Gz)(l,s,t.state.tabSize)}function De(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type))for(let t of n.type)if(t.to>e||t.to==e&&(t.to==n.to||t.type==dt.Text))return t;return n}function Pe(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let l=e,a=null;;){let e=jt(i,o,s,l,n),c=zt;if(!e){if(i.number==(n?t.state.doc.lines:1))return l;c="\n",i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),e=t.visualLineSide(i,!n)}if(a){if(!a(c))return l}else{if(!r)return e;a=r(c)}l=e}}function _e(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,((t,i,o)=>{if(e>t&&e<i){let o=r||n||(e-t<i-e?-1:1);e=o<0?t:i,r=o}}));if(!r)return e}}function Le(t,e,n){let i=_e(t.state.facet(ue).map((e=>e(t))),n.from,e.head>n.from?-1:1);return i==n.from?n:r.jT.cursor(i,i<n.from?1:-1)}class Re{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,X.safari&&t.contentDOM.addEventListener("input",(()=>null)),X.gecko&&function(t){an.has(t)||(an.add(t),t.addEventListener("copy",(()=>{})),t.addEventListener("cut",(()=>{})))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n,r=e.target;r!=t.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=N.get(r))&&n.ignoreEvent(e))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&("keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let n=this.handlers[t];if(n){for(let t of n.observers)t(this.view,e);for(let t of n.handlers){if(e.defaultPrevented)break;if(t(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=Ie(t),n=this.handlers,r=this.view.contentDOM;for(let t in e)if("scroll"!=t){let i=!e[t].handlers.length,o=n[t];o&&i!=!o.handlers.length&&(r.removeEventListener(t,this.handleEvent),o=null),o||r.addEventListener(t,this.handleEvent,{passive:i})}for(let t in n)"scroll"==t||e[t]||r.removeEventListener(t,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=t.keyCode&&ze.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),X.android&&X.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!X.ios||t.synthetic||t.altKey||t.metaKey||!((e=Be.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Fe.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!("Enter"==e.key&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,O(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(X.safari&&!X.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Ne(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(t){te(n.state,t)}}}function Ie(t){let e=Object.create(null);function n(t){return e[t]||(e[t]={observers:[],handlers:[]})}for(let e of t){let t=e.spec;if(t&&t.domEventHandlers)for(let r in t.domEventHandlers){let i=t.domEventHandlers[r];i&&n(r).handlers.push(Ne(e.value,i))}if(t&&t.domEventObservers)for(let r in t.domEventObservers){let i=t.domEventObservers[r];i&&n(r).observers.push(Ne(e.value,i))}}for(let t in We)n(t).handlers.push(We[t]);for(let t in He)n(t).observers.push(He[t]);return e}const Be=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Fe="dthko",ze=[16,17,18,20,91,92,224,225];function je(t){return.7*Math.max(0,t)+8}class Ve{constructor(t,e,n,i){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=function(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM),this.atoms=t.state.facet(ue).map((e=>e(t)));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(r.yy.allowMultipleSelections)&&function(t,e){let n=t.state.facet(Wt);return n.length?n[0](e):X.mac?e.metaKey:e.ctrlKey}(t,e),this.dragging=!(!function(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=h(t.root);if(!r||0==r.rangeCount)return!0;let i=r.getRangeAt(0).getClientRects();for(let t=0;t<i.length;t++){let n=i[t];if(n.left<=e.clientX&&n.right>=e.clientX&&n.top<=e.clientY&&n.bottom>=e.clientY)return!0}return!1}(t,e)||1!=en(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){var e,n,r;if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(n=this.startEvent,r=t,Math.max(Math.abs(n.clientX-r.clientX),Math.abs(n.clientY-r.clientY))<10))return;this.select(this.lastEvent=t);let i=0,o=0,s=(null===(e=this.scrollParent)||void 0===e?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},l=pe(this.view);t.clientX-l.left<=s.left+6?i=-je(s.left-t.clientX):t.clientX+l.right>=s.right-6&&(i=je(t.clientX-s.right)),t.clientY-l.top<=s.top+6?o=-je(s.top-t.clientY):t.clientY+l.bottom>=s.bottom-6&&(o=je(t.clientY-s.bottom)),this.setScrollSpeed(i,o)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let i=t.ranges[n],o=null;if(i.empty){let t=_e(this.atoms,i.from,0);t!=i.from&&(o=r.jT.cursor(t,-1))}else{let t=_e(this.atoms,i.from,-1),e=_e(this.atoms,i.to,1);t==i.from&&e==i.to||(o=r.jT.range(i.from==i.anchor?t:e,i.from==i.head?t:e))}o&&(e||(e=t.ranges.slice()),e[n]=o)}return e?r.jT.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&n.eq(e.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some((t=>t.isUserEvent("input.type")))?this.destroy():this.style.update(t)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const We=Object.create(null),He=Object.create(null),Ue=X.ie&&X.ie_version<15||X.ios&&X.webkit_version<604;function $e(t,e){let n,{state:i}=t,o=1,s=i.toText(e),l=s.lines==i.selection.ranges.length;if(null!=rn&&i.selection.ranges.every((t=>t.empty))&&rn==s.toString()){let t=-1;n=i.changeByRange((n=>{let a=i.doc.lineAt(n.from);if(a.from==t)return{range:n};t=a.from;let c=i.toText((l?s.line(o++).text:e)+i.lineBreak);return{changes:{from:a.from,insert:c},range:r.jT.cursor(n.from+c.length)}}))}else n=l?i.changeByRange((t=>{let e=s.line(o++);return{changes:{from:t.from,to:t.to,insert:e.text},range:r.jT.cursor(t.from+e.length)}})):i.replaceSelection(s);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function qe(t,e,n,i){if(1==i)return r.jT.cursor(e,n);if(2==i)return function(t,e,n=1){let i=t.charCategorizer(e),o=t.doc.lineAt(e),s=e-o.from;if(0==o.length)return r.jT.cursor(e);0==s?n=1:s==o.length&&(n=-1);let l=s,a=s;n<0?l=(0,r.cp)(o.text,s,!1):a=(0,r.cp)(o.text,s);let c=i(o.text.slice(l,a));for(;l>0;){let t=(0,r.cp)(o.text,l,!1);if(i(o.text.slice(t,l))!=c)break;l=t}for(;a<o.length;){let t=(0,r.cp)(o.text,a);if(i(o.text.slice(a,t))!=c)break;a=t}return r.jT.range(l+o.from,a+o.from)}(t.state,e,n);{let n=ut.find(t.docView,e),i=t.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:i.from,s=n?n.posAtEnd:i.to;return s<t.state.doc.length&&s==i.to&&s++,r.jT.range(o,s)}}He.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft},We.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),27==e.keyCode&&0!=t.inputState.tabFocusMode&&(t.inputState.tabFocusMode=Date.now()+2e3),!1),He.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")},He.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")},We.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(Ut))if(n=r(t,e),n)break;if(n||0!=e.button||(n=function(t,e){let n=Ye(t,e),i=en(e),o=t.state.selection;return{update(t){t.docChanged&&(n.pos=t.changes.mapPos(n.pos),o=o.map(t.changes))},get(e,s,l){let a,c=Ye(t,e),u=qe(t,c.pos,c.bias,i);if(n.pos!=c.pos&&!s){let e=qe(t,n.pos,n.bias,i),o=Math.min(e.from,u.from),s=Math.max(e.to,u.to);u=o<u.from?r.jT.range(o,s):r.jT.range(s,o)}return s?o.replaceRange(o.main.extend(u.from,u.to)):l&&1==i&&o.ranges.length>1&&(a=function(t,e){for(let n=0;n<t.ranges.length;n++){let{from:i,to:o}=t.ranges[n];if(i<=e&&o>=e)return r.jT.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}(o,c.pos))?a:l?o.addRange(u):r.jT.create([u])}}}(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Ve(t,e,n,r)),r&&t.observer.ignore((()=>{E(t.contentDOM);let e=t.root.activeElement;e&&!e.contains(t.contentDOM)&&e.blur()}));let i=t.inputState.mouseSelection;if(i)return i.start(e),!1===i.dragging}return!1};let Ke=(t,e)=>t>=e.top&&t<=e.bottom,Ge=(t,e,n)=>Ke(e,n)&&t>=n.left&&t<=n.right;function Qe(t,e,n,r){let i=ut.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Ge(n,r,s))return-1;let l=i.coordsAt(o,1);return l&&Ge(n,r,l)?1:s&&Ke(r,s)?-1:1}function Ye(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Qe(t,n,e.clientX,e.clientY)}}const Xe=X.ie&&X.ie_version<=11;let Je=null,Ze=0,tn=0;function en(t){if(!Xe)return t.detail;let e=Je,n=tn;return Je=t,tn=Date.now(),Ze=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Ze+1)%3:1}function nn(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&function(t,e){let n=t.state.facet(Ht);return n.length?n[0](e):X.mac?!e.altKey:!e.ctrlKey}(t,e)?{from:o.from,to:o.to}:null,l={from:i,insert:n},a=t.state.changes(s?[s,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}We.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let t=i.posAtStart,e=t+i.length;(t>=n.to||e<=n.from)&&(n=r.jT.range(t,e))}}let{inputState:i}=t;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1},We.dragend=t=>(t.inputState.draggedContent=null,!1),We.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&nn(t,e,r.filter((t=>null!=t)).join(t.state.lineBreak),!1)};for(let t=0;t<n.length;t++){let e=new FileReader;e.onerror=o,e.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(e.result)||(r[t]=e.result),o()},e.readAsText(n[t])}return!0}{let n=e.dataTransfer.getData("Text");if(n)return nn(t,e,n,!0),!0}return!1},We.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Ue?null:e.clipboardData;return n?($e(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{t.focus(),n.remove(),$e(t,n.value)}),50)}(t),!1)};let rn=null;We.copy=We.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=function(t){let e=[],n=[],r=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let i=-1;for(let{from:r}of t.selection.ranges){let o=t.doc.lineAt(r);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}(t.state);if(!n&&!i)return!1;rn=i?n:null,"cut"!=e.type||t.state.readOnly||t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=Ue?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(function(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout((()=>{r.remove(),t.focus()}),50)}(t,n),!1)};const on=r.q6.define();function sn(t,e){let n=[];for(let r of t.facet(Gt)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:on.of(!0)}):null}function ln(t){setTimeout((()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=sn(t.state,e);n?t.dispatch(n):t.update([])}}),10)}He.focus=t=>{t.inputState.lastFocusTime=Date.now(),t.scrollDOM.scrollTop||!t.inputState.lastScrollTop&&!t.inputState.lastScrollLeft||(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),ln(t)},He.blur=t=>{t.observer.clearSelectionRange(),ln(t)},He.compositionstart=He.compositionupdate=t=>{null==t.inputState.compositionFirstChange&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)},He.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,X.chrome&&X.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then((()=>t.observer.flush())):setTimeout((()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])}),50)},He.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()},We.beforeinput=(t,e)=>{var n;let r;if(X.chrome&&X.android&&(r=Be.find((t=>t.inputType==e.inputType)))&&(t.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){let e=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>e+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())}),100)}return X.ios&&"deleteContentForward"==e.inputType&&t.observer.flushSoon(),X.safari&&"insertText"==e.inputType&&t.inputState.composing>=0&&setTimeout((()=>He.compositionend(t,e)),20),!1};const an=new Set,cn=["pre-wrap","normal","pre-line","break-spaces"];class un{constructor(t){this.lineWrapping=t,this.doc=r.xv.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return cn.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,i,o){let s=cn.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=i,l){this.heightSamples={};for(let t=0;t<o.length;t++){let e=o[t];e<0?t++:this.heightSamples[Math.floor(10*e)]=!0}}return l}}class hn{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class fn{constructor(t,e,n,r,i){this.from=t,this.length=e,this.top=n,this.height=r,this._content=i}get type(){return"number"==typeof this._content?dt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof vt?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new fn(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var dn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(dn||(dn={}));const pn=.001;class gn{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>pn&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return gn.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let i=this,o=n.doc;for(let s=r.length-1;s>=0;s--){let{fromA:l,toA:a,fromB:c,toB:u}=r[s],h=i.lineAt(l,dn.ByPosNoHeight,n.setDoc(e),0,0),f=h.to>=a?h:i.lineAt(a,dn.ByPosNoHeight,n,0,0);for(u+=f.to-a,a=f.to;s>0&&h.from<=r[s-1].toA;)l=r[s-1].fromA,c=r[s-1].fromB,s--,l<h.from&&(h=i.lineAt(l,dn.ByPosNoHeight,n,0,0));c+=h.from-l,l=h.from;let d=xn.build(n.setDoc(o),t,c,u);i=i.replace(l,a,d)}return i.updateHeight(n,0)}static empty(){return new vn(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,i=0;for(;;)if(e==n)if(r>2*i){let i=t[e-1];i.break?t.splice(--e,1,i.left,null,i.right):t.splice(--e,1,i.left,i.right),n+=1+i.break,r-=i.size}else{if(!(i>2*r))break;{let e=t[n];e.break?t.splice(n,1,e.left,null,e.right):t.splice(n,1,e.left,e.right),n+=2+e.break,i-=e.size}}else if(r<i){let n=t[e++];n&&(r+=n.size)}else{let e=t[--n];e&&(i+=e.size)}let o=0;return null==t[e-1]?(o=1,e--):null==t[e]&&(o=1,n++),new wn(gn.of(t.slice(0,e)),o,gn.of(t.slice(n)))}}gn.prototype.size=1;class mn extends gn{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new fn(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,i){return this.blockAt(0,n,r,i)}forEachLine(t,e,n,r,i,o){t<=i+this.length&&e>=i&&o(this.blockAt(0,n,r,i))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vn extends mn{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new fn(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof vn||r instanceof yn&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof yn?r=new vn(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):gn.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class yn extends gn{constructor(t){super(t,0)}heightMetrics(t,e){let n,r=t.doc.lineAt(e).number,i=t.doc.lineAt(e+this.length).number,o=i-r+1,s=0;if(t.lineWrapping){let e=Math.min(this.height,t.lineHeight*o);n=e/o,this.length>o+1&&(s=(this.height-e)/(this.length-o-1))}else n=this.height/o;return{firstLine:r,lastLine:i,perLine:n,perChar:s}}blockAt(t,e,n,r){let{firstLine:i,lastLine:o,perLine:s,perChar:l}=this.heightMetrics(e,r);if(e.lineWrapping){let i=r+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),o=e.doc.lineAt(i),a=s+o.length*l,c=Math.max(n,t-a/2);return new fn(o.from,o.length,c,a,0)}{let r=Math.max(0,Math.min(o-i,Math.floor((t-n)/s))),{from:l,length:a}=e.doc.line(i+r);return new fn(l,a,n+s*r,s,0)}}lineAt(t,e,n,r,i){if(e==dn.ByHeight)return this.blockAt(t,n,r,i);if(e==dn.ByPosNoHeight){let{from:e,to:r}=n.doc.lineAt(t);return new fn(e,r-e,0,0,0)}let{firstLine:o,perLine:s,perChar:l}=this.heightMetrics(n,i),a=n.doc.lineAt(t),c=s+a.length*l,u=a.number-o,h=r+s*u+l*(a.from-i-u);return new fn(a.from,a.length,Math.max(r,Math.min(h,r+this.height-c)),c,0)}forEachLine(t,e,n,r,i,o){t=Math.max(t,i),e=Math.min(e,i+this.length);let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(n,i);for(let c=t,u=r;c<=e;){let e=n.doc.lineAt(c);if(c==t){let n=e.number-s;u+=l*n+a*(t-i-n)}let r=l+a*e.length;o(new fn(e.from,e.length,u,r,0)),u+=r,c=e.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let t=n[n.length-1];t instanceof yn?n[n.length-1]=new yn(t.length+r):n.push(null,new yn(r-1))}if(t>0){let e=n[0];e instanceof yn?n[0]=new yn(t+e.length):n.unshift(new yn(t-1),null)}return gn.of(n)}decomposeLeft(t,e){e.push(new yn(t-1),null)}decomposeRight(t,e){e.push(null,new yn(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let i=e+this.length;if(r&&r.from<=e+this.length&&r.more){let n=[],o=Math.max(e,r.from),s=-1;for(r.from>e&&n.push(new yn(r.from-e-1).updateHeight(t,e));o<=i&&r.more;){let e=t.doc.lineAt(o).length;n.length&&n.push(null);let i=r.heights[r.index++];-1==s?s=i:Math.abs(i-s)>=pn&&(s=-2);let l=new vn(e,i);l.outdated=!1,n.push(l),o+=e+1}o<=i&&n.push(null,new yn(i-o).updateHeight(t,o));let l=gn.of(n);return(s<0||Math.abs(l.height-this.height)>=pn||Math.abs(s-this.heightMetrics(t,e).perLine)>=pn)&&(t.heightChanged=!0),l}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class wn extends gn{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let i=n+this.left.height;return t<i?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,i,r+this.left.length+this.break)}lineAt(t,e,n,r,i){let o=r+this.left.height,s=i+this.left.length+this.break,l=e==dn.ByHeight?t<o:t<s,a=l?this.left.lineAt(t,e,n,r,i):this.right.lineAt(t,e,n,o,s);if(this.break||(l?a.to<s:a.from>s))return a;let c=e==dn.ByPosNoHeight?dn.ByPosNoHeight:dn.ByPos;return l?a.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,r,i).join(a)}forEachLine(t,e,n,r,i,o){let s=r+this.left.height,l=i+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,i,o),e>=l&&this.right.forEachLine(t,e,n,s,l,o);else{let a=this.lineAt(l,dn.ByPos,n,r,i);t<a.from&&this.left.forEachLine(t,a.from-1,n,r,i,o),a.to>=t&&a.from<=e&&o(a),e>a.to&&this.right.forEachLine(a.to+1,e,n,s,l,o)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let i=[];t>0&&this.decomposeLeft(t,i);let o=i.length;for(let t of n)i.push(t);if(t>0&&bn(i,o-1),e<this.length){let t=i.length;this.decomposeRight(e,i),bn(i,t)}return gn.of(i)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?gn.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:i,right:o}=this,s=e+i.length+this.break,l=null;return r&&r.from<=e+i.length&&r.more?l=i=i.updateHeight(t,e,n,r):i.updateHeight(t,e,n),r&&r.from<=s+o.length&&r.more?l=o=o.updateHeight(t,s,n,r):o.updateHeight(t,s,n),l?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bn(t,e){let n,r;null==t[e]&&(n=t[e-1])instanceof yn&&(r=t[e+1])instanceof yn&&t.splice(e-1,3,new yn(n.length+1+r.length))}class xn{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let t=Math.min(e,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof vn?n.length+=t-this.pos:(t>this.pos||!this.isCovered)&&this.nodes.push(new vn(t-this.pos,-1)),this.writtenTo=t,e>t&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,i=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=e-t;n.block?this.addBlock(new mn(o,r,n)):(o||i||r>=5)&&this.addLineDeco(r,i,o)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new vn(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new yn(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof vn)return t;let e=new vn(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof vn||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new vn(0,-1));let n=t;for(let t of this.nodes)t instanceof vn&&t.updateHeight(this.oracle,n),n+=t?t.length:1;return this.nodes}static build(t,e,n,i){let o=new xn(n,t);return r.Xs.spans(e,n,i,o,0),o.finish(n)}}class kn{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&wt(t,e,this.changes,5)}}function Sn(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let e=t.parentNode;e&&e!=r.body;)if(1==e.nodeType){let n=e,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();o=Math.max(o,r.left),s=Math.min(s,r.right),l=Math.max(l,r.top),a=e==t.parentNode?r.bottom:Math.min(a,r.bottom)}e="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=e.nodeType)break;e=e.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function Cn(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Mn{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}draw(t,e){return pt.replace({widget:new En(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class En extends ft{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class An{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=_n,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=St.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(le).some((t=>"function"!=typeof t&&"cm-lineWrapping"==t.class));this.heightOracle=new un(e),this.stateDeco=t.facet(ae).filter((t=>"function"!=typeof t)),this.heightMap=gn.empty().applyChanges(this.stateDeco,r.xv.empty,this.heightOracle.setDoc(t.doc),[new me(0,0,0,t.doc.length)]);for(let t=0;t<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());t++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=pt.set(this.lineGaps.map((t=>t.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some((({from:t,to:e})=>r>=t&&r<=e))){let{from:e,to:n}=this.lineBlockAt(r);t.push(new On(e,n))}}return this.viewports=t.sort(((t,e)=>t.from-e.from)),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?_n:new Ln(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(t=>{this.viewportLines.push(Rn(t,this.scaler))}))}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(ae).filter((t=>"function"!=typeof t));let i=t.changedRanges,o=me.extendWithRanges(i,function(t,e,n){let i=new kn;return r.Xs.compare(t,e,n,i,0),i.changes}(n,this.stateDeco,t?t.changes:r.as.empty(this.state.doc.length))),s=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2),l?(this.scrollAnchorPos=t.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<a.from||e.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,e));let c=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,t.flags|=this.updateForViewport(),(c||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(Yt)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),i=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?St.RTL:St.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=e.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,u=0;if(l.width&&l.height){let{scaleX:t,scaleY:n}=k(e,l);(t>.005&&Math.abs(this.scaleX-t)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=t,this.scaleY=n,c|=8,s=a=!0)}let h=(parseInt(n.paddingTop)||0)*this.scaleY,f=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==h&&this.paddingBottom==f||(this.paddingTop=h,this.paddingBottom=f,c|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=t.scrollDOM.clientWidth,c|=8);let d=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=D(t.scrollDOM);let p=(this.printing?Cn:Sn)(e,this.paddingTop),g=p.top-this.pixelViewport.top,m=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let y=l.width;if(this.contentDOMWidth==y&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,c|=8),a){let e=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(e)&&(s=!0),s||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:n,charWidth:r,textHeight:l}=t.docView.measureTextSize();s=n>0&&i.refresh(o,n,r,l,y/r,e),s&&(t.docView.minWidth=0,c|=8)}g>0&&m>0?u=Math.max(g,m):g<0&&m<0&&(u=Math.min(g,m)),i.heightChanged=!1;for(let n of this.viewports){let o=n.from==this.viewport.from?e:t.docView.measureVisibleLineHeights(n);this.heightMap=(s?gn.empty().applyChanges(this.stateDeco,r.xv.empty,this.heightOracle,[new me(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new hn(n.from,o))}i.heightChanged&&(c|=2)}let w=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(2&c&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(2&c||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,i=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,l=new On(r.lineAt(o-1e3*n,dn.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),dn.ByHeight,i,0,0).to);if(e){let{head:t}=e.range;if(t<l.from||t>l.to){let n,o=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),s=r.lineAt(t,dn.ByPos,i,0,0);n="center"==e.y?(s.top+s.bottom)/2-o/2:"start"==e.y||"nearest"==e.y&&t<l.from?s.top:s.bottom-o,l=new On(r.lineAt(n-500,dn.ByHeight,i,0,0).from,r.lineAt(n+o+500,dn.ByHeight,i,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new On(this.heightMap.lineAt(n,dn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,dn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,dn.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(e,dn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(0==t||r<=o-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||i>=s+Math.max(10,Math.min(n,250)))&&r>o-2e3&&i<s+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new Mn(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=St.LTR&&!n)return[];let l=[],a=(i,s,c,u)=>{if(s-i<o)return;let h=this.state.selection.main,f=[h.from];h.empty||f.push(h.to);for(let t of f)if(t>i&&t<s)return a(i,t-10,c,u),void a(t+10,s,c,u);let d=function(t,e){for(let n of t)if(e(n))return n}(t,(t=>t.from>=c.from&&t.to<=c.to&&Math.abs(t.from-i)<o&&Math.abs(t.to-s)<o&&!f.some((e=>t.from<e&&t.to>e))));if(!d){if(s<c.to&&e&&n&&e.visibleRanges.some((t=>t.from<=s&&t.to>=s))){let t=e.moveToLineBoundary(r.jT.cursor(s),!1,!0).head;t>i&&(s=t)}d=new Mn(i,s,this.gapSize(c,i,s,u))}l.push(d)};for(let t of this.viewportLines){if(t.length<s)continue;let e=Tn(t.from,t.to,this.stateDeco);if(e.total<s)continue;let r,o,l=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let n,s,a=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=l){let r=Pn(e,l),i=((this.visibleBottom-this.visibleTop)/2+a)/t.height;n=r-i,s=r+i}else n=(this.visibleTop-t.top-a)/t.height,s=(this.visibleBottom-t.top+a)/t.height;r=Dn(e,n),o=Dn(e,s)}else{let t,n,s=e.total*this.heightOracle.charWidth,a=i*this.heightOracle.charWidth;if(null!=l){let r=Pn(e,l),i=((this.pixelViewport.right-this.pixelViewport.left)/2+a)/s;t=r-i,n=r+i}else t=(this.pixelViewport.left-a)/s,n=(this.pixelViewport.right+a)/s;r=Dn(e,t),o=Dn(e,n)}r>t.from&&a(t.from,r,t,e),o<t.to&&a(o,t.to,t,e)}return l}gapSize(t,e,n,r){let i=Pn(r,n)-Pn(r,e);return this.heightOracle.lineWrapping?t.height*i:r.total*this.heightOracle.charWidth*i}updateLineGaps(t){Mn.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=pt.set(t.map((t=>t.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];r.Xs.spans(t,this.viewport.from,this.viewport.to,{span(t,n){e.push({from:t,to:n})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some(((t,n)=>t.from!=e[n].from||t.to!=e[n].to));return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find((e=>e.from<=t&&e.to>=t))||Rn(this.heightMap.lineAt(t,dn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((e=>e.top<=t&&e.bottom>=t))||Rn(this.heightMap.lineAt(this.scaler.fromDOM(t),dn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Rn(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class On{constructor(t,e){this.from=t,this.to=e}}function Tn(t,e,n){let i=[],o=t,s=0;return r.Xs.spans(n,t,e,{span(){},point(t,e){t>o&&(i.push({from:o,to:t}),s+=t-o),o=e}},20),o<e&&(i.push({from:o,to:e}),s+=e-o),{total:s,ranges:i}}function Dn({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let t=0;;t++){let{from:n,to:i}=e[t],o=i-n;if(r<=o)return n+r;r-=o}}function Pn(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}const _n={toDOM:t=>t,fromDOM:t=>t,scale:1,eq(t){return t==this}};class Ln{constructor(t,e,n){let r=0,i=0,o=0;this.viewports=n.map((({from:n,to:i})=>{let o=e.lineAt(n,dn.ByPos,t,0,0).top,s=e.lineAt(i,dn.ByPos,t,0,0).bottom;return r+=s-o,{from:n,to:i,top:o,bottom:s,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(e.height-r);for(let t of this.viewports)t.domTop=o+(t.top-i)*this.scale,o=t.domBottom=t.domTop+(t.bottom-t.top),i=t.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.top)return r+(t-n)*this.scale;if(t<=i.bottom)return i.domTop+(t-i.top);n=i.bottom,r=i.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let i=e<this.viewports.length?this.viewports[e]:null;if(!i||t<i.domTop)return n+(t-r)/this.scale;if(t<=i.domBottom)return i.top+(t-i.domTop);n=i.bottom,r=i.domBottom}}eq(t){return t instanceof Ln&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every(((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to))}}function Rn(t,e){if(1==e.scale)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new fn(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map((t=>Rn(t,e))):t._content)}const Nn=r.r$.define({combine:t=>t.join(" ")}),In=r.r$.define({combine:t=>t.indexOf(!0)>-1}),Bn=i.V.newName(),Fn=i.V.newName(),zn=i.V.newName(),jn={"&light":"."+Fn,"&dark":"."+zn};function Vn(t,e,n){return new i.V(e,{finish:e=>/&/.test(e)?e.replace(/&\w*/,(e=>{if("&"==e)return t;if(!n||!n[e])throw new RangeError(`Unsupported selector: ${e}`);return n[e]})):t+" "+e})}const Wn=Vn("."+Bn,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},jn);class Hn{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(r.yy.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+="￿"}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let t=this.text.length;this.readNode(r);let i=r.nextSibling;if(i==e)break;let o=N.get(r),s=N.get(i);(o&&s?o.breakAfter:(o?o.breakAfter:v(r))||v(i)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>t)&&this.lineBreak(),r=i}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let i,o=-1,s=1;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(i=r.exec(e))&&(o=i.index,s=i[0].length),this.append(e.slice(n,o<0?e.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let e of this.points)e.node==t&&e.pos>this.text.length&&(e.pos-=s-1);n=o+s}}readNode(t){if(t.cmIgnore)return;let e=N.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let t=n.iter();!t.next().done;)t.lineBreak?this.lineBreak():this.append(t.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Un(t,n.node,n.offset)?e:0))}}function Un(t,e,n){for(;;){if(!e||n<w(e))return!1;if(e==t)return!0;n=m(e)+1,e=e.parentNode}}class $n{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class qn{constructor(t,e,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let e=o||s?[]:function(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new $n(n,r)),i==n&&o==r||e.push(new $n(i,o))),e}(t),n=new Hn(e,t.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(t,e){if(0==t.length)return null;let n=t[0].pos,i=2==t.length?t[1].pos:n;return n>-1&&i>-1?r.jT.single(n+e,i+e):null}(e,this.bounds.from)}else{let e=t.observer.selectionRange,n=o&&o.node==e.focusNode&&o.offset==e.focusOffset||!f(t.contentDOM,e.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(e.focusNode,e.focusOffset),i=s&&s.node==e.anchorNode&&s.offset==e.anchorOffset||!f(t.contentDOM,e.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(e.anchorNode,e.anchorOffset),l=t.viewport;if((X.ios||X.chrome)&&t.state.selection.main.empty&&n!=i&&(l.from>0||l.to<t.state.doc.length)){let e=Math.min(n,i),r=Math.max(n,i),o=l.from-e,s=l.to-r;0!=o&&1!=o&&0!=e||0!=s&&-1!=s&&r!=t.state.doc.length||(n=0,i=t.state.doc.length)}this.newSel=r.jT.single(i,n)}}}function Kn(t,e){let n,{newSel:i}=e,o=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:i,to:l}=e.bounds,a=o.from,c=null;(8===s||X.android&&e.text.length<l-i)&&(a=o.to,c="end");let u=function(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,l=e.length;for(;s>0&&l>0&&t.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;return"end"==r&&(n-=s+Math.max(0,o-Math.min(s,l))-o),s<o&&t.length<e.length?(o-=n<=o&&n>=s?o-n:0,l=o+(l-s),s=o):l<o&&(o-=n<=o&&n>=l?o-n:0,s=o+(s-l),l=o),{from:o,toA:s,toB:l}}(t.state.doc.sliceString(i,l,"￿"),e.text,a-i,c);u&&(X.chrome&&13==s&&u.toB==u.from+2&&"￿￿"==e.text.slice(u.from,u.toB)&&u.toB--,n={from:i+u.from,to:i+u.toA,insert:r.xv.of(e.text.slice(u.from,u.toB).split("￿"))})}else i&&(!t.hasFocus&&t.state.facet(ee)||i.main.eq(o))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!o.empty&&i&&i.main.empty?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,o.to)}:n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:t.state.doc.slice(o.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,o.to))}:(X.mac||X.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==t.contentDOM.getAttribute("autocorrect")?(i&&2==n.insert.length&&(i=r.jT.single(i.main.anchor-1,i.main.head-1)),n={from:o.from,to:o.to,insert:r.xv.of([" "])}):X.chrome&&n&&n.from==n.to&&n.from==o.head&&"\n "==n.insert.toString()&&t.lineWrapping&&(i&&(i=r.jT.single(i.main.anchor-1,i.main.head-1)),n={from:o.from,to:o.to,insert:r.xv.of([" "])}),n){if(X.ios&&t.inputState.flushIOSKey(n))return!0;if(X.android&&(n.to==o.to&&(n.from==o.from||n.from==o.from-1&&" "==t.state.sliceDoc(n.from,o.from))&&1==n.insert.length&&2==n.insert.lines&&O(t.contentDOM,"Enter",13)||(n.from==o.from-1&&n.to==o.to&&0==n.insert.length||8==s&&n.insert.length<n.to-n.from&&n.to>o.head)&&O(t.contentDOM,"Backspace",8)||n.from==o.from&&n.to==o.to+1&&0==n.insert.length&&O(t.contentDOM,"Delete",46)))return!0;let e,l=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a=()=>e||(e=function(t,e,n){let i,o=t.state,s=o.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let n=s.from<e.from?o.sliceDoc(s.from,e.from):"",r=s.to>e.to?o.sliceDoc(e.to,s.to):"";i=o.replaceSelection(t.state.toText(n+e.insert.sliceString(0,void 0,t.state.lineBreak)+r))}else{let l=o.changes(e),a=n&&n.main.to<=l.newLength?n.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c,u=t.state.sliceDoc(e.from,e.to),h=n&&be(t,n.main.head);if(h){let t=e.insert.length-(e.to-e.from);c={from:h.from,to:h.to-t}}else c=t.state.doc.lineAt(s.head);let f=s.to-e.to,d=s.to-s.from;i=o.changeByRange((n=>{if(n.from==s.from&&n.to==s.to)return{changes:l,range:a||n.map(l)};let i=n.to-f,h=i-u.length;if(n.to-n.from!=d||t.state.sliceDoc(h,i)!=u||n.to>=c.from&&n.from<=c.to)return{range:n};let p=o.changes({from:h,to:i,insert:e.insert}),g=n.to-s.to;return{changes:p,range:a?r.jT.range(Math.max(0,a.anchor+g),Math.max(0,a.head+g)):n.map(p)}}))}else i={changes:l,selection:a&&o.selection.replaceRange(a)}}let l="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),o.update(i,{userEvent:l,scrollIntoView:!0})}(t,n,i));return t.state.facet(Kt).some((e=>e(t,n.from,n.to,l,a)))||t.dispatch(a()),!0}if(i&&!i.main.eq(o)){let e=!1,n="select";return t.inputState.lastSelectionTime>Date.now()-50&&("select"==t.inputState.lastSelectionOrigin&&(e=!0),n=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:e,userEvent:n}),!0}return!1}const Gn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Qn=X.ie&&X.ie_version<=11;class Yn{constructor(t){this.view=t,this.active=!1,this.selectionRange=new S,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((e=>{for(let t of e)this.queue.push(t);(X.ie&&X.ie_version<=11||X.ios&&t.composing)&&e.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Qn&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var t;(null===(t=this.view.docView)||void 0===t?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(t){("change"!=t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some(((e,n)=>e!=t[n])))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(ee)?n.root.activeElement!=this.dom:!d(n.dom,r))return;let i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(t)?e||(this.selectionChanged=!1):(X.ie&&X.ie_version<=11||X.android&&X.chrome)&&!n.state.selection.main.empty&&r.focusNode&&g(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=h(t.root);if(!e)return!1;let n=X.safari&&11==t.root.nodeType&&function(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom&&function(t,e){if(e.getComposedRanges){let n=e.getComposedRanges(t.root)[0];if(n)return Jn(t,n)}let n=null;function r(t){t.preventDefault(),t.stopImmediatePropagation(),n=t.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?Jn(t,n):null}(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let r=d(this.dom,n);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,w(n));;)if(r){if(1!=n.nodeType)return!1;let t=n.childNodes[r-1];"false"==t.contentEditable?r--:(n=t,r=w(n))}else{if(n==t)return!0;r=m(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);for(let t of this.scrollTargets=e)t.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Gn),Qn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Qn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let t=()=>{let t=this.delayedAndroidKey;t&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=t.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&t.force&&O(this.dom,t.key,t.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(t)}this.delayedAndroidKey&&"Enter"!=t||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let i of t){let t=this.readMutation(i);t&&(t.typeOver&&(r=!0),-1==e?({from:e,to:n}=t):(e=Math.min(t.from,e),n=Math.max(t.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&d(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new qn(this.view,t,e,n);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=Kn(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=Xn(e,t.previousSibling||t.target.previousSibling,-1),r=Xn(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener("change",this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener("change",this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let t of this.scrollTargets)t.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Xn(t,e,n){for(;e;){let r=N.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Jn(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return g(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}class Zn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:e}=t;this.dispatchTransactions=t.dispatchTransactions||e&&(t=>t.forEach((t=>e(t,this))))||(t=>this.update(t)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(t){for(;t;){if(t&&(9==t.nodeType||11==t.nodeType&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}(t.parent)||document,this.viewState=new An(t.state||r.yy.create(t)),t.scrollTo&&t.scrollTo.is(Zt)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(re).map((t=>new oe(t)));for(let t of this.plugins)t.update(this);this.observer=new Yn(this),this.inputState=new Re(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ye(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...t){let e=1==t.length&&t[0]instanceof r.YW?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,n=!1,i=!1,o=this.state;for(let e of t){if(e.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=e.state}if(this.destroyed)return void(this.viewState.state=o);let s=this.hasFocus,l=0,a=null;t.some((t=>t.annotation(on)))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=sn(o,s),a||(l=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(r.yy.phrases)!=this.state.facet(r.yy.phrases))return this.setState(o);e=ve.create(this,o,t),e.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let e of t){if(h&&(h=h.map(e.changes)),e.scrollIntoView){let{main:t}=e.state.selection;h=new Jt(t.empty?t:r.jT.cursor(t.head,t.head>t.anchor?-1:1))}for(let t of e.effects)t.is(Zt)&&(h=t.value.clip(this.state))}this.viewState.update(e,h),this.bidiCache=nr.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),n=this.docView.update(e),this.state.facet(ge)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some((t=>t.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(e.startState.facet(Nn)!=e.state.facet(Nn)&&(this.viewState.mustMeasureContent=!0),(n||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!e.empty)for(let t of this.state.facet(qt))try{t(e)}catch(t){te(this.state,t,"update listener")}(a||u)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!Kn(this,u)&&c.force&&O(this.contentDOM,c.key,c.keyCode)}))}setState(t){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let t of this.plugins)t.destroy(this);this.viewState=new An(t),this.plugins=t.facet(re).map((t=>new oe(t))),this.pluginMap.clear();for(let t of this.plugins)t.update(this);this.docView.destroy(),this.docView=new ye(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(re),n=t.state.facet(re);if(e!=n){let r=[];for(let i of n){let n=e.indexOf(i);if(n<0)r.push(new oe(i));else{let e=this.plugins[n];e.mustUpdate=t,r.push(e)}}for(let e of this.plugins)e.mustUpdate!=t&&e.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let e of this.plugins)e.mustUpdate=t;for(let t=0;t<this.plugins.length;t++)this.plugins[t].update(this);e!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(t){te(this.state,t,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let t=0;;t++){if(o<0)if(D(n))i=-1,o=this.viewState.heightMap.height;else{let t=this.viewState.scrollAnchorAt(r);i=t.from,o=t.top}this.updateState=1;let s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(t>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&s||([this.measureRequests,l]=[l,this.measureRequests]);let a=l.map((t=>{try{return t.read(this)}catch(t){return te(this.state,t),er}})),c=ve.create(this,this.state,[]),u=!1;c.flags|=s,e?e.flags|=s:e=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let t=0;t<l.length;t++)if(a[t]!=er)try{let e=l[t];e.write&&e.write(a[t],this)}catch(t){te(this.state,t)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}{let t=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-o;if(t>1||t<-1){r+=t,n.scrollTop=r/this.scaleY,o=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let t of this.state.facet(qt))t(e)}get themeClasses(){return Bn+" "+(this.state.facet(In)?zn:Fn)+" "+this.state.facet(Nn)}updateAttrs(){let t=rr(this,se,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(ee)?"true":"false",class:"cm-content",style:`${X.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),rr(this,le,e);let n=this.observer.ignore((()=>{let n=at(this.contentDOM,this.contentAttrs,e),r=at(this.dom,this.editorAttrs,t);return n||r}));return this.editorAttrs=t,this.contentAttrs=e,n}showAnnouncements(t){let e=!0;for(let n of t)for(let t of n.effects)t.is(Zn.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=t.value)}mountStyles(){this.styleModules=this.state.facet(ge);let t=this.state.facet(Zn.cspNonce);i.V.mount(this.root,this.styleModules.concat(Wn).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),t){if(this.measureRequests.indexOf(t)>-1)return;if(null!=t.key)for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t);this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(void 0===e||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find((e=>e.spec==t))||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,n){return Le(this,t,Pe(this,t,e,n))}moveByGroup(t,e){return Le(this,t,Pe(this,t,e,(e=>function(t,e,n){let i=t.state.charCategorizer(e),o=i(n);return t=>{let e=i(t);return o==r.D0.Space&&(o=e),o==e}}(this,t.head,e))))}visualLineSide(t,e){let n=this.bidiSpans(t),i=this.textDirectionAt(t.from),o=n[e?n.length-1:0];return r.jT.cursor(o.side(e,i)+t.from,o.forward(!e,i)?1:-1)}moveToLineBoundary(t,e,n=!0){return function(t,e,n,i){let o=De(t,e.head),s=i&&o.type==dt.Text&&(t.lineWrapping||o.widgetLineBreaks)?t.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head):null;if(s){let e=t.dom.getBoundingClientRect(),i=t.textDirectionAt(o.from),l=t.posAtCoords({x:n==(i==St.LTR)?e.right-1:e.left+1,y:(s.top+s.bottom)/2});if(null!=l)return r.jT.cursor(l,n?-1:1)}return r.jT.cursor(n?o.to:o.from,n?-1:1)}(this,t,e,n)}moveVertically(t,e,n){return Le(this,t,function(t,e,n,i){let o=e.head,s=n?1:-1;if(o==(n?t.state.doc.length:0))return r.jT.cursor(o,e.assoc);let l,a=e.goalColumn,c=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(o,e.assoc||-1),h=t.documentTop;if(u)null==a&&(a=u.left-c.left),l=s<0?u.top:u.bottom;else{let e=t.viewState.lineBlockAt(o);null==a&&(a=Math.min(c.right-c.left,t.defaultCharacterWidth*(o-e.from))),l=(s<0?e.top:e.bottom)+h}let f=c.left+a,d=null!=i?i:t.viewState.heightOracle.textHeight>>1;for(let e=0;;e+=10){let n=l+(d+e)*s,i=Oe(t,{x:f,y:n},!1,s);if(n<c.top||n>c.bottom||(s<0?i<o:i>o)){let e=t.docView.coordsForChar(i),o=!e||n<e.top?-1:1;return r.jT.cursor(i,o,void 0,a)}}}(this,t,e,n))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),Oe(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let n=this.docView.coordsAt(t,e);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(t),i=this.bidiSpans(r);return b(n,i[Lt.find(i,t-r.from,-1,e)].dir==St.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(Qt)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>tr)return Ft(t.length);let e,n=this.textDirectionAt(t.from);for(let r of this.bidiCache)if(r.from==t.from&&r.dir==n&&(r.fresh||Rt(r.isolates,e=fe(this,t))))return r.order;e||(e=fe(this,t));let r=function(t,e,n){if(!t)return[new Lt(0,0,e==Mt?1:0)];if(e==Ct&&!n.length&&!_t.test(t))return Ft(t.length);if(n.length)for(;t.length>Nt.length;)Nt[Nt.length]=256;let r=[],i=e==Ct?0:1;return Bt(t,i,i,n,0,t.length,r),r}(t.text,n,e);return this.bidiCache.push(new nr(t.from,t.to,n,e,!0,r)),r}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||X.safari&&(null===(t=this.inputState)||void 0===t?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{E(this.contentDOM),this.docView.updateSelection()}))}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((9==t.nodeType?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return Zt.of(new Jt("number"==typeof t?r.jT.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,n=this.viewState.scrollAnchorAt(t);return Zt.of(new Jt(r.jT.cursor(n.from),"start","start",n.top-t,e,!0))}setTabFocusMode(t){null==t?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof t?this.inputState.tabFocusMode=t?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return ie.define((()=>({})),{eventHandlers:t})}static domEventObservers(t){return ie.define((()=>({})),{eventObservers:t})}static theme(t,e){let n=i.V.newName(),r=[Nn.of(n),ge.of(Vn(`.${n}`,t))];return e&&e.dark&&r.push(In.of(!0)),r}static baseTheme(t){return r.Wl.lowest(ge.of(Vn("."+Bn,t,jn)))}static findFromDOM(t){var e;let n=t.querySelector(".cm-content"),r=n&&N.get(n)||N.get(t);return(null===(e=null==r?void 0:r.rootView)||void 0===e?void 0:e.view)||null}}Zn.styleModule=ge,Zn.inputHandler=Kt,Zn.scrollHandler=Xt,Zn.focusChangeEffect=Gt,Zn.perLineTextDirection=Qt,Zn.exceptionSink=$t,Zn.updateListener=qt,Zn.editable=ee,Zn.mouseSelectionStyle=Ut,Zn.dragMovesSelection=Ht,Zn.clickAddsSelectionRange=Wt,Zn.decorations=ae,Zn.outerDecorations=ce,Zn.atomicRanges=ue,Zn.bidiIsolatedRanges=he,Zn.scrollMargins=de,Zn.darkTheme=In,Zn.cspNonce=r.r$.define({combine:t=>t.length?t[0]:""}),Zn.contentAttributes=le,Zn.editorAttributes=se,Zn.lineWrapping=Zn.contentAttributes.of({class:"cm-lineWrapping"}),Zn.announce=r.Py.define();const tr=4096,er={};class nr{constructor(t,e,n,r,i,o){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=i,this.order=o}static update(t,e){if(e.empty&&!t.some((t=>t.fresh)))return t;let n=[],r=t.length?t[t.length-1].dir:St.LTR;for(let i=Math.max(0,t.length-10);i<t.length;i++){let o=t[i];o.dir!=r||e.touchesRange(o.from,o.to)||n.push(new nr(e.mapPos(o.from,1),e.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function rr(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let e=r[i],o="function"==typeof e?e(t):e;o&&ot(o,n)}return n}const ir=X.mac?"mac":X.windows?"win":X.linux?"linux":"key";function or(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}const sr=r.Wl.default(Zn.domEventHandlers({keydown:(t,e)=>dr(cr(e.state),t,e,"editor")})),lr=r.r$.define({enables:sr}),ar=new WeakMap;function cr(t){let e=t.facet(lr),n=ar.get(e);return n||ar.set(e,n=function(t,e=ir){let n=Object.create(null),r=Object.create(null),i=(t,e)=>{let n=r[t];if(null==n)r[t]=e;else if(n!=e)throw new Error("Key binding "+t+" is used both as a regular binding and as a multi-stroke prefix")},o=(t,r,o,s,l)=>{var a,c;let u=n[t]||(n[t]=Object.create(null)),h=r.split(/ (?!$)/).map((t=>function(t,e){const n=t.split(/-(?!$)/);let r,i,o,s,l=n[n.length-1];"Space"==l&&(l=" ");for(let t=0;t<n.length-1;++t){const l=n[t];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);"mac"==e?s=!0:i=!0}}return r&&(l="Alt-"+l),i&&(l="Ctrl-"+l),s&&(l="Meta-"+l),o&&(l="Shift-"+l),l}(t,e)));for(let e=1;e<h.length;e++){let n=h.slice(0,e).join(" ");i(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[e=>{let r=hr={view:e,prefix:n,scope:t};return setTimeout((()=>{hr==r&&(hr=null)}),4e3),!0}]})}let f=h.join(" ");i(f,!1);let d=u[f]||(u[f]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(a=u._any)||void 0===a?void 0:a.run)||void 0===c?void 0:c.slice())||[]});o&&d.run.push(o),s&&(d.preventDefault=!0),l&&(d.stopPropagation=!0)};for(let r of t){let t=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let e of t){let t=n[e]||(n[e]=Object.create(null));t._any||(t._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:i}=r;for(let e in t)t[e].run.push((t=>i(t,fr)))}let i=r[e]||r.key;if(i)for(let e of t)o(e,i,r.run,r.preventDefault,r.stopPropagation),r.shift&&o(e,"Shift-"+i,r.shift,r.preventDefault,r.stopPropagation)}return n}(e.reduce(((t,e)=>t.concat(e)),[]))),n}function ur(t,e,n){return dr(cr(t.state),e,t,n)}let hr=null,fr=null;function dr(t,e,n,i){fr=e;let c=function(t){var e=!(l&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||a&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?s:o)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(e),u=(0,r.gm)(c,0),h=(0,r.nZ)(u)==c.length&&" "!=c,f="",d=!1,p=!1,g=!1;hr&&hr.view==n&&hr.scope==i&&(f=hr.prefix+" ",ze.indexOf(e.keyCode)<0&&(p=!0,hr=null));let m,v,y=new Set,w=t=>{if(t){for(let e of t.run)if(!y.has(e)&&(y.add(e),e(n)))return t.stopPropagation&&(g=!0),!0;t.preventDefault&&(t.stopPropagation&&(g=!0),p=!0)}return!1},b=t[i];return b&&(w(b[f+or(c,e,!h)])?d=!0:h&&(e.altKey||e.metaKey||e.ctrlKey)&&!(X.windows&&e.ctrlKey&&e.altKey)&&(m=o[e.keyCode])&&m!=c?(w(b[f+or(m,e,!0)])||e.shiftKey&&(v=s[e.keyCode])!=c&&v!=m&&w(b[f+or(v,e,!1)]))&&(d=!0):h&&e.shiftKey&&w(b[f+or(c,e,!0)])&&(d=!0),!d&&w(b._any)&&(d=!0)),p&&(d=!0),d&&g&&e.stopPropagation(),fr=null,d}class pr{constructor(t,e,n,r,i){this.className=t,this.left=e,this.top=n,this.width=r,this.height=i}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let i=gr(t);return[new pr(e,r.left-i.left,r.top-i.top,null,r.bottom-r.top)]}return function(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==St.LTR,s=t.contentDOM,l=s.getBoundingClientRect(),a=gr(t),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=l.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=l.right-(u?parseInt(u.paddingRight):0),d=De(t,r),p=De(t,i),g=d.type==dt.Text?d:null,m=p.type==dt.Text?p:null;if(g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=mr(t,r,1,g)),m&&(t.lineWrapping||p.widgetLineBreaks)&&(m=mr(t,i,-1,m)),g&&m&&g.from==m.from&&g.to==m.to)return y(w(n.from,n.to,g));{let e=g?w(n.from,null,g):b(d,!1),r=m?w(null,n.to,m):b(p,!0),i=[];return(g||d).to<(m||p).from-(g&&m?1:0)||d.widgetLineBreaks>1&&e.bottom+t.defaultLineHeight/2<r.top?i.push(v(h,e.bottom,f,r.top)):e.bottom<r.top&&t.elementAtHeight((e.bottom+r.top)/2).type==dt.Text&&(e.bottom=r.top=(e.bottom+r.top)/2),y(e).concat(i).concat(y(r))}function v(t,n,r,i){return new pr(e,t-a.left,n-a.top-.01,r-t,i-n+.01)}function y({top:t,bottom:e,horizontal:n}){let r=[];for(let i=0;i<n.length;i+=2)r.push(v(n[i],t,n[i+1],e));return r}function w(e,n,r){let i=1e9,s=-1e9,l=[];function a(e,n,a,c,u){let d=t.coordsAtPos(e,e==r.to?-2:2),p=t.coordsAtPos(a,a==r.from?2:-2);d&&p&&(i=Math.min(d.top,p.top,i),s=Math.max(d.bottom,p.bottom,s),u==St.LTR?l.push(o&&n?h:d.left,o&&c?f:p.right):l.push(!o&&c?h:p.left,!o&&n?f:d.right))}let c=null!=e?e:r.from,u=null!=n?n:r.to;for(let r of t.visibleRanges)if(r.to>c&&r.from<u)for(let i=Math.max(r.from,c),o=Math.min(r.to,u);;){let r=t.state.doc.lineAt(i);for(let s of t.bidiSpans(r)){let t=s.from+r.from,l=s.to+r.from;if(t>=o)break;l>i&&a(Math.max(t,i),null==e&&t<=c,Math.min(l,o),null==n&&l>=u,s.dir)}if(i=r.to+1,i>=o)break}return 0==l.length&&a(c,null==e,u,null==n,t.textDirection),{top:i,bottom:s,horizontal:l}}function b(t,e){let n=l.top+(e?t.top:t.bottom);return{top:n,bottom:n,horizontal:[]}}}(t,e,n)}}function gr(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==St.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function mr(t,e,n,r){let i=t.coordsAtPos(e,2*n);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,l=t.posAtCoords({x:o.left+1,y:s}),a=t.posAtCoords({x:o.right-1,y:s});return null==l||null==a?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}class vr{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(yr)!=t.state.facet(yr)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){!1!==this.layer.updateOnDocViewUpdate&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,n=t.facet(yr);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some(((t,e)=>{return n=t,r=this.drawn[e],!(n.constructor==r.constructor&&n.eq(r));var n,r}))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let t=e.nextSibling;e.remove(),e=t}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const yr=r.r$.define();function wr(t){return[ie.define((e=>new vr(e,t))),yr.of(t)]}const br=!X.ios,xr=r.r$.define({combine:t=>(0,r.BO)(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function kr(t={}){return[xr.of(t),Cr,Er,Or,Yt.of(!0)]}function Sr(t){return t.startState.facet(xr)!=t.state.facet(xr)}const Cr=wr({above:!0,markers(t){let{state:e}=t,n=e.facet(xr),i=[];for(let o of e.selection.ranges){let s=o==e.selection.main;if(o.empty?!s||br:n.drawRangeCursor){let e=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=o.empty?o:r.jT.cursor(o.head,o.head>o.anchor?-1:1);for(let r of pr.forRange(t,e,n))i.push(r)}}return i},update(t,e){t.transactions.some((t=>t.selection))&&(e.style.animationName="cm-blink"==e.style.animationName?"cm-blink2":"cm-blink");let n=Sr(t);return n&&Mr(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){Mr(e.state,t)},class:"cm-cursorLayer"});function Mr(t,e){e.style.animationDuration=t.facet(xr).cursorBlinkRate+"ms"}const Er=wr({above:!1,markers:t=>t.state.selection.ranges.map((e=>e.empty?[]:pr.forRange(t,"cm-selectionBackground",e))).reduce(((t,e)=>t.concat(e))),update:(t,e)=>t.docChanged||t.selectionSet||t.viewportChanged||Sr(t),class:"cm-selectionLayer"}),Ar={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};br&&(Ar[".cm-line"].caretColor=Ar[".cm-content"].caretColor="transparent !important");const Or=r.Wl.highest(Zn.theme(Ar)),Tr=r.Py.define({map:(t,e)=>null==t?null:e.mapPos(t)}),Dr=r.QQ.define({create:()=>null,update:(t,e)=>(null!=t&&(t=e.changes.mapPos(t)),e.effects.reduce(((t,e)=>e.is(Tr)?e.value:t),t))}),Pr=ie.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Dr);null==n?null!=this.cursor&&(null===(e=this.cursor)||void 0===e||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Dr)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Dr),n=null!=e&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Dr)!=t&&this.view.dispatch({effects:Tr.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){t.target!=this.view.contentDOM&&this.view.contentDOM.contains(t.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function _r(){return[Dr,Pr]}function Lr(t,e,n,r,i){e.lastIndex=0;for(let o,s=t.iterRange(n,r),l=n;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(l+o.index,o)}class Rr{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:i,maxLength:o=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(t,e,n,i)=>r(i,n,n+t[0].length,t,e);else if("function"==typeof n)this.addMatch=(t,e,r,i)=>{let o=n(t,e,r);o&&i(r,r+t[0].length,o)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(t,e,r,i)=>i(r,r+t[0].length,n)}this.boundary=i,this.maxLength=o}createDeco(t){let e=new r.f_,n=e.add.bind(e);for(let{from:e,to:r}of function(t,e){let n=t.visibleRanges;if(1==n.length&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}(t,this.maxLength))Lr(t.state.doc,this.regexp,e,r,((e,r)=>this.addMatch(r,t,e,n)));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges(((e,i,o,s)=>{s>t.view.viewport.from&&o<t.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))})),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let i of t.visibleRanges){let o=Math.max(i.from,n),s=Math.min(i.to,r);if(s>o){let n=t.state.doc.lineAt(o),r=n.to<s?t.state.doc.lineAt(s):n,l=Math.max(i.from,n.from),a=Math.min(i.to,r.to);if(this.boundary){for(;o>n.from;o--)if(this.boundary.test(n.text[o-1-n.from])){l=o;break}for(;s<r.to;s++)if(this.boundary.test(r.text[s-r.from])){a=s;break}}let c,u=[],h=(t,e,n)=>u.push(n.range(t,e));if(n==r)for(this.regexp.lastIndex=l-n.from;(c=this.regexp.exec(n.text))&&c.index<a-n.from;)this.addMatch(c,t,c.index+n.from,h);else Lr(t.state.doc,this.regexp,l,a,((e,n)=>this.addMatch(n,t,e,h)));e=e.update({filterFrom:l,filterTo:a,filter:(t,e)=>t<l||e>a,add:u})}}return e}}const Nr=null!=/x/.unicode?"gu":"g",Ir=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Nr),Br={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Fr=null;const zr=r.r$.define({combine(t){let e=(0,r.BO)(t,{render:null,specialChars:Ir,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(null==Fr&&"undefined"!=typeof document&&document.body){let e=document.body.style;Fr=null!=(null!==(t=e.tabSize)&&void 0!==t?t:e.MozTabSize)}return Fr||!1}())&&(e.specialChars=new RegExp("\t|"+e.specialChars.source,Nr)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Nr)),e}});function jr(t={}){return[zr.of(t),Vr||(Vr=ie.fromClass(class{constructor(t){this.view=t,this.decorations=pt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(zr)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Rr({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:o}=n.state,s=(0,r.gm)(e[0],0);if(9==s){let t=o.lineAt(i),e=n.state.tabSize,s=(0,r.IS)(t.text,e,i-t.from);return pt.replace({widget:new Hr((e-s%e)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=pt.replace({widget:new Wr(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(zr);t.startState.facet(zr)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let Vr=null;class Wr extends ft{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(t){return t>=32?"•":10==t?"␤":String.fromCharCode(9216+t)}(this.code),n=t.state.phrase("Control character")+" "+(Br[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let i=document.createElement("span");return i.textContent=e,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Hr extends ft{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function Ur(){return qr}const $r=pt.line({class:"cm-activeLine"}),qr=ie.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push($r.range(i.from)),e=i.from)}return pt.set(n)}},{decorations:t=>t.decorations}),Kr=2e3;function Gr(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),o=n-i.from,s=o>Kr?-1:o==i.length?function(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}(t,e.clientX):(0,r.IS)(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:s,off:o}}function Qr(t){let e=(null==t?void 0:t.eventFilter)||(t=>t.altKey&&0==t.button);return Zn.mouseSelectionStyle.of(((t,n)=>e(n)?function(t,e){let n=Gr(t,e),i=t.state.selection;return n?{update(t){if(t.docChanged){let e=t.changes.mapPos(t.startState.doc.line(n.line).from),r=t.state.doc.lineAt(e);n={line:r.number,col:n.col,off:Math.min(n.off,r.length)},i=i.map(t.changes)}},get(e,o,s){let l=Gr(t,e);if(!l)return i;let a=function(t,e,n){let i=Math.min(e.line,n.line),o=Math.max(e.line,n.line),s=[];if(e.off>Kr||n.off>Kr||e.col<0||n.col<0){let l=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let e=i;e<=o;e++){let n=t.doc.line(e);n.length<=a&&s.push(r.jT.range(n.from+l,n.to+a))}}else{let l=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let e=i;e<=o;e++){let n=t.doc.line(e),i=(0,r.Gz)(n.text,l,t.tabSize,!0);if(i<0)s.push(r.jT.cursor(n.to));else{let e=(0,r.Gz)(n.text,a,t.tabSize);s.push(r.jT.range(n.from+i,n.from+e))}}}return s}(t.state,n,l);return a.length?s?r.jT.create(a.concat(i.ranges)):r.jT.create(a):i}}:null}(t,n):null))}const Yr={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},Xr={style:"cursor: crosshair"};function Jr(t={}){let[e,n]=Yr[t.key||"Alt"],r=ie.fromClass(class{constructor(t){this.view=t,this.isDown=!1}set(t){this.isDown!=t&&(this.isDown=t,this.view.update([]))}},{eventObservers:{keydown(t){this.set(t.keyCode==e||n(t))},keyup(t){t.keyCode!=e&&n(t)||this.set(!1)},mousemove(t){this.set(n(t))}}});return[r,Zn.contentAttributes.of((t=>{var e;return(null===(e=t.plugin(r))||void 0===e?void 0:e.isDown)?Xr:null}))]}const Zr="-10000px";class ti{constructor(t,e,n,r){this.facet=e,this.createTooltipView=n,this.removeTooltipView=r,this.input=t.state.facet(e),this.tooltips=this.input.filter((t=>t));let i=null;this.tooltipViews=this.tooltips.map((t=>i=n(t,i)))}update(t,e){var n;let r=t.state.facet(this.facet),i=r.filter((t=>t));if(r===this.input){for(let e of this.tooltipViews)e.update&&e.update(t);return!1}let o=[],s=e?[]:null;for(let n=0;n<i.length;n++){let r=i[n],l=-1;if(r){for(let t=0;t<this.tooltips.length;t++){let e=this.tooltips[t];e&&e.create==r.create&&(l=t)}if(l<0)o[n]=this.createTooltipView(r,n?o[n-1]:null),s&&(s[n]=!!r.above);else{let r=o[n]=this.tooltipViews[l];s&&(s[n]=e[l]),r.update&&r.update(t)}}}for(let t of this.tooltipViews)o.indexOf(t)<0&&(this.removeTooltipView(t),null===(n=t.destroy)||void 0===n||n.call(t));return e&&(s.forEach(((t,n)=>e[n]=t)),e.length=s.length),this.input=r,this.tooltips=i,this.tooltipViews=o,!0}}function ei(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const ni=r.r$.define({combine:t=>{var e,n,r;return{position:X.ios?"absolute":(null===(e=t.find((t=>t.position)))||void 0===e?void 0:e.position)||"fixed",parent:(null===(n=t.find((t=>t.parent)))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=t.find((t=>t.tooltipSpace)))||void 0===r?void 0:r.tooltipSpace)||ei}}}),ri=new WeakMap,ii=ie.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(ni);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver((()=>this.measureSoon())):null,this.manager=new ti(t,li,((t,e)=>this.createTooltip(t,e)),(t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()})),this.above=this.manager.tooltips.map((t=>!!t.above)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout((()=>{this.measureTimeout=-1,this.maybeMeasure()}),50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(ni);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let t of this.manager.tooltipViews)t.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let t of this.manager.tooltipViews)this.container.appendChild(t.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",n.dom.appendChild(t)}return n.dom.style.position=this.position,n.dom.style.top=Zr,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(t=e.destroy)||void 0===t||t.call(e);this.parent&&this.container.remove(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.intersectionObserver)||void 0===n||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:t}=this.manager.tooltipViews[0];if(X.gecko)r=t.offsetParent!=this.container.ownerDocument.body;else if(t.style.top==Zr&&"0px"==t.style.left){let e=t.getBoundingClientRect();r=Math.abs(e.top+1e4)>1||Math.abs(e.left)>1}}if(r||"absolute"==this.position)if(this.parent){let t=this.parent.getBoundingClientRect();t.width&&t.height&&(e=t.width/this.parent.offsetWidth,n=t.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(((t,e)=>{let n=this.manager.tooltipViews[e];return n.getCoords?n.getCoords(t.pos):this.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((({dom:t})=>t.getBoundingClientRect())),space:this.view.state.facet(ni).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let t of this.manager.tooltipViews)t.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],c=this.manager.tooltipViews[l],{dom:u}=c,h=t.pos[l],f=t.size[l];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){u.style.top=Zr;continue}let d=a.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,g=f.right-f.left,m=null!==(e=ri.get(c))&&void 0!==e?e:f.bottom-f.top,v=c.offset||si,y=this.view.textDirection==St.LTR,w=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.min(h.left-(d?14:0)+v.x,r.right-g):Math.max(r.left,h.left-g+(d?14:0)-v.x),b=this.above[l];!a.strictSide&&(b?h.top-(f.bottom-f.top)-v.y<r.top:h.bottom+(f.bottom-f.top)+v.y>r.bottom)&&b==r.bottom-h.bottom>h.top-r.top&&(b=this.above[l]=!b);let x=(b?h.top-r.top:r.bottom-h.bottom)-p;if(x<m&&!1!==c.resize){if(x<this.view.defaultLineHeight){u.style.top=Zr;continue}ri.set(c,m),u.style.height=(m=x)/o+"px"}else u.style.height&&(u.style.height="");let k=b?h.top-m-p-v.y:h.bottom+p+v.y,S=w+g;if(!0!==c.overlap)for(let t of s)t.left<S&&t.right>w&&t.top<k+m&&t.bottom>k&&(k=b?t.top-m-2-p:t.bottom+p+2);if("absolute"==this.position?(u.style.top=(k-t.parent.top)/o+"px",u.style.left=(w-t.parent.left)/i+"px"):(u.style.top=k/o+"px",u.style.left=w/i+"px"),d){let t=h.left+(y?v.x:-v.x)-(w+14-7);d.style.left=t/i+"px"}!0!==c.overlap&&s.push({left:w,top:k,right:S,bottom:k+m}),u.classList.toggle("cm-tooltip-above",b),u.classList.toggle("cm-tooltip-below",!b),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Zr}},{eventObservers:{scroll(){this.maybeMeasure()}}}),oi=Zn.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),si={x:0,y:0},li=r.r$.define({enables:[ii,oi]}),ai=r.r$.define({combine:t=>t.reduce(((t,e)=>t.concat(e)),[])});class ci{static create(t){return new ci(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new ti(t,ai,((t,e)=>this.createHostedView(t,e)),(t=>t.dom.remove()))}createHostedView(t,e){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const ui=li.compute([ai],(t=>{let e=t.facet(ai);return 0===e.length?null:{pos:Math.min(...e.map((t=>t.pos))),end:Math.max(...e.map((t=>{var e;return null!==(e=t.end)&&void 0!==e?e:t.pos}))),create:ci.create,above:e[0].above,arrow:e.some((t=>t.arrow))}}));class hi{constructor(t,e,n,r,i){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((()=>this.startHover()),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,i=1;if(n instanceof tt)r=n.posAtStart;else{if(r=t.posAtCoords(e),null==r)return;let n=t.coordsAtPos(r);if(!n||e.y<n.top||e.y>n.bottom||e.x<n.left-t.defaultCharacterWidth||e.x>n.right+t.defaultCharacterWidth)return;let o=t.bidiSpans(t.state.doc.lineAt(r)).find((t=>t.from<=r&&t.to>=r)),s=o&&o.dir==St.RTL?-1:1;i=e.x<n.left?-s:s}let o=this.source(t,r,i);if(null==o?void 0:o.then){let e=this.pending={pos:r};o.then((n=>{this.pending==e&&(this.pending=null,!n||Array.isArray(n)&&!n.length||t.dispatch({effects:this.setHover.of(Array.isArray(n)?n:[n])}))}),(e=>te(t.state,e,"hover tooltip")))}else!o||Array.isArray(o)&&!o.length||t.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let t=this.view.plugin(ii),e=t?t.manager.tooltips.findIndex((t=>t.create==ci.create)):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r.length&&i&&!function(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-4&&e.clientX<=n.right+4&&e.clientY>=n.top-4&&e.clientY<=n.bottom+4}(i.dom,t)||this.pending){let{pos:i}=r[0]||this.pending,o=null!==(n=null===(e=r[0])||void 0===e?void 0:e.end)&&void 0!==n?n:i;(i==o?this.view.posAtCoords(this.lastMove)==i:function(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),l=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,l)<i)return!1;let a=t.posAtCoords({x:r,y:i},!1);return a>=e&&a<=n}(this.view,i,o,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:e}=this;e&&e.dom.contains(t.relatedTarget)?this.watchTooltipLeave(e.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function fi(t,e={}){let n=r.Py.define(),i=r.QQ.define({create:()=>[],update(t,i){if(t.length&&(e.hideOnChange&&(i.docChanged||i.selection)?t=[]:e.hideOn&&(t=t.filter((t=>!e.hideOn(i,t)))),i.docChanged)){let e=[];for(let n of t){let t=i.changes.mapPos(n.pos,-1,r.gc.TrackDel);if(null!=t){let r=Object.assign(Object.create(null),n);r.pos=t,null!=r.end&&(r.end=i.changes.mapPos(r.end)),e.push(r)}}t=e}for(let e of i.effects)e.is(n)&&(t=e.value),e.is(pi)&&(t=[]);return t},provide:t=>ai.from(t)});return[i,ie.define((r=>new hi(r,t,i,n,e.hoverTime||300))),ui]}function di(t,e){let n=t.plugin(ii);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const pi=r.Py.define(),gi=r.r$.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function mi(t,e){let n=t.plugin(vi),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const vi=ie.fromClass(class{constructor(t){this.input=t.state.facet(bi),this.specs=this.input.filter((t=>t)),this.panels=this.specs.map((e=>e(t)));let e=t.state.facet(gi);this.top=new yi(t,!0,e.topContainer),this.bottom=new yi(t,!1,e.bottomContainer),this.top.sync(this.panels.filter((t=>t.top))),this.bottom.sync(this.panels.filter((t=>!t.top)));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(t){let e=t.state.facet(gi);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new yi(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new yi(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(bi);if(n!=this.input){let e=n.filter((t=>t)),r=[],i=[],o=[],s=[];for(let n of e){let e,l=this.specs.indexOf(n);l<0?(e=n(t.view),s.push(e)):(e=this.panels[l],e.update&&e.update(t)),r.push(e),(e.top?i:o).push(e)}this.specs=e,this.panels=r,this.top.sync(i),this.bottom.sync(o);for(let t of s)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}else for(let e of this.panels)e.update&&e.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Zn.scrollMargins.of((e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class yi{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=wi(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=wi(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function wi(t){let e=t.nextSibling;return t.remove(),e}const bi=r.r$.define({enables:vi});class xi extends r.uU{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}xi.prototype.elementClass="",xi.prototype.toDOM=void 0,xi.prototype.mapMode=r.gc.TrackBefore,xi.prototype.startSide=xi.prototype.endSide=-1,xi.prototype.point=!0;const ki=r.r$.define(),Si={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>r.Xs.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ci=r.r$.define();function Mi(t){return[Ai(),Ci.of(Object.assign(Object.assign({},Si),t))]}const Ei=r.r$.define({combine:t=>t.some((t=>t))});function Ai(t){let e=[Oi];return t&&!1===t.fixed&&e.push(Ei.of(!0)),e}const Oi=ie.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Ci).map((e=>new _i(t,e)));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!t.state.facet(Ei),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Ei)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=r.Xs.iter(this.view.state.facet(ki),this.view.viewport.from),i=[],o=this.gutters.map((t=>new Pi(t,this.view.viewport,-this.view.documentPadding.top)));for(let t of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(t.type)){let e=!0;for(let r of t.type)if(r.type==dt.Text&&e){Di(n,i,r.from);for(let t of o)t.line(this.view,r,i);e=!1}else if(r.widget)for(let t of o)t.widget(this.view,r)}else if(t.type==dt.Text){Di(n,i,t.from);for(let e of o)e.line(this.view,t,i)}else if(t.widget)for(let e of o)e.widget(this.view,t);for(let t of o)t.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ci),n=t.state.facet(Ci),i=t.docChanged||t.heightChanged||t.viewportChanged||!r.Xs.eq(t.startState.facet(ki),t.state.facet(ki),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let e of this.gutters)e.update(t)&&(i=!0);else{i=!0;let r=[];for(let i of n){let n=e.indexOf(i);n<0?r.push(new _i(this.view,i)):(this.gutters[n].update(t),r.push(this.gutters[n]))}for(let t of this.gutters)t.dom.remove(),r.indexOf(t)<0&&t.destroy();for(let t of r)this.dom.appendChild(t.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Zn.scrollMargins.of((e=>{let n=e.plugin(t);return n&&0!=n.gutters.length&&n.fixed?e.textDirection==St.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}:null}))});function Ti(t){return Array.isArray(t)?t:[t]}function Di(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Pi{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=r.Xs.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,i=(e.top-this.height)/t.scaleY,o=e.height/t.scaleY;if(this.i==r.elements.length){let e=new Li(t,o,i,n);r.elements.push(e),r.dom.appendChild(e.dom)}else r.elements[this.i].update(t,o,i,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];Di(this.cursor,r,e.from),n.length&&(r=r.concat(n));let i=this.gutter.config.lineMarker(t,e,r);i&&r.unshift(i);let o=this.gutter;(0!=r.length||o.config.renderEmptyElements)&&this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e);n&&this.addElement(t,e,[n])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class _i{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,(r=>{let i,o=r.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let t=o.getBoundingClientRect();i=(t.top+t.bottom)/2}else i=r.clientY;let s=t.lineBlockAtHeight(i-t.documentTop);e.domEventHandlers[n](t,s,r)&&r.preventDefault()}));this.markers=Ti(e.markers(t)),e.initialSpacer&&(this.spacer=new Li(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Ti(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let e=this.config.updateSpacer(this.spacer.markers[0],t);e!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[e])}let n=t.view.viewport;return!r.Xs.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class Li{constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let i=0,o=0;;){let s=o,l=i<e.length?e[i++]:null,a=!1;if(l){let t=l.elementClass;t&&(n+=" "+t);for(let t=o;t<this.markers.length;t++)if(this.markers[t].compare(l)){s=t,a=!0;break}}else s=this.markers.length;for(;o<s;){let t=this.markers[o++];if(t.toDOM){t.destroy(r);let e=r.nextSibling;r.remove(),r=e}}if(!l)break;l.toDOM&&(a?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),a&&o++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const Ri=r.r$.define(),Ni=r.r$.define({combine:t=>(0,r.BO)(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let t in e){let r=n[t],i=e[t];n[t]=r?(t,e,n)=>r(t,e,n)||i(t,e,n):i}return n}})});class Ii extends xi{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Bi(t,e){return t.state.facet(Ni).formatNumber(e,t.state)}const Fi=Ci.compute([Ni],(t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(Ri),lineMarker:(t,e,n)=>n.some((t=>t.toDOM))?null:new Ii(Bi(t,t.state.doc.lineAt(e.from).number)),widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Ni)!=t.state.facet(Ni),initialSpacer:t=>new Ii(Bi(t,ji(t.state.doc.lines))),updateSpacer(t,e){let n=Bi(e.view,ji(e.view.state.doc.lines));return n==t.number?t:new Ii(n)},domEventHandlers:t.facet(Ni).domEventHandlers})));function zi(t={}){return[Ni.of(t),Ai(),Fi]}function ji(t){let e=9;for(;e<t;)e=10*e+9;return e}const Vi=new class extends xi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Wi=ki.compute(["selection"],(t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Vi.range(i)))}return r.Xs.of(e)}));function Hi(){return Wi}},6583:(t,e,n)=>{"use strict";n.d(e,{Xy:()=>Lo});var r=n(6485),i=n(8120);const o=1024;let s=0;class l{constructor(t,e){this.from=t,this.to=e}}class a{constructor(t={}){this.id=s++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=h.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}a.closedBy=new a({deserialize:t=>t.split(" ")}),a.openedBy=new a({deserialize:t=>t.split(" ")}),a.group=new a({deserialize:t=>t.split(" ")}),a.isolate=new a({deserialize:t=>{if(t&&"rtl"!=t&&"ltr"!=t&&"auto"!=t)throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}}),a.contextHash=new a({perNode:!0}),a.lookAhead=new a({perNode:!0}),a.mounted=new a({perNode:!0});class c{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[a.mounted.id]}}const u=Object.create(null);class h{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):u,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),r=new h(t.name||"",e,t.id,n);if(t.props)for(let n of t.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[n[0].id]=n[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(a.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return t=>{for(let n=t.prop(a.group),r=-1;r<(n?n.length:0);r++){let i=e[r<0?t.name:n[r]];if(i)return i}}}}h.none=new h("",Object.create(null),0,8);const f=new WeakMap,d=new WeakMap;var p;!function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"}(p||(p={}));class g{constructor(t,e,n,r,i){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,i&&i.length){this.props=Object.create(null);for(let[t,e]of i)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=c.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let t of this.children){let n=t.toString();n&&(e&&(e+=","),e+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new O(this.topNode,t)}cursorAt(t,e=0,n=0){let r=f.get(this)||this.topNode,i=new O(r);return i.moveTo(t,e),f.set(this,i._tree),i}get topNode(){return new x(this,0,0,null)}resolve(t,e=0){let n=w(f.get(this)||this.topNode,t,e,!1);return f.set(this,n),n}resolveInner(t,e=0){let n=w(d.get(this)||this.topNode,t,e,!0);return d.set(this,n),n}resolveStack(t,e=0){return function(t,e,n){let r=t.resolveInner(e,n),i=null;for(let t=r instanceof x?r:r.context.parent;t;t=t.parent)if(t.index<0){let o=t.parent;(i||(i=[r])).push(o.resolve(e,n)),t=o}else{let o=c.get(t.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let s=new x(o.tree,o.overlay[0].from+t.from,-1,t);(i||(i=[r])).push(w(s,e,n,!1))}}return i?E(i):r}(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:i=this.length}=t,o=t.mode||0,s=(o&p.IncludeAnonymous)>0;for(let t=this.cursor(o|p.IncludeAnonymous);;){let o=!1;if(t.from<=i&&t.to>=r&&(!s&&t.type.isAnonymous||!1!==e(t))){if(t.firstChild())continue;o=!0}for(;o&&n&&(s||!t.type.isAnonymous)&&n(t),!t.nextSibling();){if(!t.parent())return;o=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:_(h.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new g(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new g(h.none,t,e,n)))}static build(t){return function(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=o,reused:s=[],minRepeatType:l=r.types.length}=t,c=Array.isArray(n)?new m(n,n.length):n,u=r.types,h=0,f=0;function d(t,e,n,o,m,x){let{id:k,start:S,end:C,size:M}=c,E=f;for(;M<0;){if(c.next(),-1==M){let e=s[k];return n.push(e),void o.push(S-t)}if(-3==M)return void(h=k);if(-4==M)return void(f=k);throw new RangeError(`Unrecognized record size: ${M}`)}let A,O,T=u[k],D=S-t;if(C-S<=i&&(O=function(t,e){let n=c.fork(),r=0,o=0,s=0,a=n.end-i,u={size:0,start:0,skip:0};t:for(let i=n.pos-t;n.pos>i;){let t=n.size;if(n.id==e&&t>=0){u.size=r,u.start=o,u.skip=s,s+=4,r+=4,n.next();continue}let c=n.pos-t;if(t<0||c<i||n.start<a)break;let h=n.id>=l?4:0,f=n.start;for(n.next();n.pos>c;){if(n.size<0){if(-3!=n.size)break t;h+=4}else n.id>=l&&(h+=4);n.next()}o=f,r+=t,s+=h}return(e<0||r==t)&&(u.size=r,u.start=o,u.skip=s),u.size>4?u:void 0}(c.pos-e,m))){let e=new Uint16Array(O.size-O.skip),n=c.pos-O.size,i=e.length;for(;c.pos>n;)i=b(O.start,e,i);A=new v(e,C-O.start,r),D=O.start-t}else{let t=c.pos-M;c.next();let e=[],n=[],r=k>=l?k:-1,o=0,s=C;for(;c.pos>t;)r>=0&&c.id==r&&c.size>=0?(c.end<=s-i&&(y(e,n,S,o,c.end,s,r,E),o=e.length,s=c.end),c.next()):x>2500?p(S,t,e,n):d(S,t,e,n,r,x+1);if(r>=0&&o>0&&o<e.length&&y(e,n,S,o,S,s,r,E),e.reverse(),n.reverse(),r>-1&&o>0){let t=function(t){return(e,n,r)=>{let i,o,s=0,l=e.length-1;if(l>=0&&(i=e[l])instanceof g){if(!l&&i.type==t&&i.length==r)return i;(o=i.prop(a.lookAhead))&&(s=n[l]+i.length+o)}return w(t,e,n,r,s)}}(T);A=_(T,e,n,0,e.length,0,C-S,t,t)}else A=w(T,e,n,C-S,E-C)}n.push(A),o.push(D)}function p(t,e,n,o){let s=[],l=0,a=-1;for(;c.pos>e;){let{id:t,start:e,end:n,size:r}=c;if(r>4)c.next();else{if(a>-1&&e<a)break;a<0&&(a=n-i),s.push(t,e,n),l++,c.next()}}if(l){let e=new Uint16Array(4*l),i=s[s.length-2];for(let t=s.length-3,n=0;t>=0;t-=3)e[n++]=s[t],e[n++]=s[t+1]-i,e[n++]=s[t+2]-i,e[n++]=n;n.push(new v(e,s[2]-i,r)),o.push(i-t)}}function y(t,e,n,i,o,s,l,a){let c=[],u=[];for(;t.length>i;)c.push(t.pop()),u.push(e.pop()+n-o);t.push(w(r.types[l],c,u,s-o,a-s)),e.push(o-n)}function w(t,e,n,r,i=0,o){if(h){let t=[a.contextHash,h];o=o?[t].concat(o):[t]}if(i>25){let t=[a.lookAhead,i];o=o?[t].concat(o):[t]}return new g(t,e,n,r,o)}function b(t,e,n){let{id:r,start:i,end:o,size:s}=c;if(c.next(),s>=0&&r<l){let l=n;if(s>4){let r=c.pos-(s-4);for(;c.pos>r;)n=b(t,e,n)}e[--n]=l,e[--n]=o-t,e[--n]=i-t,e[--n]=r}else-3==s?h=r:-4==s&&(f=r);return n}let x=[],k=[];for(;c.pos>0;)d(t.start||0,t.bufferStart||0,x,k,-1,0);let S=null!==(e=t.length)&&void 0!==e?e:x.length?k[0]+x[0].length:0;return new g(u[t.topID],x.reverse(),k.reverse(),S)}(t)}}g.empty=new g(h.none,[],[],0);class m{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new m(this.buffer,this.index)}}class v{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return h.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],r=this.set.types[e],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(t+=4))return i;let o=[];for(;t<n;)o.push(this.childString(t)),t=this.buffer[t+3];return i+"("+o.join(",")+")"}findChild(t,e,n,r,i){let{buffer:o}=this,s=-1;for(let l=t;l!=e&&!(y(i,r,o[l+1],o[l+2])&&(s=l,n>0));l=o[l+3]);return s}slice(t,e,n){let r=this.buffer,i=new Uint16Array(e-t),o=0;for(let s=t,l=0;s<e;){i[l++]=r[s++],i[l++]=r[s++]-n;let e=i[l++]=r[s++]-n;i[l++]=r[s++]-t,o=Math.max(o,e)}return new v(i,o,this.set)}}function y(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function w(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let e=!r&&t instanceof x&&t.index<0?null:t.parent;if(!e)return t;t=e}let o=r?0:p.IgnoreOverlays;if(r)for(let r=t,s=r.parent;s;r=s,s=r.parent)r instanceof x&&r.index<0&&(null===(i=s.enter(e,n,o))||void 0===i?void 0:i.from)!=r.from&&(t=s);for(;;){let r=t.enter(e,n,o);if(!r)return t;t=r}}class b{cursor(t=0){return new O(this,t)}getChild(t,e=null,n=null){let r=k(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return k(this,t,e,n)}resolve(t,e=0){return w(this,t,e,!1)}resolveInner(t,e=0){return w(this,t,e,!0)}matchContext(t){return S(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class x extends b{constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,i=0){for(let o=this;;){for(let{children:s,positions:l}=o._tree,a=e>0?s.length:-1;t!=a;t+=e){let a=s[t],u=l[t]+o.from;if(y(r,n,u,u+a.length))if(a instanceof v){if(i&p.ExcludeBuffers)continue;let s=a.findChild(0,a.buffer.length,e,n-u,r);if(s>-1)return new M(new C(o,a,t,u),null,s)}else if(i&p.IncludeAnonymous||!a.type.isAnonymous||T(a)){let s;if(!(i&p.IgnoreMounts)&&(s=c.get(a))&&!s.overlay)return new x(s.tree,u,t,o);let l=new x(a,u,t,o);return i&p.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,r)}}if(i&p.IncludeAnonymous||!o.type.isAnonymous)return null;if(t=o.index>=0?o.index+e:e<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&p.IgnoreOverlays)&&(r=c.get(this._tree))&&r.overlay){let n=t-this.from;for(let{from:t,to:i}of r.overlay)if((e>0?t<=n:t<n)&&(e<0?i>=n:i>n))return new x(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function k(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(let t=!1;!t;)if(t=i.type.is(n),!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function S(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class C{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class M extends b{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return i<0?null:new M(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&p.ExcludeBuffers)return null;let{buffer:r}=this.context,i=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return i<0?null:new M(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new M(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new M(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,i=n.buffer[this.index+3];if(i>r){let o=n.buffer[this.index+1];t.push(n.slice(r,i,o)),e.push(0)}return new g(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function E(t){if(!t.length)return null;let e=0,n=t[0];for(let r=1;r<t.length;r++){let i=t[r];(i.from>n.from||i.to<n.to)&&(n=i,e=r)}let r=n instanceof x&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new A(i,n)}class A{constructor(t,e){this.heads=t,this.node=e}get next(){return E(this.heads)}}class O{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof x)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof x?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&p.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&p.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&p.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(r.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let r=e+t,i=t<0?-1:n._tree.children.length;r!=i;r+=t){let t=n._tree.children[r];if(this.mode&p.IncludeAnonymous||t instanceof v||!t.type.isAnonymous||T(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let r=this.index,i=this.stack.length;i>=0;){for(let o=t;o;o=o._parent)if(o.index==r){if(r==this.index)return o;e=o,n=i+1;break t}r=this.stack[--i]}for(let t=n;t<this.stack.length;t++)e=new M(this.buffer,e,this.stack[t]);return this.bufferNode=new M(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return S(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return S(this.node,t,r);let o=n[e.buffer[this.stack[i]]];if(!o.isAnonymous){if(t[r]&&t[r]!=o.name)return!1;r--}}return!0}}function T(t){return t.children.some((t=>t instanceof v||!t.type.isAnonymous||T(t)))}const D=new WeakMap;function P(t,e){if(!t.isAnonymous||e instanceof v||e.type!=t)return 1;let n=D.get(e);if(null==n){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof g)){n=1;break}n+=P(t,r)}D.set(e,n)}return n}function _(t,e,n,r,i,o,s,l,a){let c=0;for(let n=r;n<i;n++)c+=P(t,e[n]);let u=Math.ceil(1.5*c/8),h=[],f=[];return function e(n,r,i,s,l){for(let c=i;c<s;){let i=c,d=r[c],p=P(t,n[c]);for(c++;c<s;c++){let e=P(t,n[c]);if(p+e>=u)break;p+=e}if(c==i+1){if(p>u){let t=n[i];e(t.children,t.positions,0,t.children.length,r[i]+l);continue}h.push(n[i])}else{let e=r[c-1]+n[c-1].length-d;h.push(_(t,n,r,i,c,d,e,null,a))}f.push(d+l-o)}}(e,n,r,i,0),(l||a)(h,f,s)}class L{constructor(t,e,n,r,i=!1,o=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(i?1:0)|(o?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new L(0,t.length,t,0,!1,n)];for(let n of e)n.to>t.length&&r.push(n);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],i=1,o=t.length?t[0]:null;for(let s=0,l=0,a=0;;s++){let c=s<e.length?e[s]:null,u=c?c.fromA:1e9;if(u-l>=n)for(;o&&o.from<u;){let e=o;if(l>=e.from||u<=e.to||a){let t=Math.max(e.from,l)-a,n=Math.min(e.to,u)-a;e=t>=n?null:new L(t,n,e.tree,e.offset+a,s>0,!!c)}if(e&&r.push(e),o.to>u)break;o=i<t.length?t[i++]:null}if(!c)break;l=c.toA,a=c.toA-c.toB}return r}}class R{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new a({perNode:!0});let N=0;class I{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=N++}static define(t){if(null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new I([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new F;return e=>e.modified.indexOf(t)>-1?e:F.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let B=0;class F{constructor(){this.instances=[],this.id=B++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>{return n.base==t&&(r=e,i=n.modified,r.length==i.length&&r.every(((t,e)=>t==i[e])));var r,i}));if(n)return n;let r=[],i=new I(r,t,e);for(let t of e)t.instances.push(i);let o=function(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}(e);for(let e of t.set)if(!e.modified.length)for(let t of o)r.push(F.get(e,t));return i}}function z(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let t of n.split(" "))if(t){let n=[],i=2,o=t;for(let e=0;;){if("..."==o&&e>0&&e+3==t.length){i=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!r)throw new RangeError("Invalid path: "+t);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),e+=r[0].length,e==t.length)break;let s=t[e++];if(e==t.length&&"!"==s){i=0;break}if("/"!=s)throw new RangeError("Invalid path: "+t);o=t.slice(e)}let s=n.length-1,l=n[s];if(!l)throw new RangeError("Invalid path: "+t);let a=new V(r,i,s>0?n.slice(0,s):null);e[l]=a.sort(e[l])}}return j.add(e)}const j=new a;class V{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function W(t,e){let n=Object.create(null);for(let e of t)if(Array.isArray(e.tag))for(let t of e.tag)n[t.id]=e.class;else n[e.tag.id]=e.class;let{scope:r,all:i=null}=e||{};return{style:t=>{let e=i;for(let r of t)for(let t of r.set){let r=n[t.id];if(r){e=e?e+" "+r:r;break}}return e},scope:r}}function H(t,e,n,r=0,i=t.length){let o=new U(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}V.empty=new V([],2,null);class U{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,i){let{type:o,from:s,to:l}=t;if(s>=n||l<=e)return;o.isTop&&(i=this.highlighters.filter((t=>!t.scope||t.scope(o))));let c=r,u=function(t){let e=t.type.prop(j);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}(t)||V.empty,h=function(t,e){let n=null;for(let r of t){let t=r.style(e);t&&(n=n?n+" "+t:t)}return n}(i,u.tags);if(h&&(c&&(c+=" "),c+=h,1==u.mode&&(r+=(r?" ":"")+h)),this.startSpan(Math.max(e,s),c),u.opaque)return;let f=t.tree&&t.tree.prop(a.mounted);if(f&&f.overlay){let o=t.node.enter(f.overlay[0].from+s,1),a=this.highlighters.filter((t=>!t.scope||t.scope(f.tree.type))),u=t.firstChild();for(let h=0,d=s;;h++){let p=h<f.overlay.length?f.overlay[h]:null,g=p?p.from+s:l,m=Math.max(e,d),v=Math.min(n,g);if(m<v&&u)for(;t.from<v&&(this.highlightRange(t,m,v,r,i),this.startSpan(Math.min(v,t.to),c),!(t.to>=g)&&t.nextSibling()););if(!p||g>n)break;d=p.to+s,d>e&&(this.highlightRange(o.cursor(),Math.max(e,p.from+s),Math.min(n,d),"",a),this.startSpan(Math.min(n,d),c))}u&&t.parent()}else if(t.firstChild()){f&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,i),this.startSpan(Math.min(n,t.to),c)}}while(t.nextSibling());t.parent()}}}const $=I.define,q=$(),K=$(),G=$(K),Q=$(K),Y=$(),X=$(Y),J=$(Y),Z=$(),tt=$(Z),et=$(),nt=$(),rt=$(),it=$(rt),ot=$(),st={comment:q,lineComment:$(q),blockComment:$(q),docComment:$(q),name:K,variableName:$(K),typeName:G,tagName:$(G),propertyName:Q,attributeName:$(Q),className:$(K),labelName:$(K),namespace:$(K),macroName:$(K),literal:Y,string:X,docString:$(X),character:$(X),attributeValue:$(X),number:J,integer:$(J),float:$(J),bool:$(Y),regexp:$(Y),escape:$(Y),color:$(Y),url:$(Y),keyword:et,self:$(et),null:$(et),atom:$(et),unit:$(et),modifier:$(et),operatorKeyword:$(et),controlKeyword:$(et),definitionKeyword:$(et),moduleKeyword:$(et),operator:nt,derefOperator:$(nt),arithmeticOperator:$(nt),logicOperator:$(nt),bitwiseOperator:$(nt),compareOperator:$(nt),updateOperator:$(nt),definitionOperator:$(nt),typeOperator:$(nt),controlOperator:$(nt),punctuation:rt,separator:$(rt),bracket:it,angleBracket:$(it),squareBracket:$(it),paren:$(it),brace:$(it),content:Z,heading:tt,heading1:$(tt),heading2:$(tt),heading3:$(tt),heading4:$(tt),heading5:$(tt),heading6:$(tt),contentSeparator:$(Z),list:$(Z),quote:$(Z),emphasis:$(Z),strong:$(Z),link:$(Z),monospace:$(Z),strikethrough:$(Z),inserted:$(),deleted:$(),changed:$(),invalid:$(),meta:ot,documentMeta:$(ot),annotation:$(ot),processingInstruction:$(ot),definition:I.defineModifier(),constant:I.defineModifier(),function:I.defineModifier(),standard:I.defineModifier(),local:I.defineModifier(),special:I.defineModifier()};W([{tag:st.link,class:"tok-link"},{tag:st.heading,class:"tok-heading"},{tag:st.emphasis,class:"tok-emphasis"},{tag:st.strong,class:"tok-strong"},{tag:st.keyword,class:"tok-keyword"},{tag:st.atom,class:"tok-atom"},{tag:st.bool,class:"tok-bool"},{tag:st.url,class:"tok-url"},{tag:st.labelName,class:"tok-labelName"},{tag:st.inserted,class:"tok-inserted"},{tag:st.deleted,class:"tok-deleted"},{tag:st.literal,class:"tok-literal"},{tag:st.string,class:"tok-string"},{tag:st.number,class:"tok-number"},{tag:[st.regexp,st.escape,st.special(st.string)],class:"tok-string2"},{tag:st.variableName,class:"tok-variableName"},{tag:st.local(st.variableName),class:"tok-variableName tok-local"},{tag:st.definition(st.variableName),class:"tok-variableName tok-definition"},{tag:st.special(st.variableName),class:"tok-variableName2"},{tag:st.definition(st.propertyName),class:"tok-propertyName tok-definition"},{tag:st.typeName,class:"tok-typeName"},{tag:st.namespace,class:"tok-namespace"},{tag:st.className,class:"tok-className"},{tag:st.macroName,class:"tok-macroName"},{tag:st.propertyName,class:"tok-propertyName"},{tag:st.operator,class:"tok-operator"},{tag:st.comment,class:"tok-comment"},{tag:st.meta,class:"tok-meta"},{tag:st.invalid,class:"tok-invalid"},{tag:st.punctuation,class:"tok-punctuation"}]);var lt,at=n(8699);const ct=new a,ut=new a;class ht{constructor(t,e,n=[],r=""){this.data=t,this.name=r,i.yy.prototype.hasOwnProperty("tree")||Object.defineProperty(i.yy.prototype,"tree",{get(){return dt(this)}}),this.parser=e,this.extension=[kt.of(this),i.yy.languageData.of(((t,e,n)=>{let r=ft(t,e,n),i=r.type.prop(ct);if(!i)return[];let o=t.facet(i),s=r.type.prop(ut);if(s){let i=r.resolve(e-r.from,n);for(let e of s)if(e.test(i,t)){let n=t.facet(e.facet);return"replace"==e.type?n:n.concat(o)}}return o}))].concat(n)}isActiveAt(t,e,n=-1){return ft(t,e,n).type.prop(ct)==this.data}findRegions(t){let e=t.facet(kt);if((null==e?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let n=[],r=(t,e)=>{if(t.prop(ct)==this.data)return void n.push({from:e,to:e+t.length});let i=t.prop(a.mounted);if(i){if(i.tree.prop(ct)==this.data){if(i.overlay)for(let t of i.overlay)n.push({from:t.from+e,to:t.to+e});else n.push({from:e,to:e+t.length});return}if(i.overlay){let t=n.length;if(r(i.tree,i.overlay[0].from+e),n.length>t)return}}for(let n=0;n<t.children.length;n++){let i=t.children[n];i instanceof g&&r(i,t.positions[n]+e)}};return r(dt(t),0),n}get allowsNesting(){return!0}}function ft(t,e,n){let r=t.facet(kt),i=dt(t).topNode;if(!r||r.allowsNesting)for(let t=i;t;t=t.enter(e,n,p.ExcludeBuffers))t.type.isTop&&(i=t);return i}function dt(t){let e=t.field(ht.state,!1);return e?e.tree:g.empty}ht.setState=i.Py.define();class pt{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let gt=null;class mt{constructor(t,e,n=[],r,i,o,s,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=i,this.viewport=o,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new mt(t,e,[],g.empty,0,n,[],null)}startParse(){return this.parser.startParse(new pt(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=g.empty&&this.isDone(null!=e?e:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof t){let e=Date.now()+t;t=()=>Date.now()>e}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(L.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=e?e:this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}}))}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext((()=>{for(;!(e=this.parse.advance()););})),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(L.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=gt;gt=this;try{return t()}finally{gt=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=vt(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:i,viewport:o,skipped:s}=this;if(this.takeTree(),!t.empty){let e=[];if(t.iterChangedRanges(((t,n,r,i)=>e.push({fromA:t,toA:n,fromB:r,toB:i}))),n=L.applyChanges(n,e),r=g.empty,i=0,o={from:t.mapPos(o.from,-1),to:t.mapPos(o.to,1)},this.skipped.length){s=[];for(let e of this.skipped){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);n<r&&s.push({from:n,to:r})}}}return new mt(this.parser,e,n,r,i,o,s,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let e=0;e<this.skipped.length;e++){let{from:n,to:r}=this.skipped[e];n<t.to&&r>t.from&&(this.fragments=vt(this.fragments,n,r),this.skipped.splice(e--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends class{startParse(t,e,n){return"string"==typeof t&&(t=new R(t)),n=n?n.length?n.map((t=>new l(t.from,t.to))):[new l(0,0)]:[new l(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let t=r.advance();if(t)return t}}}{createParse(e,n,r){let i=r[0].from,o=r[r.length-1].to;return{parsedPos:i,advance(){let e=gt;if(e){for(let t of r)e.tempSkipped.push(t);t&&(e.scheduleOn=e.scheduleOn?Promise.all([e.scheduleOn,t]):t)}return this.parsedPos=o,new g(h.none,[],[],o-i)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return gt}}function vt(t,e,n){return L.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class yt{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new yt(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=mt.create(t.facet(kt).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new yt(n)}}ht.state=i.QQ.define({create:yt.init,update(t,e){for(let t of e.effects)if(t.is(ht.setState))return t.value;return e.startState.facet(kt)!=e.state.facet(kt)?yt.init(e.state):t.apply(e)}});let wt=t=>{let e=setTimeout((()=>t()),500);return()=>clearTimeout(e)};"undefined"!=typeof requestIdleCallback&&(wt=t=>{let e=-1,n=setTimeout((()=>{e=requestIdleCallback(t,{timeout:400})}),100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const bt="undefined"!=typeof navigator&&(null===(lt=navigator.scheduling)||void 0===lt?void 0:lt.isInputPending)?()=>navigator.scheduling.isInputPending():null,xt=r.lg.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(ht.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(ht.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=wt(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,i=n.field(ht.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,t&&!bt?Math.max(25,t.timeRemaining()-5):1e9),s=i.context.treeLen<r&&n.doc.length>r+1e3,l=i.context.work((()=>bt&&bt()||Date.now()>o),r+(s?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:ht.setState.of(new yt(i.context))})),this.chunkBudget>0&&(!l||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then((()=>this.scheduleWork())).catch((t=>(0,r.OO)(this.view.state,t))).then((()=>this.workScheduled--)),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),kt=i.r$.define({combine:t=>t.length?t[0]:null,enables:t=>[ht.state,xt,r.tk.contentAttributes.compute([t],(e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}}))]}),St=i.r$.define(),Ct=i.r$.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some((t=>t!=e[0])))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Mt(t){let e=t.facet(Ct);return 9==e.charCodeAt(0)?t.tabSize*e.length:e.length}function Et(t,e){let n="",r=t.tabSize,i=t.facet(Ct)[0];if("\t"==i){for(;e>=r;)n+="\t",e-=r;i=" "}for(let t=0;t<e;t++)n+=i;return n}function At(t,e){t instanceof i.yy&&(t=new Ot(t));for(let n of t.state.facet(St)){let r=n(t,e);if(void 0!==r)return r}let n=dt(t.state);return n.length>=e?function(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let t=[];for(let e=i;e!=r.node;e=e.parent)t.push(e);for(let e=t.length-1;e>=0;e--)r={node:t[e],next:r}}return Dt(r,t,n)}(t,n,e):null}class Ot{constructor(t,e={}){this.state=t,this.options=e,this.unit=Mt(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:i}=this.options;return null!=r&&r>=n.from&&r<=n.to?i&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.countColumn(n,t-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(i+=o-this.countColumn(n,n.search(/\S|$/))),i}countColumn(t,e=t.length){return(0,i.IS)(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),i=this.options.overrideIndentation;if(i){let t=i(r);if(t>-1)return t}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Tt=new a;function Dt(t,e,n){for(let r=t;r;r=r.next){let t=Pt(r.node);if(t)return t(Lt.create(e,n,r))}return 0}function Pt(t){let e=t.type.prop(Tt);if(e)return e;let n,r=t.firstChild;if(r&&(n=r.type.prop(a.closedBy))){let e=t.lastChild,r=e&&n.indexOf(e.name)>-1;return t=>function(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,l=r&&o.slice(s,s+r.length)==r||i==t.pos+s,a=e?function(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i);for(let t=n.to;;){let i=e.childAfter(t);if(!i||i==r)return null;if(!i.type.isSkipped)return i.from<s?n:null;t=i.to}}(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}(t,!0,1,void 0,r&&!function(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}(t)?e.from:void 0)}return null==t.parent?_t:null}function _t(){return 0}class Lt extends Ot{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new Lt(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(Rt(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return Dt(this.context.next,this.base,this.pos)}}function Rt(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}const Nt=i.r$.define(),It=new a;function Bt(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Ft(t,e,n){for(let r of t.facet(Nt)){let i=r(t,e,n);if(i)return i}return function(t,e,n){let r=dt(t);if(r.length<n)return null;let i=null;for(let o=r.resolveStack(n,1);o;o=o.next){let s=o.node;if(s.to<=n||s.from>n)continue;if(i&&s.from<e)break;let l=s.type.prop(It);if(l&&(s.to<r.length-50||r.length==t.doc.length||!Bt(s))){let r=l(s,t);r&&r.from<=n&&r.from>=e&&r.to>n&&(i=r)}}return i}(t,e,n)}function zt(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const jt=i.Py.define({map:zt}),Vt=i.Py.define({map:zt});function Wt(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some((t=>t.from<=n&&t.to>=n))||e.push(t.lineBlockAt(n));return e}const Ht=i.QQ.define({create:()=>r.p.none,update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(jt)&&!$t(t,n.value.from,n.value.to)){let{preparePlaceholder:i}=e.state.facet(Yt),o=i?r.p.replace({widget:new te(i(e.state,n.value))}):Zt;t=t.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(Vt)&&(t=t.update({filter:(t,e)=>n.value.from!=t||n.value.to!=e,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,((t,e)=>{t<r&&e>r&&(n=!0)})),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(t,e)=>e<=r||t>=r}))}return t},provide:t=>r.tk.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,((t,e)=>{n.push(t,e)})),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");e.push(Zt.range(r,i))}return r.p.set(e,!0)}});function Ut(t,e,n){var r;let i=null;return null===(r=t.field(Ht,!1))||void 0===r||r.between(e,n,((t,e)=>{(!i||i.from>t)&&(i={from:t,to:e})})),i}function $t(t,e,n){let r=!1;return t.between(e,e,((t,i)=>{t==e&&i==n&&(r=!0)})),r}function qt(t,e){return t.field(Ht,!1)?e:e.concat(i.Py.appendConfig.of(Xt()))}function Kt(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,o=t.state.doc.lineAt(e.to).number;return r.tk.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${o}.`)}const Gt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:t=>{for(let e of Wt(t)){let n=Ft(t.state,e.from,e.to);if(n)return t.dispatch({effects:qt(t.state,[jt.of(n),Kt(t,n)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:t=>{if(!t.state.field(Ht,!1))return!1;let e=[];for(let n of Wt(t)){let r=Ut(t.state,n.from,n.to);r&&e.push(Vt.of(r),Kt(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=Ft(e,i.from,i.to);o&&n.push(jt.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:qt(t.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:t=>{let e=t.state.field(Ht,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,((t,e)=>{n.push(Vt.of({from:t,to:e}))})),t.dispatch({effects:n}),!0}}],Qt={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Yt=i.r$.define({combine:t=>(0,i.BO)(t,Qt)});function Xt(t){let e=[Ht,ie];return t&&e.push(Yt.of(t)),e}function Jt(t,e){let{state:n}=t,r=n.facet(Yt),i=e=>{let n=t.lineBlockAt(t.posAtDOM(e.target)),r=Ut(t.state,n.from,n.to);r&&t.dispatch({effects:Vt.of(r)}),e.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const Zt=r.p.replace({widget:new class extends r.l9{toDOM(t){return Jt(t,null)}}});class te extends r.l9{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Jt(t,this.value)}}const ee={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ne extends r.SJ{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function re(t={}){let e=Object.assign(Object.assign({},ee),t),n=new ne(e,!0),o=new ne(e,!1),s=r.lg.fromClass(class{constructor(t){this.from=t.viewport.from,this.markers=this.buildMarkers(t)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(kt)!=t.state.facet(kt)||t.startState.field(Ht,!1)!=t.state.field(Ht,!1)||dt(t.startState)!=dt(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(t){let e=new i.f_;for(let r of t.viewportLineBlocks){let i=Ut(t.state,r.from,r.to)?o:Ft(t.state,r.from,r.to)?n:null;i&&e.add(r.from,r.from,i)}return e.finish()}}),{domEventHandlers:l}=e;return[s,(0,r.v5)({class:"cm-foldGutter",markers(t){var e;return(null===(e=t.plugin(s))||void 0===e?void 0:e.markers)||i.Xs.empty},initialSpacer:()=>new ne(e,!1),domEventHandlers:Object.assign(Object.assign({},l),{click:(t,e,n)=>{if(l.click&&l.click(t,e,n))return!0;let r=Ut(t.state,e.from,e.to);if(r)return t.dispatch({effects:Vt.of(r)}),!0;let i=Ft(t.state,e.from,e.to);return!!i&&(t.dispatch({effects:jt.of(i)}),!0)}})}),Xt()]}const ie=r.tk.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class oe{constructor(t,e){let n;function r(t){let e=at.V.newName();return(n||(n=Object.create(null)))["."+e]=t,e}this.specs=t;const i="string"==typeof e.all?e.all:e.all?r(e.all):void 0,o=e.scope;this.scope=o instanceof ht?t=>t.prop(ct)==o.data:o?t=>t==o:void 0,this.style=W(t.map((t=>({tag:t.tag,class:t.class||r(Object.assign({},t,{tag:null}))}))),{all:i}).style,this.module=n?new at.V(n):null,this.themeType=e.themeType}static define(t,e){return new oe(t,e||{})}}const se=i.r$.define(),le=i.r$.define({combine:t=>t.length?[t[0]]:null});function ae(t){let e=t.facet(se);return e.length?e:t.facet(le)}function ce(t,e){let n,i=[he];return t instanceof oe&&(t.module&&i.push(r.tk.styleModule.of(t.module)),n=t.themeType),(null==e?void 0:e.fallback)?i.push(le.of(t)):n?i.push(se.computeN([r.tk.darkTheme],(e=>e.facet(r.tk.darkTheme)==("dark"==n)?[t]:[]))):i.push(se.of(t)),i}class ue{constructor(t){this.markCache=Object.create(null),this.tree=dt(t.state),this.decorations=this.buildDeco(t,ae(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=dt(t.state),n=ae(t.state),r=n!=ae(t.startState),{viewport:i}=t.view,o=t.changes.mapPos(this.decoratedTo,1);e.length<i.to&&!r&&e.type==this.tree.type&&o>=i.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=o):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n),this.decoratedTo=i.to)}buildDeco(t,e){if(!e||!this.tree.length)return r.p.none;let n=new i.f_;for(let{from:i,to:o}of t.visibleRanges)H(this.tree,e,((t,e,i)=>{n.add(t,e,this.markCache[i]||(this.markCache[i]=r.p.mark({class:i})))}),i,o);return n.finish()}}const he=i.Wl.high(r.lg.fromClass(ue,{decorations:t=>t.decorations})),fe=oe.define([{tag:st.meta,color:"#404740"},{tag:st.link,textDecoration:"underline"},{tag:st.heading,textDecoration:"underline",fontWeight:"bold"},{tag:st.emphasis,fontStyle:"italic"},{tag:st.strong,fontWeight:"bold"},{tag:st.strikethrough,textDecoration:"line-through"},{tag:st.keyword,color:"#708"},{tag:[st.atom,st.bool,st.url,st.contentSeparator,st.labelName],color:"#219"},{tag:[st.literal,st.inserted],color:"#164"},{tag:[st.string,st.deleted],color:"#a11"},{tag:[st.regexp,st.escape,st.special(st.string)],color:"#e40"},{tag:st.definition(st.variableName),color:"#00f"},{tag:st.local(st.variableName),color:"#30a"},{tag:[st.typeName,st.namespace],color:"#085"},{tag:st.className,color:"#167"},{tag:[st.special(st.variableName),st.macroName],color:"#256"},{tag:st.definition(st.propertyName),color:"#00c"},{tag:st.comment,color:"#940"},{tag:st.invalid,color:"#f00"}]),de=r.tk.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),pe="()[]{}",ge=i.r$.define({combine:t=>(0,i.BO)(t,{afterCursor:!0,brackets:pe,maxScanDistance:1e4,renderMatch:ye})}),me=r.p.mark({class:"cm-matchingBracket"}),ve=r.p.mark({class:"cm-nonmatchingBracket"});function ye(t){let e=[],n=t.matched?me:ve;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const we=[i.QQ.define({create:()=>r.p.none,update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(ge);for(let t of e.state.selection.ranges){if(!t.empty)continue;let r=Ce(e.state,t.head,-1,i)||t.head>0&&Ce(e.state,t.head-1,1,i)||i.afterCursor&&(Ce(e.state,t.head,1,i)||t.head<e.state.doc.length&&Ce(e.state,t.head+1,-1,i));r&&(n=n.concat(i.renderMatch(r,e.state)))}return r.p.set(n,!0)},provide:t=>r.tk.decorations.from(t)}),de];function be(t={}){return[ge.of(t),we]}const xe=new a;function ke(t,e,n){let r=t.prop(e<0?a.openedBy:a.closedBy);if(r)return r;if(1==t.name.length){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function Se(t){let e=t.type.prop(xe);return e?e(t.node):t}function Ce(t,e,n,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||pe,s=dt(t),l=s.resolveInner(e,n);for(let t=l;t;t=t.parent){let r=ke(t.type,n,o);if(r&&t.from<t.to){let i=Se(t);if(i&&(n>0?e>=i.from&&e<i.to:e>i.from&&e<=i.to))return Me(0,0,n,t,i,r,o)}}return function(t,e,n,r,i,o,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let t=0;!u.next().done&&t<=o;){let o=u.value;n<0&&(t+=o.length);let l=e+t*n;for(let t=n>0?0:o.length-1,e=n>0?o.length:-1;t!=e;t+=n){let e=s.indexOf(o[t]);if(!(e<0||r.resolveInner(l+t,1).type!=i))if(e%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:l+t,to:l+t+1},matched:e>>1==a>>1};h--}}n>0&&(t+=o.length)}return u.done?{start:c,matched:!1}:null}(t,e,n,s,l.type,i,o)}function Me(t,e,n,r,i,o,s){let l=r.parent,a={from:i.from,to:i.to},c=0,u=null==l?void 0:l.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&o.indexOf(u.type.name)>-1&&u.from<u.to){let t=Se(u);return{start:a,end:t?{from:t.from,to:t.to}:void 0,matched:!0}}if(ke(u.type,n,s))c++;else if(ke(u.type,-n,s)){if(0==c){let t=Se(u);return{start:a,end:t&&t.from<t.to?{from:t.from,to:t.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}const Ee=Object.create(null),Ae=[h.none],Oe=[],Te=Object.create(null),De=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])De[t]=_e(Ee,e);function Pe(t,e){Oe.indexOf(t)>-1||(Oe.push(t),console.warn(e))}function _e(t,e){let n=[];for(let r of e.split(" ")){let e=[];for(let n of r.split(".")){let r=t[n]||st[n];r?"function"==typeof r?e.length?e=e.map(r):Pe(n,`Modifier ${n} used at start of tag`):e.length?Pe(n,`Tag ${n} used as modifier`):e=Array.isArray(r)?r:[r]:Pe(n,`Unknown highlighting tag ${n}`)}for(let t of e)n.push(t)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map((t=>t.id)),o=Te[i];if(o)return o.id;let s=Te[i]=h.define({id:Ae.length,name:r,props:[z({[r]:n})]});return Ae.push(s),s.id}function Le(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return!!i&&(r(n.update(i)),!0)}}r.Nm.RTL,r.Nm.LTR;const Re=Le(ze,0),Ne=Le(Fe,0),Ie=Le(((t,e)=>Fe(t,e,function(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}(e))),0);function Be(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}function Fe(t,e,n=e.selection.ranges){let r=n.map((t=>Be(e,t.from).block));if(!r.every((t=>t)))return null;let i=n.map(((t,n)=>function(t,{open:e,close:n},r,i){let o,s,l=t.sliceDoc(r-50,r),a=t.sliceDoc(i,i+50),c=/\s*$/.exec(l)[0].length,u=/^\s*/.exec(a)[0].length,h=l.length-c;if(l.slice(h-e.length,h)==e&&a.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:i+u,margin:u&&1}};i-r<=100?o=s=t.sliceDoc(r,i):(o=t.sliceDoc(r,r+50),s=t.sliceDoc(i-50,i));let f=/^\s*/.exec(o)[0].length,d=/\s*$/.exec(s)[0].length,p=s.length-d-n.length;return o.slice(f,f+e.length)==e&&s.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(o.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(s.charAt(p-1))?1:0}}:null}(e,r[n],t.from,t.to)));if(2!=t&&!i.every((t=>t)))return{changes:e.changes(n.map(((t,e)=>i[e]?[]:[{from:t.from,insert:r[e].open+" "},{from:t.to,insert:" "+r[e].close}])))};if(1!=t&&i.some((t=>t))){let t=[];for(let e,n=0;n<i.length;n++)if(e=i[n]){let i=r[n],{open:o,close:s}=e;t.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:s.pos-s.margin,to:s.pos+i.close.length})}return{changes:t}}return null}function ze(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:t,to:o}of n){let n=r.length,s=1e9,l=Be(e,t).line;if(l){for(let n=t;n<=o;){let a=e.doc.lineAt(n);if(a.from>i&&(t==o||o>a.from)){i=a.from;let t=/^\s*/.exec(a.text)[0].length,e=t==a.length,n=a.text.slice(t,t+l.length)==l?t:-1;t<a.text.length&&t<s&&(s=t),r.push({line:a,comment:n,token:l,indent:t,empty:e,single:!1})}n=a.to+1}if(s<1e9)for(let t=n;t<r.length;t++)r[t].indent<r[t].line.text.length&&(r[t].indent=s);r.length==n+1&&(r[n].single=!0)}}if(2!=t&&r.some((t=>t.comment<0&&(!t.empty||t.single)))){let t=[];for(let{line:e,token:n,indent:i,empty:o,single:s}of r)!s&&o||t.push({from:e.from+i,insert:n+" "});let n=e.changes(t);return{changes:n,selection:e.selection.map(n,1)}}if(1!=t&&r.some((t=>t.comment>=0))){let t=[];for(let{line:e,comment:n,token:i}of r)if(n>=0){let r=e.from+n,o=r+i.length;" "==e.text[o-e.from]&&o++,t.push({from:r,to:o})}return{changes:t}}return null}const je=i.q6.define(),Ve=i.q6.define(),We=i.r$.define(),He=i.r$.define({combine:t=>(0,i.BO)(t,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}),Ue=i.QQ.define({create:()=>ln.empty,update(t,e){let n=e.state.facet(He),r=e.annotation(je);if(r){let i=Xe.fromTransaction(e,r.selection),o=r.side,s=0==o?t.undone:t.done;return s=i?Je(s,s.length,n.minDepth,i):en(s,e.startState.selection),new ln(0==o?r.rest:s,0==o?s:r.rest)}let o=e.annotation(Ve);if("full"!=o&&"before"!=o||(t=t.isolate()),!1===e.annotation(i.YW.addToHistory))return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Xe.fromTransaction(e),l=e.annotation(i.YW.time),a=e.annotation(i.YW.userEvent);return s?t=t.addChanges(s,l,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,l,a,n.newGroupDelay)),"full"!=o&&"after"!=o||(t=t.isolate()),t},toJSON:t=>({done:t.done.map((t=>t.toJSON())),undone:t.undone.map((t=>t.toJSON()))}),fromJSON:t=>new ln(t.done.map(Xe.fromJSON),t.undone.map(Xe.fromJSON))});function $e(t={}){return[Ue,He.of(t),r.tk.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?Ke:"historyRedo"==t.inputType?Ge:null;return!!n&&(t.preventDefault(),n(e))}})]}function qe(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Ue,!1);if(!i)return!1;let o=i.pop(t,n,e);return!!o&&(r(o),!0)}}const Ke=qe(0,!1),Ge=qe(1,!1),Qe=qe(0,!0),Ye=qe(1,!0);class Xe{constructor(t,e,n,r,i){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(t){return new Xe(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((t=>t.toJSON()))}}static fromJSON(t){return new Xe(t.changes&&i.as.fromJSON(t.changes),[],t.mapped&&i.n0.fromJSON(t.mapped),t.startSelection&&i.jT.fromJSON(t.startSelection),t.selectionsAfter.map(i.jT.fromJSON))}static fromTransaction(t,e){let n=tn;for(let e of t.startState.facet(We)){let r=e(t);r.length&&(n=n.concat(r))}return!n.length&&t.changes.empty?null:new Xe(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,tn)}static selection(t){return new Xe(void 0,tn,void 0,void 0,t)}}function Je(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function Ze(t,e){return t.length?e.length?t.concat(e):t:e}const tn=[];function en(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Je(t,t.length-1,1e9,n.setSelAfter(r)))}return[Xe.selection([e])]}function nn(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function rn(t,e){if(!t.length)return t;let n=t.length,r=tn;for(;n;){let i=on(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let e=t.slice(0,n);return e[n-1]=i,e}e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Xe.selection(r)]:tn}function on(t,e,n){let r=Ze(t.selectionsAfter.length?t.selectionsAfter.map((t=>t.map(e))):tn,n);if(!t.changes)return Xe.selection(r);let o=t.changes.map(e),s=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(s):s;return new Xe(o,i.Py.mapEffects(t.effects,e),l,t.startSelection.map(s),r)}const sn=/^(input\.type|delete)($|\.)/;class ln{constructor(t,e,n=0,r){this.done=t,this.undone=e,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new ln(this.done,this.undone):this}addChanges(t,e,n,r,i){let o=this.done,s=o[o.length-1];return o=s&&s.changes&&!s.changes.empty&&t.changes&&(!n||sn.test(n))&&(!s.selectionsAfter.length&&e-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,function(t,e){let n=[],r=!1;return t.iterChangedRanges(((t,e)=>n.push(t,e))),e.iterChangedRanges(((t,e,i,o)=>{for(let t=0;t<n.length;){let e=n[t++],s=n[t++];o>=e&&i<=s&&(r=!0)}})),r}(s.changes,t.changes))||"input.type.compose"==n)?Je(o,o.length-1,r.minDepth,new Xe(t.changes.compose(s.changes),Ze(t.effects,s.effects),s.mapped,s.startSelection,tn)):Je(o,o.length,r.minDepth,t),new ln(o,tn,e,n)}addSelection(t,e,n,r){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:tn;return i.length>0&&e-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(o=i[i.length-1],s=t,o.ranges.length==s.ranges.length&&0===o.ranges.filter(((t,e)=>t.empty!=s.ranges[e].empty)).length)?this:new ln(en(this.done,t),this.undone,e,n);var o,s}addMapping(t){return new ln(rn(this.done,t),rn(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,n){let r=0==t?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],o=i.selectionsAfter[0]||e.selection;if(n&&i.selectionsAfter.length)return e.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:je.of({side:t,rest:nn(r),selection:o}),userEvent:0==t?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let n=1==r.length?tn:r.slice(0,r.length-1);return i.mapped&&(n=rn(n,i.mapped)),e.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:je.of({side:t,rest:n,selection:o}),filter:!1,userEvent:0==t?"undo":"redo",scrollIntoView:!0})}return null}}ln.empty=new ln(tn,tn);const an=[{key:"Mod-z",run:Ke,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ge,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ge,preventDefault:!0},{key:"Mod-u",run:Qe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Ye,preventDefault:!0}];function cn(t,e){return i.jT.create(t.ranges.map(e),t.mainIndex)}function un(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function hn({state:t,dispatch:e},n){let r=cn(t.selection,n);return!r.eq(t.selection,!0)&&(e(un(t,r)),!0)}function fn(t,e){return i.jT.cursor(e?t.to:t.from)}function dn(t,e){return hn(t,(n=>n.empty?t.moveByChar(n,e):fn(n,e)))}function pn(t){return t.textDirectionAt(t.state.selection.main.head)==r.Nm.LTR}const gn=t=>dn(t,!pn(t)),mn=t=>dn(t,pn(t));function vn(t,e){return hn(t,(n=>n.empty?t.moveByGroup(n,e):fn(n,e)))}function yn(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function wn(t,e,n){let r,o,s=dt(t).resolveInner(e.head),l=n?a.closedBy:a.openedBy;for(let r=e.head;;){let e=n?s.childAfter(r):s.childBefore(r);if(!e)break;yn(t,e,l)?s=e:r=n?e.to:e.from}return o=s.type.prop(l)&&(r=n?Ce(t,s.from,1):Ce(t,s.to,-1))&&r.matched?n?r.end.to:r.end.from:n?s.to:s.from,i.jT.cursor(o,n?-1:1)}function bn(t,e){return hn(t,(n=>{if(!n.empty)return fn(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const xn=t=>bn(t,!1),kn=t=>bn(t,!0);function Sn(t){let e,n=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,i=0,o=0;if(n){for(let e of t.state.facet(r.tk.scrollMargins)){let n=e(t);(null==n?void 0:n.top)&&(i=Math.max(null==n?void 0:n.top,i)),(null==n?void 0:n.bottom)&&(o=Math.max(null==n?void 0:n.bottom,o))}e=t.scrollDOM.clientHeight-i-o}else e=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:i,marginBottom:o,selfScroll:n,height:Math.max(t.defaultLineHeight,e-5)}}function Cn(t,e){let n,i=Sn(t),{state:o}=t,s=cn(o.selection,(n=>n.empty?t.moveVertically(n,e,i.height):fn(n,e)));if(s.eq(o.selection))return!1;if(i.selfScroll){let e=t.coordsAtPos(o.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+i.marginTop,c=l.bottom-i.marginBottom;e&&e.top>a&&e.bottom<c&&(n=r.tk.scrollIntoView(s.main.head,{y:"start",yMargin:e.top-a}))}return t.dispatch(un(o,s),{effects:n}),!0}const Mn=t=>Cn(t,!1),En=t=>Cn(t,!0);function An(t,e,n){let r=t.lineBlockAt(e.head),o=t.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?r.to:r.from)&&(o=t.moveToLineBoundary(e,n,!1)),!n&&o.head==r.from&&r.length){let n=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&e.head!=r.from+n&&(o=i.jT.cursor(r.from+n))}return o}function On(t,e){let n=cn(t.state.selection,(t=>{let n=e(t);return i.jT.range(t.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(t.state.selection)&&(t.dispatch(un(t.state,n)),!0)}function Tn(t,e){return On(t,(n=>t.moveByChar(n,e)))}const Dn=t=>Tn(t,!pn(t)),Pn=t=>Tn(t,pn(t));function _n(t,e){return On(t,(n=>t.moveByGroup(n,e)))}function Ln(t,e){return On(t,(n=>t.moveVertically(n,e)))}const Rn=t=>Ln(t,!1),Nn=t=>Ln(t,!0);function In(t,e){return On(t,(n=>t.moveVertically(n,e,Sn(t).height)))}const Bn=t=>In(t,!1),Fn=t=>In(t,!0),zn=({state:t,dispatch:e})=>(e(un(t,{anchor:0})),!0),jn=({state:t,dispatch:e})=>(e(un(t,{anchor:t.doc.length})),!0),Vn=({state:t,dispatch:e})=>(e(un(t,{anchor:t.selection.main.anchor,head:0})),!0),Wn=({state:t,dispatch:e})=>(e(un(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0);function Hn(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:o}=t,s=o.changeByRange((r=>{let{from:o,to:s}=r;if(o==s){let i=e(r);i<o?(n="delete.backward",i=Un(t,i,!1)):i>o&&(n="delete.forward",i=Un(t,i,!0)),o=Math.min(o,i),s=Math.max(s,i)}else o=Un(t,o,!1),s=Un(t,s,!0);return o==s?{range:r}:{changes:{from:o,to:s},range:i.jT.cursor(o,o<r.head?-1:1)}}));return!s.changes.empty&&(t.dispatch(o.update(s,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?r.tk.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function Un(t,e,n){if(t instanceof r.tk)for(let i of t.state.facet(r.tk.atomicRanges).map((e=>e(t))))i.between(e,e,((t,r)=>{t<e&&r>e&&(e=n?r:t)}));return e}const $n=(t,e,n)=>Hn(t,(r=>{let o,s,l=r.from,{state:a}=t,c=a.doc.lineAt(l);if(n&&!e&&l>c.from&&l<c.from+200&&!/[^ \t]/.test(o=c.text.slice(0,l-c.from))){if("\t"==o[o.length-1])return l-1;let t=(0,i.IS)(o,a.tabSize)%Mt(a)||Mt(a);for(let e=0;e<t&&" "==o[o.length-1-e];e++)l--;s=l}else s=(0,i.cp)(c.text,l-c.from,e,e)+c.from,s==l&&c.number!=(e?a.doc.lines:1)?s+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(c.text.slice(s-c.from,l-c.from))&&(s=(0,i.cp)(c.text,s-c.from,!1,!1)+c.from);return s})),qn=t=>$n(t,!1,!0),Kn=t=>$n(t,!0,!1),Gn=(t,e)=>Hn(t,(n=>{let r=n.head,{state:o}=t,s=o.doc.lineAt(r),l=o.charCategorizer(r);for(let t=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?o.doc.lines:1)&&(r+=e?1:-1);break}let a=(0,i.cp)(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,a)-s.from,Math.max(r,a)-s.from),u=l(c);if(null!=t&&u!=t)break;" "==c&&r==n.head||(t=u),r=a}return r})),Qn=t=>Gn(t,!1);function Yn(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=t.doc.lineAt(r.to-1)),n>=i.number){let t=e[e.length-1];t.to=o.to,t.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function Xn(t,e,n){if(t.readOnly)return!1;let r=[],o=[];for(let e of Yn(t)){if(n?e.to==t.doc.length:0==e.from)continue;let s=t.doc.lineAt(n?e.to+1:e.from-1),l=s.length+1;if(n){r.push({from:e.to,to:s.to},{from:e.from,insert:s.text+t.lineBreak});for(let n of e.ranges)o.push(i.jT.range(Math.min(t.doc.length,n.anchor+l),Math.min(t.doc.length,n.head+l)))}else{r.push({from:s.from,to:e.from},{from:e.to,insert:t.lineBreak+s.text});for(let t of e.ranges)o.push(i.jT.range(t.anchor-l,t.head-l))}}return!!r.length&&(e(t.update({changes:r,scrollIntoView:!0,selection:i.jT.create(o,t.selection.mainIndex),userEvent:"move.line"})),!0)}function Jn(t,e,n){if(t.readOnly)return!1;let r=[];for(let e of Yn(t))n?r.push({from:e.from,insert:t.doc.slice(e.from,e.to)+t.lineBreak}):r.push({from:e.to,insert:t.lineBreak+t.doc.slice(e.from,e.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Zn=tr(!1);function tr(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange((n=>{let{from:r,to:o}=n,s=e.doc.lineAt(r),l=!t&&r==o&&function(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n,r=dt(t).resolveInner(e),i=r.childBefore(e),o=r.childAfter(e);return i&&o&&i.to<=e&&o.from>=e&&(n=i.type.prop(a.closedBy))&&n.indexOf(o.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(o.from).from&&!/\S/.test(t.sliceDoc(i.to,o.from))?{from:i.to,to:o.from}:null}(e,r);t&&(r=o=(o<=s.to?s:e.doc.lineAt(o)).to);let c=new Ot(e,{simulateBreak:r,simulateDoubleBreak:!!l}),u=At(c,r);for(null==u&&(u=(0,i.IS)(/^\s*/.exec(e.doc.lineAt(r).text)[0],e.tabSize));o<s.to&&/\s/.test(s.text[o-s.from]);)o++;l?({from:r,to:o}=l):r>s.from&&r<s.from+100&&!/\S/.test(s.text.slice(0,r))&&(r=s.from);let h=["",Et(e,u)];return l&&h.push(Et(e,c.lineIndent(s.from,-1))),{changes:{from:r,to:o,insert:i.xv.of(h)},range:i.jT.cursor(r+1+h[1].length)}}));return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function er(t,e){let n=-1;return t.changeByRange((r=>{let o=[];for(let i=r.from;i<=r.to;){let s=t.doc.lineAt(i);s.number>n&&(r.empty||r.to>s.from)&&(e(s,o,r),n=s.number),i=s.to+1}let s=t.changes(o);return{changes:o,range:i.jT.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}}))}const nr=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:t=>hn(t,(e=>wn(t.state,e,!pn(t)))),shift:t=>On(t,(e=>wn(t.state,e,!pn(t))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t=>hn(t,(e=>wn(t.state,e,pn(t)))),shift:t=>On(t,(e=>wn(t.state,e,pn(t))))},{key:"Alt-ArrowUp",run:({state:t,dispatch:e})=>Xn(t,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:t,dispatch:e})=>Jn(t,e,!1)},{key:"Alt-ArrowDown",run:({state:t,dispatch:e})=>Xn(t,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:t,dispatch:e})=>Jn(t,e,!0)},{key:"Escape",run:({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=i.jT.create([n.main]):n.main.empty||(r=i.jT.create([i.jT.cursor(n.main.head)])),!!r&&(e(un(t,r)),!0)}},{key:"Mod-Enter",run:tr(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:t,dispatch:e})=>{let n=Yn(t).map((({from:e,to:n})=>i.jT.range(e,Math.min(n+1,t.doc.length))));return e(t.update({selection:i.jT.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:t,dispatch:e})=>{let n=cn(t.selection,(e=>{var n;for(let r=dt(t).resolveStack(e.from,1);r;r=r.next){let{node:t}=r;if((t.from<e.from&&t.to>=e.to||t.to>e.to&&t.from<=e.from)&&(null===(n=t.parent)||void 0===n?void 0:n.parent))return i.jT.range(t.to,t.from)}return e}));return e(un(t,n)),!0},preventDefault:!0},{key:"Mod-[",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(er(t,((e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=(0,i.IS)(r,t.tabSize),s=0,l=Et(t,Math.max(0,o-Mt(t)));for(;s<r.length&&s<l.length&&r.charCodeAt(s)==l.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:l.slice(s)})})),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:t,dispatch:e})=>!t.readOnly&&(e(t.update(er(t,((e,n)=>{n.push({from:e.from,insert:t.facet(Ct)})})),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Ot(t,{overrideIndentation:t=>{let e=n[t];return null==e?-1:e}}),i=er(t,((e,i,o)=>{let s=At(r,e.from);if(null==s)return;/\S/.test(e.text)||(s=0);let l=/^\s*/.exec(e.text)[0],a=Et(t,s);(l!=a||o.from<e.from+l.length)&&(n[e.from]=s,i.push({from:e.from,to:e.from+l.length,insert:a}))}));return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Yn(e).map((({from:t,to:n})=>(t>0?t--:n<e.doc.length&&n++,{from:t,to:n})))),r=cn(e.selection,(e=>{let n;if(t.lineWrapping){let r=t.lineBlockAt(e.head),i=t.coordsAtPos(e.head,e.assoc||1);i&&(n=r.bottom+t.documentTop-i.bottom+t.defaultLineHeight/2)}return t.moveVertically(e,!0,n)})).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:t,dispatch:e})=>function(t,e,n){let r=!1,o=cn(t.selection,(e=>{let o=Ce(t,e.head,-1)||Ce(t,e.head,1)||e.head>0&&Ce(t,e.head-1,1)||e.head<t.doc.length&&Ce(t,e.head+1,-1);if(!o||!o.end)return e;r=!0;let s=o.start.from==e.head?o.end.to:o.end.from;return n?i.jT.range(e.anchor,s):i.jT.cursor(s)}));return!!r&&(e(un(t,o)),!0)}(t,e,!1)},{key:"Mod-/",run:t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Be(t.state,n.from);return r.line?Re(t):!!r.block&&Ie(t)}},{key:"Alt-A",run:Ne},{key:"Ctrl-m",mac:"Shift-Alt-m",run:t=>(t.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:gn,shift:Dn,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:t=>vn(t,!pn(t)),shift:t=>_n(t,!pn(t)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:t=>hn(t,(e=>An(t,e,!pn(t)))),shift:t=>On(t,(e=>An(t,e,!pn(t)))),preventDefault:!0},{key:"ArrowRight",run:mn,shift:Pn,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:t=>vn(t,pn(t)),shift:t=>_n(t,pn(t)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:t=>hn(t,(e=>An(t,e,pn(t)))),shift:t=>On(t,(e=>An(t,e,pn(t)))),preventDefault:!0},{key:"ArrowUp",run:xn,shift:Rn,preventDefault:!0},{mac:"Cmd-ArrowUp",run:zn,shift:Vn},{mac:"Ctrl-ArrowUp",run:Mn,shift:Bn},{key:"ArrowDown",run:kn,shift:Nn,preventDefault:!0},{mac:"Cmd-ArrowDown",run:jn,shift:Wn},{mac:"Ctrl-ArrowDown",run:En,shift:Fn},{key:"PageUp",run:Mn,shift:Bn},{key:"PageDown",run:En,shift:Fn},{key:"Home",run:t=>hn(t,(e=>An(t,e,!1))),shift:t=>On(t,(e=>An(t,e,!1))),preventDefault:!0},{key:"Mod-Home",run:zn,shift:Vn},{key:"End",run:t=>hn(t,(e=>An(t,e,!0))),shift:t=>On(t,(e=>An(t,e,!0))),preventDefault:!0},{key:"Mod-End",run:jn,shift:Wn},{key:"Enter",run:Zn},{key:"Mod-a",run:({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:qn,shift:qn},{key:"Delete",run:Kn},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Qn},{key:"Mod-Delete",mac:"Alt-Delete",run:t=>Gn(t,!0)},{mac:"Mod-Backspace",run:t=>Hn(t,(e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}))},{mac:"Mod-Delete",run:t=>Hn(t,(e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))}].concat([{key:"Ctrl-b",run:gn,shift:Dn,preventDefault:!0},{key:"Ctrl-f",run:mn,shift:Pn},{key:"Ctrl-p",run:xn,shift:Rn},{key:"Ctrl-n",run:kn,shift:Nn},{key:"Ctrl-a",run:t=>hn(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).from,1))),shift:t=>On(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).from)))},{key:"Ctrl-e",run:t=>hn(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).to,-1))),shift:t=>On(t,(e=>i.jT.cursor(t.lineBlockAt(e.head).to)))},{key:"Ctrl-d",run:Kn},{key:"Ctrl-h",run:qn},{key:"Ctrl-k",run:t=>Hn(t,(e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}))},{key:"Ctrl-Alt-h",run:Qn},{key:"Ctrl-o",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:i.xv.of(["",""])},range:i.jT.cursor(t.from)})));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange((e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let n=e.from,r=t.doc.lineAt(n),o=n==r.from?n-1:(0,i.cp)(r.text,n-r.from,!1)+r.from,s=n==r.to?n+1:(0,i.cp)(r.text,n-r.from,!0)+r.from;return{changes:{from:o,to:s,insert:t.doc.slice(n,s).append(t.doc.slice(o,n))},range:i.jT.cursor(s)}}));return!n.changes.empty&&(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:En}].map((t=>({mac:t.key,run:t.run,shift:t.shift})))));function rr(){var t=arguments[0];"string"==typeof t&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?t.setAttribute(r,i):null!=i&&(t[r]=i)}e++}for(;e<arguments.length;e++)ir(t,arguments[e]);return t}function ir(t,e){if("string"==typeof e)t.appendChild(document.createTextNode(e));else if(null==e);else if(null!=e.nodeType)t.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var n=0;n<e.length;n++)ir(t,e[n])}}const or="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class sr{constructor(t,e,n=0,r=t.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=i?t=>i(or(t)):or,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,i.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=(0,i.bg)(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,i.nZ)(t);let r=this.normalize(e);for(let t=0,i=n;;t++){let o=r.charCodeAt(t),s=this.match(o,i,this.bufferPos+this.bufferStart);if(t==r.length-1){if(s)return this.value=s,this;break}i==n&&t<e.length&&e.charCodeAt(t)==o&&i++}}}match(t,e,n){let r=null;for(let e=0;e<this.matches.length;e+=2){let i=this.matches[e],o=!1;this.query.charCodeAt(i)==t&&(i==this.query.length-1?r={from:this.matches[e+1],to:n}:(this.matches[e]++,o=!0)),o||(this.matches.splice(e,2),e-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?r={from:e,to:n}:this.matches.push(1,e)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(sr.prototype[Symbol.iterator]=function(){return this});const lr={from:-1,to:-1,match:/.*/.exec("")},ar="gm"+(null==/x/.unicode?"":"u");class cr{constructor(t,e,n,r=0,i=t.length){if(this.text=t,this.to=i,this.curLine="",this.done=!1,this.value=lr,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new fr(t,e,n,r,i);this.re=new RegExp(e,ar+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=t.iter();let o=t.lineAt(r);this.curLineStart=o.from,this.matchPos=dr(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=dr(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const ur=new WeakMap;class hr{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=ur.get(t);if(!r||r.from>=n||r.to<=e){let r=new hr(e,t.sliceString(e,n));return ur.set(t,r),r}if(r.from==e&&r.to==n)return r;let{text:i,from:o}=r;return o>e&&(i=t.sliceString(e,o)+i,o=e),r.to<n&&(i+=t.sliceString(r.to,n)),ur.set(t,new hr(o,i)),new hr(e,i.slice(e-o,n-o))}}class fr{constructor(t,e,n,r,i){this.text=t,this.to=i,this.done=!1,this.value=lr,this.matchPos=dr(t,r),this.re=new RegExp(e,ar+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=hr.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=dr(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=hr.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function dr(t,e){if(e>=t.length)return e;let n,r=t.lineAt(e);for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function pr(t){let e=rr("input",{class:"cm-textfield",name:"line",value:String(t.state.doc.lineAt(t.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!n)return;let{state:o}=t,s=o.doc.lineAt(o.selection.main.head),[,l,a,c,u]=n,h=c?+c.slice(1):0,f=a?+a:s.number;if(a&&u){let t=f/100;l&&(t=t*("-"==l?-1:1)+s.number/o.doc.lines),f=Math.round(o.doc.lines*t)}else a&&l&&(f=f*("-"==l?-1:1)+s.number);let d=o.doc.line(Math.max(1,Math.min(o.doc.lines,f))),p=i.jT.cursor(d.from+Math.max(0,Math.min(h,d.length)));t.dispatch({effects:[gr.of(!1),r.tk.scrollIntoView(p.from,{y:"center"})],selection:p}),t.focus()}return{dom:rr("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:gr.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),n())},onsubmit:t=>{t.preventDefault(),n()}},rr("label",t.state.phrase("Go to line"),": ",e)," ",rr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")))}}"undefined"!=typeof Symbol&&(cr.prototype[Symbol.iterator]=fr.prototype[Symbol.iterator]=function(){return this});const gr=i.Py.define(),mr=i.QQ.define({create:()=>!0,update(t,e){for(let n of e.effects)n.is(gr)&&(t=n.value);return t},provide:t=>r.mH.from(t,(t=>t?pr:null))}),vr=r.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),yr={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},wr=i.r$.define({combine:t=>(0,i.BO)(t,yr,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function br(t){let e=[Mr,Cr];return t&&e.push(wr.of(t)),e}const xr=r.p.mark({class:"cm-selectionMatch"}),kr=r.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Sr(t,e,n,r){return!(0!=n&&t(e.sliceDoc(n-1,n))==i.D0.Word||r!=e.doc.length&&t(e.sliceDoc(r,r+1))==i.D0.Word)}const Cr=r.lg.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(wr),{state:n}=t,o=n.selection;if(o.ranges.length>1)return r.p.none;let s,l=o.main,a=null;if(l.empty){if(!e.highlightWordAroundCursor)return r.p.none;let t=n.wordAt(l.head);if(!t)return r.p.none;a=n.charCategorizer(l.head),s=n.sliceDoc(t.from,t.to)}else{let t=l.to-l.from;if(t<e.minSelectionLength||t>200)return r.p.none;if(e.wholeWords){if(s=n.sliceDoc(l.from,l.to),a=n.charCategorizer(l.head),!Sr(a,n,l.from,l.to)||!function(t,e,n,r){return t(e.sliceDoc(n,n+1))==i.D0.Word&&t(e.sliceDoc(r-1,r))==i.D0.Word}(a,n,l.from,l.to))return r.p.none}else if(s=n.sliceDoc(l.from,l.to),!s)return r.p.none}let c=[];for(let i of t.visibleRanges){let t=new sr(n.doc,s,i.from,i.to);for(;!t.next().done;){let{from:i,to:o}=t.value;if((!a||Sr(a,n,i,o))&&(l.empty&&i<=l.from&&o>=l.to?c.push(kr.range(i,o)):(i>=l.to||o<=l.from)&&c.push(xr.range(i,o)),c.length>e.maxMatches))return r.p.none}}return r.p.set(c)}},{decorations:t=>t.decorations}),Mr=r.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Er=i.r$.define({combine:t=>(0,i.BO)(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new ei(t),scrollToMatch:t=>r.tk.scrollIntoView(t)})});class Ar{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,ar),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new Rr(this):new Dr(this)}getCursor(t,e=0,n){let r=t.doc?t:i.yy.create({doc:t});return null==n&&(n=r.doc.length),this.regexp?Pr(this,r,e,n):Tr(this,r,e,n)}}class Or{constructor(t){this.spec=t}}function Tr(t,e,n,r){return new sr(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?(o=e.doc,s=e.charCategorizer(e.selection.main.head),(t,e,n,r)=>((r>t||r+n.length<e)&&(r=Math.max(0,t-2),n=o.sliceString(r,Math.min(o.length,e+2))),!(s(_r(n,t-r))==i.D0.Word&&s(Lr(n,t-r))==i.D0.Word||s(Lr(n,e-r))==i.D0.Word&&s(_r(n,e-r))==i.D0.Word))):void 0);var o,s}class Dr extends Or{constructor(t){super(t)}nextMatch(t,e,n){let r=Tr(this.spec,t,n,t.doc.length).nextOverlapping();return r.done&&(r=Tr(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let n=Math.max(e,r-1e4-this.spec.unquoted.length),i=Tr(this.spec,t,n,r),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(n==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=Tr(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Tr(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function Pr(t,e,n,r){return new cr(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?(o=e.charCategorizer(e.selection.main.head),(t,e,n)=>!n[0].length||(o(_r(n.input,n.index))!=i.D0.Word||o(Lr(n.input,n.index))!=i.D0.Word)&&(o(Lr(n.input,n.index+n[0].length))!=i.D0.Word||o(_r(n.input,n.index+n[0].length))!=i.D0.Word)):void 0},n,r);var o}function _r(t,e){return t.slice((0,i.cp)(t,e,!1),e)}function Lr(t,e){return t.slice(e,(0,i.cp)(t,e))}class Rr extends Or{nextMatch(t,e,n){let r=Pr(this.spec,t,n,t.doc.length).next();return r.done&&(r=Pr(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let i=Math.max(e,n-1e4*r),o=Pr(this.spec,t,i,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(i==e||s.from>i+10))return s;if(i==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e))}matchAll(t,e){let n=Pr(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let i=Pr(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}const Nr=i.Py.define(),Ir=i.Py.define(),Br=i.QQ.define({create:t=>new Fr(Qr(t).create(),null),update(t,e){for(let n of e.effects)n.is(Nr)?t=new Fr(n.value.create(),t.panel):n.is(Ir)&&(t=new Fr(t.query,n.value?Gr:null));return t},provide:t=>r.mH.from(t,(t=>t.panel))});class Fr{constructor(t,e){this.query=t,this.panel=e}}const zr=r.p.mark({class:"cm-searchMatch"}),jr=r.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Vr=r.lg.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Br))}update(t){let e=t.state.field(Br);(e!=t.startState.field(Br)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return r.p.none;let{view:n}=this,o=new i.f_;for(let e=0,r=n.visibleRanges,i=r.length;e<i;e++){let{from:s,to:l}=r[e];for(;e<i-1&&l>r[e+1].from-500;)l=r[++e].to;t.highlight(n.state,s,l,((t,e)=>{let r=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));o.add(t,e,r?jr:zr)}))}return o.finish()}},{decorations:t=>t.decorations});function Wr(t){return e=>{let n=e.state.field(Br,!1);return n&&n.query.spec.valid?t(e,n):Jr(e)}}const Hr=Wr(((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let o=i.jT.single(r.from,r.to),s=t.state.facet(Er);return t.dispatch({selection:o,effects:[ii(t,r),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),Xr(t),!0})),Ur=Wr(((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,o=e.prevMatch(n,r,r);if(!o)return!1;let s=i.jT.single(o.from,o.to),l=t.state.facet(Er);return t.dispatch({selection:s,effects:[ii(t,o),l.scrollToMatch(s.main,t)],userEvent:"select.search"}),Xr(t),!0})),$r=Wr(((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!(!n||!n.length||(t.dispatch({selection:i.jT.create(n.map((t=>i.jT.range(t.from,t.to)))),userEvent:"select.search.matches"}),0))})),qr=Wr(((t,{query:e})=>{let{state:n}=t,{from:o,to:s}=n.selection.main;if(n.readOnly)return!1;let l=e.nextMatch(n,o,o);if(!l)return!1;let a,c,u=[],h=[];if(l.from==o&&l.to==s&&(c=n.toText(e.getReplacement(l)),u.push({from:l.from,to:l.to,insert:c}),l=e.nextMatch(n,l.from,l.to),h.push(r.tk.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(o).number)+"."))),l){let e=0==u.length||u[0].from>=l.to?0:l.to-l.from-c.length;a=i.jT.single(l.from-e,l.to-e),h.push(ii(t,l)),h.push(n.facet(Er).scrollToMatch(a.main,t))}return t.dispatch({changes:u,selection:a,effects:h,userEvent:"input.replace"}),!0})),Kr=Wr(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map((t=>{let{from:n,to:r}=t;return{from:n,to:r,insert:e.getReplacement(t)}}));if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:r.tk.announce.of(i),userEvent:"input.replace.all"}),!0}));function Gr(t){return t.state.facet(Er).createPanel(t)}function Qr(t,e){var n,r,i,o,s;let l=t.selection.main,a=l.empty||l.to>l.from+100?"":t.sliceDoc(l.from,l.to);if(e&&!a)return e;let c=t.facet(Er);return new Ar({search:(null!==(n=null==e?void 0:e.literal)&&void 0!==n?n:c.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==e?void 0:e.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(i=null==e?void 0:e.literal)&&void 0!==i?i:c.literal,regexp:null!==(o=null==e?void 0:e.regexp)&&void 0!==o?o:c.regexp,wholeWord:null!==(s=null==e?void 0:e.wholeWord)&&void 0!==s?s:c.wholeWord})}function Yr(t){let e=(0,r.Sd)(t,Gr);return e&&e.dom.querySelector("[main-field]")}function Xr(t){let e=Yr(t);e&&e==t.root.activeElement&&e.select()}const Jr=t=>{let e=t.state.field(Br,!1);if(e&&e.panel){let n=Yr(t);if(n&&n!=t.root.activeElement){let r=Qr(t.state,e.query.spec);r.valid&&t.dispatch({effects:Nr.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[Ir.of(!0),e?Nr.of(Qr(t.state,e.query.spec)):i.Py.appendConfig.of(si)]});return!0},Zr=t=>{let e=t.state.field(Br,!1);if(!e||!e.panel)return!1;let n=(0,r.Sd)(t,Gr);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:Ir.of(!1)}),!0},ti=[{key:"Mod-f",run:Jr,scope:"editor search-panel"},{key:"F3",run:Hr,shift:Ur,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Hr,shift:Ur,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Zr,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,s=[],l=0;for(let e=new sr(t.doc,t.sliceDoc(r,o));!e.next().done;){if(s.length>1e3)return!1;e.value.from==r&&(l=s.length),s.push(i.jT.range(e.value.from,e.value.to))}return e(t.update({selection:i.jT.create(s,l),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:t=>{let e=(0,r.Sd)(t,pr);if(!e){let n=[gr.of(!0)];null==t.state.field(mr,!1)&&n.push(i.Py.appendConfig.of([mr,vr])),t.dispatch({effects:n}),e=(0,r.Sd)(t,pr)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return(({state:t,dispatch:e})=>{let{selection:n}=t,r=i.jT.create(n.ranges.map((e=>t.wordAt(e.head)||i.jT.cursor(e.head))),n.mainIndex);return!r.eq(n)&&(e(t.update({selection:r})),!0)})({state:t,dispatch:e});let o=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=o)))return!1;let s=function(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new sr(t.doc,e,r[r.length-1].to);;){if(i.next(),!i.done){if(n&&r.some((t=>t.from==i.value.from)))continue;if(o){let e=t.wordAt(i.value.from);if(!e||e.from!=i.value.from||e.to!=i.value.to)continue}return i.value}if(n)return null;i=new sr(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(t,o);return!!s&&(e(t.update({selection:t.selection.addRange(i.jT.range(s.from,s.to),!1),effects:r.tk.scrollIntoView(s.to)})),!0)},preventDefault:!0}];class ei{constructor(t){this.view=t;let e=this.query=t.state.field(Br).query.spec;function n(t,e,n){return rr("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=rr("input",{value:e.search,placeholder:ni(t,"Find"),"aria-label":ni(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=rr("input",{value:e.replace,placeholder:ni(t,"Replace"),"aria-label":ni(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=rr("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=rr("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=rr("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=rr("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>Hr(t)),[ni(t,"next")]),n("prev",(()=>Ur(t)),[ni(t,"previous")]),n("select",(()=>$r(t)),[ni(t,"all")]),rr("label",null,[this.caseField,ni(t,"match case")]),rr("label",null,[this.reField,ni(t,"regexp")]),rr("label",null,[this.wordField,ni(t,"by word")]),...t.state.readOnly?[]:[rr("br"),this.replaceField,n("replace",(()=>qr(t)),[ni(t,"replace")]),n("replaceAll",(()=>Kr(t)),[ni(t,"replace all")])],rr("button",{name:"close",onclick:()=>Zr(t),"aria-label":ni(t,"close"),type:"button"},["×"])])}commit(){let t=new Ar({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Nr.of(t)}))}keydown(t){(0,r.$1)(this.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Ur:Hr)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),qr(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(Nr)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Er).top}}function ni(t,e){return t.state.phrase(e)}const ri=/[\s\.,:;?!]/;function ii(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),o=t.state.doc.lineAt(n).to,s=Math.max(i.from,e-30),l=Math.min(o,n+30),a=t.state.sliceDoc(s,l);if(s!=i.from)for(let t=0;t<30;t++)if(!ri.test(a[t+1])&&ri.test(a[t])){a=a.slice(t);break}if(l!=o)for(let t=a.length-1;t>a.length-30;t--)if(!ri.test(a[t-1])&&ri.test(a[t])){a=a.slice(0,t);break}return r.tk.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${i.number}.`)}const oi=r.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),si=[Br,i.Wl.low(Vr),oi];class li{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=dt(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),i=r.search(hi(t,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function ai(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}class ci{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function ui(t){return t.selection.main.from}function hi(t,e){var n;let{source:r}=t,i=e&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,null!==(n=t.flags)&&void 0!==n?n:t.ignoreCase?"i":""):t}const fi=i.q6.define(),di=new WeakMap;function pi(t){if(!Array.isArray(t))return t;let e=di.get(t);return e||di.set(t,e=function(t){let e=t.map((t=>"string"==typeof t?{label:t}:t)),[n,r]=e.every((t=>/^\w+$/.test(t.label)))?[/\w*$/,/\w+$/]:function(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let t=1;t<r.length;t++)n[r[t]]=!0}let r=ai(e)+ai(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}(e);return t=>{let i=t.matchBefore(r);return i||t.explicit?{from:i?i.from:t.pos,options:e,validFor:n}:null}}(t)),e}const gi=i.Py.define(),mi=i.Py.define();class vi{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=(0,i.gm)(t,e),r=(0,i.nZ)(n);this.chars.push(n);let o=t.slice(e,e+r),s=o.toUpperCase();this.folded.push((0,i.gm)(s==o?o.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:n,any:r,precise:o,byWord:s}=this;if(1==e.length){let r=(0,i.gm)(t,0),o=(0,i.nZ)(r),s=o==t.length?0:-100;if(r==e[0]);else{if(r!=n[0])return null;s+=-200}return this.ret(s,[0,o])}let l=t.indexOf(this.pattern);if(0==l)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=e.length,c=0;if(l<0){for(let o=0,s=Math.min(t.length,200);o<s&&c<a;){let s=(0,i.gm)(t,o);s!=e[c]&&s!=n[c]||(r[c++]=o),o+=(0,i.nZ)(s)}if(c<a)return null}let u=0,h=0,f=!1,d=0,p=-1,g=-1,m=/[a-z]/.test(t),v=!0;for(let r=0,c=Math.min(t.length,200),y=0;r<c&&h<a;){let c=(0,i.gm)(t,r);l<0&&(u<a&&c==e[u]&&(o[u++]=r),d<a&&(c==e[d]||c==n[d]?(0==d&&(p=r),g=r+1,d++):d=0));let w,b=c<255?c>=48&&c<=57||c>=97&&c<=122?2:c>=65&&c<=90?1:0:(w=(0,i.bg)(c))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!r||1==b&&m||0==y&&0!=b)&&(e[h]==c||n[h]==c&&(f=!0)?s[h++]=r:s.length&&(v=!1)),y=b,r+=(0,i.nZ)(c)}return h==a&&0==s[0]&&v?this.result((f?-200:0)-100,s,t):d==a&&0==p?this.ret(-200-t.length+(g==t.length?0:-100),[0,g]):l>-1?this.ret(-700-t.length,[l,l+this.pattern.length]):d==a?this.ret(-900-t.length,[p,g]):h==a?this.result((f?-200:0)-100-700+(v?0:-1100),s,t):2==e.length?null:this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[],o=0;for(let t of e){let e=t+(this.astral?(0,i.nZ)((0,i.gm)(n,t)):1);o&&r[o-1]==t?r[o-1]=e:(r[o++]=t,r[o++]=e)}return this.ret(t-n.length,r)}}class yi{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),n=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,e.length],this.score=n+(t.length==this.pattern.length?0:-100),this)}}const wi=i.r$.define({combine:t=>(0,i.BO)(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:xi,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>bi(t(n),e(n)),optionClass:(t,e)=>n=>bi(t(n),e(n)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function bi(t,e){return t?e?t+" "+e:t:e}function xi(t,e,n,i,o,s){let l,a,c=t.textDirection==r.Nm.RTL,u=c,h=!1,f="top",d=e.left-o.left,p=o.right-e.right,g=i.right-i.left,m=i.bottom-i.top;if(u&&d<Math.min(g,p)?u=!1:!u&&p<Math.min(g,d)&&(u=!0),g<=(u?d:p))l=Math.max(o.top,Math.min(n.top,o.bottom-m))-e.top,a=Math.min(400,u?d:p);else{h=!0,a=Math.min(400,(c?e.right:o.right-e.left)-30);let t=o.bottom-e.bottom;t>=m||t>e.top?l=n.bottom-e.top:(f="bottom",l=e.bottom-n.top)}return{style:`${f}: ${l/((e.bottom-e.top)/s.offsetHeight)}px; max-width: ${a/((e.right-e.left)/s.offsetWidth)}px`,class:"cm-completionInfo-"+(h?c?"left-narrow":"right-narrow":u?"left":"right")}}function ki(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let t=Math.floor(e/n);return{from:t*n,to:(t+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Si{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:t=>this.placeInfo(t),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:i,selected:o}=r.open,s=t.state.facet(wi);this.optionContent=function(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(t){let e=document.createElement("div");return e.classList.add("cm-completionIcon"),t.type&&e.classList.add(...t.type.split(/\s+/g).map((t=>"cm-completionIcon-"+t))),e.setAttribute("aria-hidden","true"),e},position:20}),e.push({render(t,e,n,r){let i=document.createElement("span");i.className="cm-completionLabel";let o=t.displayLabel||t.label,s=0;for(let t=0;t<r.length;){let e=r[t++],n=r[t++];e>s&&i.appendChild(document.createTextNode(o.slice(s,e)));let l=i.appendChild(document.createElement("span"));l.appendChild(document.createTextNode(o.slice(e,n))),l.className="cm-completionMatchedText",s=n}return s<o.length&&i.appendChild(document.createTextNode(o.slice(s))),i},position:50},{render(t){if(!t.detail)return null;let e=document.createElement("span");return e.className="cm-completionDetail",e.textContent=t.detail,e},position:80}),e.sort(((t,e)=>t.position-e.position)).map((t=>t.render))}(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=ki(i.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(n=>{let{options:r}=t.state.field(e).open;for(let e,i=n.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(e=/-(\d+)$/.exec(i.id))&&+e[1]<r.length)return this.applyCompletion(t,r[+e[1]]),void n.preventDefault()})),this.dom.addEventListener("focusout",(e=>{let n=t.state.field(this.stateField,!1);n&&n.tooltip&&t.state.facet(wi).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:mi.of(null)})})),this.showOptions(i,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",(()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)}))}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:i,selected:o,disabled:s}=n.open;r.open&&r.open.options==i||(this.range=ki(i.length,o,t.state.facet(wi).maxRenderedOptions),this.showOptions(i,n.id)),this.updateSel(),s!=(null===(e=r.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let t of this.currentClass.split(" "))t&&this.dom.classList.remove(t);for(let t of e.split(" "))t&&this.dom.classList.add(t);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=ki(e.options.length,e.selected,this.view.state.facet(wi).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:i}=n;if(!i)return;let o="string"==typeof i?document.createTextNode(i):i(n);if(!o)return;"then"in o?o.then((e=>{e&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(e,n)})).catch((t=>(0,r.OO)(this.view.state,t,"completion info"))):this.addInfoPane(o,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:e,destroy:r}=t;n.appendChild(e),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return e&&function(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.space;if(!i){let t=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:t.innerWidth,bottom:t.innerHeight}}return r.top>Math.min(i.bottom,e.bottom)-10||r.bottom<Math.max(i.top,e.top)+10?null:this.view.state.facet(wi).positionInfo(this.view,e,r,n,i,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let i=null;for(let o=n.from;o<n.to;o++){let{completion:s,match:l}=t[o],{section:a}=s;if(a){let t="string"==typeof a?a:a.name;t!=i&&(o>n.from||0==n.from)&&(i=t,"string"!=typeof a&&a.header?r.appendChild(a.header(a)):r.appendChild(document.createElement("completion-section")).textContent=t)}const c=r.appendChild(document.createElement("li"));c.id=e+"-"+o,c.setAttribute("role","option");let u=this.optionClass(s);u&&(c.className=u);for(let t of this.optionContent){let e=t(s,this.view.state,this.view,l);e&&c.appendChild(e)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Ci(t,e){return n=>new Si(n,t,e)}function Mi(t){return 100*(t.boost||0)+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}class Ei{constructor(t,e,n,r,i,o){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=i,this.disabled=o}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new Ei(this.options,Ti(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,i){let o=function(t,e){let n=[],r=null,i=t=>{n.push(t);let{section:e}=t.completion;if(e){r||(r=[]);let t="string"==typeof e?e:e.name;r.some((e=>e.name==t))||r.push("string"==typeof e?{name:t}:e)}},o=e.facet(wi);for(let r of t)if(r.hasResult()){let t=r.result.getMatch;if(!1===r.result.filter)for(let e of r.result.options)i(new ci(e,r.source,t?t(e):[],1e9-n.length));else{let n,s=e.sliceDoc(r.from,r.to),l=o.filterStrict?new yi(s):new vi(s);for(let e of r.result.options)if(n=l.match(e.label)){let o=e.displayLabel?t?t(e,n.matched):[]:n.matched;i(new ci(e,r.source,o,n.score+(e.boost||0)))}}}if(r){let t=Object.create(null),e=0,i=(t,e)=>{var n,r;return(null!==(n=t.rank)&&void 0!==n?n:1e9)-(null!==(r=e.rank)&&void 0!==r?r:1e9)||(t.name<e.name?-1:1)};for(let n of r.sort(i))e-=1e5,t[n.name]=e;for(let e of n){let{section:n}=e.completion;n&&(e.score+=t["string"==typeof n?n:n.name])}}let s=[],l=null,a=o.compareCompletions;for(let t of n.sort(((t,e)=>e.score-t.score||a(t.completion,e.completion)))){let e=t.completion;!l||l.label!=e.label||l.detail!=e.detail||null!=l.type&&null!=e.type&&l.type!=e.type||l.apply!=e.apply||l.boost!=e.boost?s.push(t):Mi(t.completion)>Mi(l)&&(s[s.length-1]=t),l=t.completion}return s}(t,e);if(!o.length)return r&&t.some((t=>1==t.state))?new Ei(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let s=e.facet(wi).selectOnOpen?0:-1;if(r&&r.selected!=s&&-1!=r.selected){let t=r.options[r.selected].completion;for(let e=0;e<o.length;e++)if(o[e].completion==t){s=e;break}}return new Ei(o,Ti(n,s),{pos:t.reduce(((t,e)=>e.hasResult()?Math.min(t,e.from):t),1e8),create:Fi,above:i.aboveCursor},r?r.timestamp:Date.now(),s,!1)}map(t){return new Ei(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Ai{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new Ai(Di,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(wi),r=(n.override||e.languageDataAt("autocomplete",ui(e)).map(pi)).map((e=>(this.active.find((t=>t.source==e))||new _i(e,this.active.some((t=>0!=t.state))?1:0)).update(t,n)));r.length==this.active.length&&r.every(((t,e)=>t==this.active[e]))&&(r=this.active);let i=this.open;i&&t.docChanged&&(i=i.map(t.changes)),t.selection||r.some((e=>e.hasResult()&&t.changes.touchesRange(e.from,e.to)))||!function(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}(r,this.active)?i=Ei.build(r,e,this.id,i,n):i&&i.disabled&&!r.some((t=>1==t.state))&&(i=null),!i&&r.every((t=>1!=t.state))&&r.some((t=>t.hasResult()))&&(r=r.map((t=>t.hasResult()?new _i(t.source,0):t)));for(let e of t.effects)e.is(Ni)&&(i=i&&i.setSelected(e.value,this.id));return r==this.active&&i==this.open?this:new Ai(r,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Oi}}const Oi={"aria-autocomplete":"list"};function Ti(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Di=[];function Pi(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(fi);if(n&&e.activateOnCompletion(n))return"input"}return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class _i{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=Pi(t,e),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new _i(r.source,0));for(let e of t.effects)if(e.is(gi))r=new _i(r.source,1,e.value?ui(t.state):-1);else if(e.is(mi))r=new _i(r.source,0);else if(e.is(Ri))for(let t of e.value)t.source==r.source&&(r=t);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new _i(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(ui(t.startState))?new _i(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new _i(this.source,this.state,t.mapPos(this.explicitPos))}}class Li extends _i{constructor(t,e,n,r,i){super(t,2,e),this.result=n,this.from=r,this.to=i}hasResult(){return!0}handleUserEvent(t,e,n){var r;let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let o=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),l=ui(t.state);if((this.explicitPos<0?l<=o:l<this.from)||l>s||!i||"delete"==e&&ui(t.startState)==this.from)return new _i(this.source,"input"==e&&n.activateOnTyping?1:0);let a=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return"function"==typeof t?t(i,n,r,e):hi(t,!0).test(i)}(i.validFor,t.state,o,s)?new Li(this.source,a,i,o,s):i.update&&(i=i.update(i,o,s,new li(t.state,l,a>=0)))?new Li(this.source,a,i,i.from,null!==(r=i.to)&&void 0!==r?r:ui(t.state)):new _i(this.source,1,a)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new _i(this.source,0):this.map(t.changes)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Li(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new _i(this.source,0)}}const Ri=i.Py.define({map:(t,e)=>t.map((t=>t.map(e)))}),Ni=i.Py.define(),Ii=i.QQ.define({create:()=>Ai.start(),update:(t,e)=>t.update(e),provide:t=>[r.hJ.from(t,(t=>t.tooltip)),r.tk.contentAttributes.from(t,(t=>t.attrs))]});function Bi(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Ii).active.find((t=>t.source==e.source));return r instanceof Li&&("string"==typeof n?t.dispatch(Object.assign(Object.assign({},function(t,e,n,r){let{main:o}=t.selection,s=n-o.from,l=r-o.from;return Object.assign(Object.assign({},t.changeByRange((a=>a!=o&&n!=r&&t.sliceDoc(a.from+s,a.from+l)!=t.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+s,to:r==o.from?a.to:a.from+l,insert:e},range:i.jT.cursor(a.from+s+e.length)}))),{scrollIntoView:!0,userEvent:"input.complete"})}(t.state,n,r.from,r.to)),{annotations:fi.of(e.completion)})):n(t,e.completion,r.from,r.to),!0)}const Fi=Ci(Ii,Bi);function zi(t,e="option"){return n=>{let i=n.state.field(Ii,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(wi).interactionDelay)return!1;let o,s=1;"page"==e&&(o=(0,r.gB)(n,i.open.tooltip))&&(s=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:l}=i.open.options,a=i.open.selected>-1?i.open.selected+s*(t?1:-1):t?0:l-1;return a<0?a="page"==e?0:l-1:a>=l&&(a="page"==e?l-1:0),n.dispatch({effects:Ni.of(a)}),!0}}class ji{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const Vi=r.lg.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Ii).active)1==e.state&&this.startQuery(e)}update(t){let e=t.state.field(Ii),n=t.state.facet(wi);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ii)==e)return;let i=t.transactions.some((t=>(t.selection||t.docChanged)&&!Pi(t,n)));for(let e=0;e<this.running.length;e++){let n=this.running[e];if(i||n.updates.length+t.transactions.length>50&&Date.now()-n.time>1e3){for(let t of n.context.abortListeners)try{t()}catch(t){(0,r.OO)(this.view.state,t)}n.context.abortListeners=null,this.running.splice(e--,1)}else n.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some((t=>t.effects.some((t=>t.is(gi)))))&&(this.pendingStart=!0);let o=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some((t=>1==t.state&&!this.running.some((e=>e.active.source==t.source))))?setTimeout((()=>this.startUpdate()),o):-1,0!=this.composing)for(let e of t.transactions)"input"==Pi(e,n)?this.composing=2:2==this.composing&&e.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Ii);for(let t of e.active)1!=t.state||this.running.some((e=>e.active.source==t.source))||this.startQuery(t)}startQuery(t){let{state:e}=this.view,n=ui(e),i=new li(e,n,t.explicitPos==n),o=new ji(t,i);this.running.push(o),Promise.resolve(t.source(i)).then((t=>{o.context.aborted||(o.done=t||null,this.scheduleAccept())}),(t=>{this.view.dispatch({effects:mi.of(null)}),(0,r.OO)(this.view.state,t)}))}scheduleAccept(){this.running.every((t=>void 0!==t.done))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((()=>this.accept()),this.view.state.facet(wi).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(wi);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(void 0===i.done)continue;if(this.running.splice(r--,1),i.done){let r=new Li(i.active.source,i.active.explicitPos,i.done,i.done.from,null!==(t=i.done.to)&&void 0!==t?t:ui(i.updates.length?i.updates[0].startState:this.view.state));for(let t of i.updates)r=r.update(t,n);if(r.hasResult()){e.push(r);continue}}let o=this.view.state.field(Ii).active.find((t=>t.source==i.active.source));if(o&&1==o.state)if(null==i.done){let t=new _i(i.active.source,0);for(let e of i.updates)t=t.update(e,n);1!=t.state&&e.push(t)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:Ri.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Ii,!1);if(e&&e.tooltip&&this.view.state.facet(wi).closeOnBlur){let n=e.open&&(0,r.gB)(this.view,e.open.tooltip);n&&n.dom.contains(t.relatedTarget)||setTimeout((()=>this.view.dispatch({effects:mi.of(null)})),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout((()=>this.view.dispatch({effects:gi.of(!1)})),20),this.composing=0}}}),Wi="object"==typeof navigator&&/Win/.test(navigator.platform),Hi=i.Wl.highest(r.tk.domEventHandlers({keydown(t,e){let n=e.state.field(Ii,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&(!Wi||!t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find((t=>t.source==r.source)),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&Bi(e,r),!1}})),Ui=r.tk.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),$i={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},qi=i.Py.define({map(t,e){let n=e.mapPos(t,-1,i.gc.TrackAfter);return null==n?void 0:n}}),Ki=new class extends i.uU{};Ki.startSide=1,Ki.endSide=-1;const Gi=i.QQ.define({create:()=>i.Xs.empty,update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:t=>t>=n.from&&t<=n.to})}for(let n of e.effects)n.is(qi)&&(t=t.update({add:[Ki.range(n.value,n.value+1)]}));return t}}),Qi="()[]{}<>";function Yi(t){for(let e=0;e<Qi.length;e+=2)if(Qi.charCodeAt(e)==t)return Qi.charAt(e+1);return(0,i.bg)(t<128?t:t+1)}function Xi(t,e){return t.languageDataAt("closeBrackets",e)[0]||$i}const Ji="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),Zi=r.tk.inputHandler.of(((t,e,n,r)=>{if((Ji?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let o=t.state.selection.main;if(r.length>2||2==r.length&&1==(0,i.nZ)((0,i.gm)(r,0))||e!=o.from||n!=o.to)return!1;let s=function(t,e){let n=Xi(t,t.selection.main.head),r=n.brackets||$i.brackets;for(let o of r){let s=Yi((0,i.gm)(o,0));if(e==o)return s==o?oo(t,o,r.indexOf(o+o+o)>-1,n):ro(t,o,s,n.before||$i.before);if(e==s&&eo(t,t.selection.main.from))return io(t,0,s)}return null}(t.state,r);return!!s&&(t.dispatch(s),!0)})),to=[{key:"Backspace",run:({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Xi(t,t.selection.main.head).brackets||$i.brackets,r=null,o=t.changeByRange((e=>{if(e.empty){let r=function(t,e){let n=t.sliceString(e-2,e);return(0,i.nZ)((0,i.gm)(n,0))==n.length?n:n.slice(1)}(t.doc,e.head);for(let o of n)if(o==r&&no(t.doc,e.head)==Yi((0,i.gm)(o,0)))return{changes:{from:e.head-o.length,to:e.head+o.length},range:i.jT.cursor(e.head-o.length)}}return{range:r=e}}));return r||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function eo(t,e){let n=!1;return t.field(Gi).between(0,t.doc.length,(t=>{t==e&&(n=!0)})),n}function no(t,e){let n=t.sliceString(e,e+2);return n.slice(0,(0,i.nZ)((0,i.gm)(n,0)))}function ro(t,e,n,r){let o=null,s=t.changeByRange((s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:qi.of(s.to+e.length),range:i.jT.range(s.anchor+e.length,s.head+e.length)};let l=no(t.doc,s.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+n,from:s.head},effects:qi.of(s.head+e.length),range:i.jT.cursor(s.head+e.length)}:{range:o=s}}));return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function io(t,e,n){let r=null,o=t.changeByRange((e=>e.empty&&no(t.doc,e.head)==n?{changes:{from:e.head,to:e.head+n.length,insert:n},range:i.jT.cursor(e.head+n.length)}:r={range:e}));return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function oo(t,e,n,r){let o=r.stringPrefixes||$i.stringPrefixes,s=null,l=t.changeByRange((r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:e,from:r.to}],effects:qi.of(r.to+e.length),range:i.jT.range(r.anchor+e.length,r.head+e.length)};let l,a=r.head,c=no(t.doc,a);if(c==e){if(so(t,a))return{changes:{insert:e+e,from:a},effects:qi.of(a+e.length),range:i.jT.cursor(a+e.length)};if(eo(t,a)){let r=n&&t.sliceDoc(a,a+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+r.length,insert:r},range:i.jT.cursor(a+r.length)}}}else{if(n&&t.sliceDoc(a-2*e.length,a)==e+e&&(l=lo(t,a-2*e.length,o))>-1&&so(t,l))return{changes:{insert:e+e+e+e,from:a},effects:qi.of(a+e.length),range:i.jT.cursor(a+e.length)};if(t.charCategorizer(a)(c)!=i.D0.Word&&lo(t,a,o)>-1&&!function(t,e,n,r){let i=dt(t).resolveInner(e,-1),o=r.reduce(((t,e)=>Math.max(t,e.length)),0);for(let s=0;s<5;s++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){let e=i.firstChild;for(;e&&e.from==i.from&&e.to-e.from>n.length+l;){if(t.sliceDoc(e.to-n.length,e.to)==n)return!1;e=e.firstChild}return!0}let a=i.to==e&&i.parent;if(!a)break;i=a}return!1}(t,a,e,o))return{changes:{insert:e+e,from:a},effects:qi.of(a+e.length),range:i.jT.cursor(a+e.length)}}return{range:s=r}}));return s?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function so(t,e){let n=dt(t).resolveInner(e+1);return n.parent&&n.from==e}function lo(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=i.D0.Word)return e;for(let o of n){let n=e-o.length;if(t.sliceDoc(n,e)==o&&r(t.sliceDoc(n-1,n))!=i.D0.Word)return n}return-1}function ao(t={}){return[Hi,Ii,wi.of(t),Vi,uo,Ui]}const co=[{key:"Ctrl-Space",run:t=>!!t.state.field(Ii,!1)&&(t.dispatch({effects:gi.of(!0)}),!0)},{key:"Escape",run:t=>{let e=t.state.field(Ii,!1);return!(!e||!e.active.some((t=>0!=t.state))||(t.dispatch({effects:mi.of(null)}),0))}},{key:"ArrowDown",run:zi(!0)},{key:"ArrowUp",run:zi(!1)},{key:"PageDown",run:zi(!0,"page")},{key:"PageUp",run:zi(!1,"page")},{key:"Enter",run:t=>{let e=t.state.field(Ii,!1);return!(t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(wi).interactionDelay)&&Bi(t,e.open.options[e.open.selected])}}],uo=i.Wl.highest(r.$f.computeN([wi],(t=>t.facet(wi).defaultKeymap?[co]:[])));class ho{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class fo{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let i=t,o=n.facet(Co).markerFilter;o&&(i=o(i,n));let s=r.p.set(i.map((t=>t.from==t.to||t.from==t.to-1&&n.doc.lineAt(t.from).to==t.from?r.p.widget({widget:new Ao(t),diagnostic:t}).range(t.from):r.p.mark({attributes:{class:"cm-lintRange cm-lintRange-"+t.severity+(t.markClass?" "+t.markClass:"")},diagnostic:t,inclusive:!0}).range(t.from,t.to))),!0);return new fo(s,e,po(s))}}function po(t,e=null,n=0){let r=null;return t.between(n,1e9,((t,n,{spec:i})=>{if(!e||i.diagnostic==e)return r=new ho(t,n,i.diagnostic),!1})),r}const go=i.Py.define(),mo=i.Py.define(),vo=i.Py.define(),yo=i.QQ.define({create:()=>new fo(r.p.none,null,null),update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=po(n,t.selected.diagnostic,i)||po(n,null,i)}!n.size&&i&&e.state.facet(Co).autoPanel&&(i=null),t=new fo(n,i,r)}for(let n of e.effects)if(n.is(go)){let r=e.state.facet(Co).autoPanel?n.value.length?To.open:null:t.panel;t=fo.init(n.value,r,e.state)}else n.is(mo)?t=new fo(t.diagnostics,n.value?To.open:null,t.selected):n.is(vo)&&(t=new fo(t.diagnostics,t.panel,n.value));return t},provide:t=>[r.mH.from(t,(t=>t.panel)),r.tk.decorations.from(t,(t=>t.diagnostics))]}),wo=r.p.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function bo(t,e,n){let{diagnostics:r}=t.state.field(yo),i=[],o=2e8,s=0;r.between(e-(n<0?1:0),e+(n>0?1:0),((t,r,{spec:l})=>{e>=t&&e<=r&&(t==r||(e>t||n>0)&&(e<r||n<0))&&(i.push(l.diagnostic),o=Math.min(t,o),s=Math.max(r,s))}));let l=t.state.facet(Co).tooltipFilter;return l&&(i=l(i,t.state)),i.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create:()=>({dom:xo(t,i)})}:null}function xo(t,e){return rr("ul",{class:"cm-tooltip-lint"},e.map((e=>Eo(t,e,!1))))}const ko=t=>{let e=t.state.field(yo,!1);return!(!e||!e.panel||(t.dispatch({effects:mo.of(!1)}),0))},So=[{key:"Mod-Shift-m",run:t=>{let e=t.state.field(yo,!1);var n,o;e&&e.panel||t.dispatch({effects:(n=t.state,o=[mo.of(!0)],n.field(yo,!1)?o:o.concat(i.Py.appendConfig.of(_o)))});let s=(0,r.Sd)(t,To.open);return s&&s.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:t=>{let e=t.state.field(yo,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)||(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],Co=i.r$.define({combine:t=>Object.assign({sources:t.map((t=>t.source)).filter((t=>null!=t))},(0,i.BO)(t.map((t=>t.config)),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function Mo(t){let e=[];if(t)t:for(let{name:n}of t){for(let t=0;t<n.length;t++){let r=n[t];if(/[a-zA-Z]/.test(r)&&!e.some((t=>t.toLowerCase()==r.toLowerCase()))){e.push(r);continue t}}e.push("")}return e}function Eo(t,e,n){var r;let i=n?Mo(e.actions):[];return rr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},rr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),null===(r=e.actions)||void 0===r?void 0:r.map(((n,r)=>{let o=!1,s=r=>{if(r.preventDefault(),o)return;o=!0;let i=po(t.state.field(yo).diagnostics,e);i&&n.apply(t,i.from,i.to)},{name:l}=n,a=i[r]?l.indexOf(i[r]):-1,c=a<0?l:[l.slice(0,a),rr("u",l.slice(a,a+1)),l.slice(a+1)];return rr("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":` Action: ${l}${a<0?"":` (access key "${i[r]})"`}.`},c)})),e.source&&rr("div",{class:"cm-diagnosticSource"},e.source))}class Ao extends r.l9{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return rr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Oo{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Eo(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class To{constructor(t){this.view=t,this.items=[],this.list=rr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(27==e.keyCode)ko(this.view),this.view.focus();else if(38==e.keyCode||33==e.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==e.keyCode||34==e.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==e.keyCode)this.moveSelection(0);else if(35==e.keyCode)this.moveSelection(this.items.length-1);else if(13==e.keyCode)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:n}=this.items[this.selectedIndex],r=Mo(n.actions);for(let i=0;i<r.length;i++)if(r[i].toUpperCase().charCodeAt(0)==e.keyCode){let e=po(this.view.state.field(yo).diagnostics,n);e&&n.actions[i].apply(t,e.from,e.to)}}}e.preventDefault()},onclick:t=>{for(let e=0;e<this.items.length;e++)this.items[e].dom.contains(t.target)&&this.moveSelection(e)}}),this.dom=rr("div",{class:"cm-panel-lint"},this.list,rr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ko(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(yo).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(yo),n=0,r=!1,i=null;for(t.between(0,this.view.state.doc.length,((t,o,{spec:s})=>{let l,a=-1;for(let t=n;t<this.items.length;t++)if(this.items[t].diagnostic==s.diagnostic){a=t;break}a<0?(l=new Oo(this.view,s.diagnostic),this.items.splice(n,0,l),r=!0):(l=this.items[a],a>n&&(this.items.splice(n,a-n),r=!0)),e&&l.diagnostic==e.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),i=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),n++}));n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new Oo(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:t,panel:e})=>{let n=e.height/this.list.offsetHeight;t.top<e.top?this.list.scrollTop-=(e.top-t.top)/n:t.bottom>e.bottom&&(this.list.scrollTop+=(t.bottom-e.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let e=t;t=e.nextSibling,e.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=po(this.view.state.field(yo).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:vo.of(e)})}static open(t){return new To(t)}}function Do(t){return function(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Po=r.tk.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Do("#d11")},".cm-lintRange-warning":{backgroundImage:Do("orange")},".cm-lintRange-info":{backgroundImage:Do("#999")},".cm-lintRange-hint":{backgroundImage:Do("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});r.SJ;const _o=[yo,r.tk.decorations.compute([yo],(t=>{let{selected:e,panel:n}=t.field(yo);return e&&n&&e.from!=e.to?r.p.set([wo.range(e.from,e.to)]):r.p.none})),(0,r.bF)(bo,{hideOn:function(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(Co).hideOn(t,n,r);if(null!=i)return i;let o=t.startState.doc.lineAt(e.pos);return!(!t.effects.some((t=>t.is(go)))&&!t.changes.touchesRange(o.from,Math.max(o.to,r)))}}),Po],Lo=(()=>[(0,r.Eu)(),(0,r.HQ)(),(0,r.AE)(),$e(),re(),(0,r.Uw)(),(0,r.qr)(),i.yy.allowMultipleSelections.of(!0),i.yy.transactionFilter.of((t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+200)return t;let o=n.sliceString(i.from,r);if(!e.some((t=>t.test(o))))return t;let{state:s}=t,l=-1,a=[];for(let{head:t}of s.selection.ranges){let e=s.doc.lineAt(t);if(e.from==l)continue;l=e.from;let n=At(s,e.from);if(null==n)continue;let r=/^\s*/.exec(e.text)[0],i=Et(s,n);r!=i&&a.push({from:e.from,to:e.from+r.length,insert:i})}return a.length?[t,{changes:a,sequential:!0}]:t})),ce(fe,{fallback:!0}),be(),[Zi,Gi],ao(),(0,r.Zs)(),(0,r.S2)(),(0,r.ZO)(),br(),r.$f.of([...to,...nr,...ti,...an,...Gt,...co,...So])])()},8699:(t,e,n)=>{"use strict";n.d(e,{V:()=>s});const r="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),i="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class s{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(t){return/^@/.test(t)?[t]:t.split(/,\s*/)}function i(t,e,o,s){let l=[],a=/^@(\w+)\b/.exec(t[0]),c=a&&"keyframes"==a[1];if(a&&null==e)return o.push(t[0]+";");for(let n in e){let s=e[n];if(/&/.test(n))i(n.split(/,\s*/).map((e=>t.map((t=>e.replace(/&/,t))))).reduce(((t,e)=>t.concat(e))),s,o);else if(s&&"object"==typeof s){if(!a)throw new RangeError("The value of a property ("+n+") should be a primitive value.");i(r(n),s,l,c)}else null!=s&&l.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))+": "+s+";")}(l.length||c)&&o.push((!n||a||s?t:t.map(n)).join(", ")+" {"+l.join(" ")+"}")}for(let e in t)i(r(e),t[e],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=o[r]||1;return o[r]=t+1,"ͼ"+t.toString(36)}static mount(t,e,n){let r=t[i],o=n&&n.nonce;r?o&&r.setNonce(o):r=new a(t,o),r.mount(Array.isArray(e)?e:[e],t)}}let l=new Map;class a{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let e=l.get(n);if(e)return t[i]=e;this.sheet=new r.CSSStyleSheet,l.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[i]=this}mount(t,e){let n=this.sheet,r=0,i=0;for(let e=0;e<t.length;e++){let o=t[e],s=this.modules.indexOf(o);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),-1==s){if(this.modules.splice(i++,0,o),n)for(let t=0;t<o.rules.length;t++)n.insertRule(o.rules[t],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=o.rules.length,i++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let t="";for(let e=0;e<this.modules.length;e++)t+=this.modules[e].getRules()+"\n";this.styleTag.textContent=t;let n=e.head||e;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}}}]);